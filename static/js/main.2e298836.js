/*! For license information please see main.2e298836.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)_.call(t,a)&&!k.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===o?"."+j(l,0):o,x(i)?(a="",null!=e&&(a=e.replace(N,"$&/")+"/"),P(i,t,a,"",(function(e){return e}))):null!=i&&(E(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(N,"$&/")+"/")+e)),t.push(i)),1;if(l=0,o=""===o?".":o+":",x(e))for(var u=0;u<e.length;u++){var c=o+j(s=e[u],u);l+=P(s,t,a,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=P(s=s.value,t,a,c=o+j(s,u++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],a=0;return P(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},O={transition:null},D={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)_.call(t,u)&&!k.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<a&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,O(_);else{var t=r(c);null!==t&&D(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,v(E),E=-1),p=!0;var o=h;try{for(w(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!P());){var i=f.callback;if("function"===typeof i){f.callback=null,h=f.priorityLevel;var s=i(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&a(u),w(n)}else a(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,C=null,E=-1,N=5,j=-1;function P(){return!(t.unstable_now()-j<N)}function A(){if(null!==C){var e=t.unstable_now();j=e;var n=!0;try{n=C(!0,e)}finally{n?S():(k=!1,C=null)}}else k=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,I=T.port2;T.port1.onmessage=A,S=function(){I.postMessage(null)}}else S=function(){y(A,0)};function O(e){C=e,k||(k=!0,S())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(v(E),E=-1):g=!0,D(x,o-i))):(e.sortIndex=s,n(u,e),m||p||(m=!0,O(_))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{"use strict";e.exports=n(153)},600:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var i=a.apply(null,n);i&&e.push(i)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},730:(e,t,n)=>{"use strict";var r=n(43),a=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function B(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var $=!1;function F(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function z(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case C:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function G(e,t){Q(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,ke=null;function Ce(e){if(e=ba(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=xa(t),_e(e.stateNode,e.type,t))}}function Ee(e){Se?ke?ke.push(e):ke=[e]:Se=e}function Ne(){if(Se){var e=Se,t=ke;if(ke=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function je(e,t){return e(t)}function Pe(){}var Ae=!1;function Te(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return je(e,t,n)}finally{Ae=!1,(null!==Se||null!==ke)&&(Pe(),Ne())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Me(e,t,n,r,a,o,i,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Re=!1,Le=null,Be=!1,$e=null,Fe={onError:function(e){Re=!0,Le=e}};function ze(e,t,n,r,a,o,i,s,l){Re=!1,Le=null,Me.apply(Fe,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return We(a),e;if(i===r)return We(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Xe=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Qe=a.unstable_now,Ge=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~a;0!==s?r=dt(s):0!==(o&=i)&&(r=dt(o))}else 0!==(i=n&~a)?r=dt(i):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,St,kt,Ct,Et=!1,Nt=[],jt=null,Pt=null,At=null,Tt=new Map,It=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Rt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=va(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function $t(e,t,n){Bt(e)&&n.delete(t)}function Ft(){Et=!1,null!==jt&&Bt(jt)&&(jt=null),null!==Pt&&Bt(Pt)&&(Pt=null),null!==At&&Bt(At)&&(At=null),Tt.forEach($t),It.forEach($t)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ft)))}function Ut(e){function t(t){return zt(t,e)}if(0<Nt.length){zt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&zt(jt,e),null!==Pt&&zt(Pt,e),null!==At&&zt(At,e),Tt.forEach(t),It.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var Ht=w.ReactCurrentBatchConfig,Wt=!0;function Vt(e,t,n,r){var a=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=a,Ht.transition=o}}function qt(e,t,n,r){var a=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=a,Ht.transition=o}}function Kt(e,t,n,r){if(Wt){var a=Jt(e,t,n,r);if(null===a)Wr(e,t,r,Xt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return jt=Rt(jt,e,t,n,r,a),!0;case"dragenter":return Pt=Rt(Pt,e,t,n,r,a),!0;case"mouseover":return At=Rt(At,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Tt.set(o,Rt(Tt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,It.set(o,Rt(It.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&xt(o),null===(o=Jt(e,t,n,r))&&Wr(e,t,r,Xt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Xt=null;function Jt(e,t,n,r){if(Xt=null,null!==(e=va(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ge()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Gt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Gt,r=n.length,a="value"in Qt?Qt.value:Qt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=L({},un,{view:0,detail:0}),fn=an(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),mn=an(L({},hn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),yn=an(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),wn=an(L({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return kn}var En=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(En),jn=an(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),An=an(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(Tn),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Rn=c&&"TextEvent"in window&&!Mn,Ln=c&&(!Dn||Mn&&8<Mn&&11>=Mn),Bn=String.fromCharCode(32),$n=!1;function Fn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ee(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Xn(e){Br(e,0)}function Jn(e){if(K(wa(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Gn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Gn=Zn}else Gn=!1;Qn=Gn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];Vn(t,Kn,e,xe(e)),Te(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function or(e,t){if("click"===e)return Jn(t)}function ir(e,t){if("input"===e||"change"===e)return Jn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=cr(n,o);var i=cr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==X(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},kr={};function Cr(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=Cr("animationend"),Nr=Cr("animationiteration"),jr=Cr("animationstart"),Pr=Cr("transitionend"),Ar=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Ar.set(e,t),l(t,[e])}for(var Or=0;Or<Tr.length;Or++){var Dr=Tr[Or];Ir(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ir(Er,"onAnimationEnd"),Ir(Nr,"onAnimationIteration"),Ir(jr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Pr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,l,u){if(ze.apply(this,arguments),Re){if(!Re)throw Error(o(198));var c=Le;Re=!1,Le=null,Be||(Be=!0,$e=c)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Lr(a,s,u),o=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,u=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Lr(a,s,u),o=l}}}if(Be)throw e=$e,Be=!1,$e=null,e}function $r(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[zr]){e[zr]=!0,i.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Fr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var a=Vt;break;case 4:a=qt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=va(s)))return;if(5===(l=i.tag)||6===l){r=o=i;continue e}s=s.parentNode}}r=r.return}Te((function(){var r=o,a=xe(n),i=[];e:{var s=Ar.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Er:case Nr:case jr:l=yn;break;case Pr:l=An;break;case"scroll":l=fn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Ie(p,f))&&c.push(Vr(p,m,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,a),i.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!va(u)&&!u[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?va(u):null)&&(u!==(d=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=jn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:wa(l),h=null==u?s:wa(u),(s=new c(m,p+"leave",l,n,a)).target=d,s.relatedTarget=h,m=null,va(a)===r&&((c=new c(f,p+"enter",u,n,a)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Kr(h))p++;for(h=0,m=f;m;m=Kr(m))h++;for(;0<p-h;)c=Kr(c),p--;for(;0<h-p;)f=Kr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Kr(c),f=Kr(f)}c=null}else c=null;null!==l&&Xr(i,s,l,c,!1),null!==u&&null!==d&&Xr(i,d,u,c,!0)}if("select"===(l=(s=r?wa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Wn(s))if(Qn)g=ir;else{g=ar;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Vn(i,g,n,a):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wa(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(i,n,a)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(v=en()):(Gt="value"in(Qt=a)?Qt.value:Qt.textContent,Un=!0)),0<(y=qr(r,b)).length&&(b=new wn(b,e,null,n,a),i.push({event:b,listeners:y}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:($n=!0,Bn);case"textInput":return(e=t.data)===Bn&&$n?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Dn&&Fn(e,t)?(e=en(),Zt=Gt=Qt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=v))}Br(i,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Ie(e,n))&&r.unshift(Vr(e,o,a)),null!=(o=Ie(e,t))&&r.push(Vr(e,o,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(l=Ie(n,o))&&i.unshift(Vr(n,l,s)):a||null!=(l=Ie(n,o))&&i.push(Vr(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Jr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Yr,"")}function Gr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ut(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,ha="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function va(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[fa])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[fa]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xa(e){return e[ha]||null}var _a=[],Sa=-1;function ka(e){return{current:e}}function Ca(e){0>Sa||(e.current=_a[Sa],_a[Sa]=null,Sa--)}function Ea(e,t){Sa++,_a[Sa]=e.current,e.current=t}var Na={},ja=ka(Na),Pa=ka(!1),Aa=Na;function Ta(e,t){var n=e.type.contextTypes;if(!n)return Na;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ia(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oa(){Ca(Pa),Ca(ja)}function Da(e,t,n){if(ja.current!==Na)throw Error(o(168));Ea(ja,t),Ea(Pa,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,H(e)||"Unknown",a));return L({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Na,Aa=ja.current,Ea(ja,e),Ea(Pa,Pa.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ma(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,Ca(Pa),Ca(ja),Ea(ja,e)):Ca(Pa),Ea(Pa,n)}var Ba=null,$a=!1,Fa=!1;function za(e){null===Ba?Ba=[e]:Ba.push(e)}function Ua(){if(!Fa&&null!==Ba){Fa=!0;var e=0,t=bt;try{var n=Ba;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ba=null,$a=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),Ke(Ze,Ua),a}finally{bt=t,Fa=!1}}return null}var Ha=[],Wa=0,Va=null,qa=0,Ka=[],Xa=0,Ja=null,Ya=1,Qa="";function Ga(e,t){Ha[Wa++]=qa,Ha[Wa++]=Va,Va=e,qa=t}function Za(e,t,n){Ka[Xa++]=Ya,Ka[Xa++]=Qa,Ka[Xa++]=Ja,Ja=e;var r=Ya;e=Qa;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ya=1<<32-it(t)+a|n<<a|r,Qa=o+e}else Ya=1<<o|n<<a|r,Qa=e}function eo(e){null!==e.return&&(Ga(e,1),Za(e,1,0))}function to(e){for(;e===Va;)Va=Ha[--Wa],Ha[Wa]=null,qa=Ha[--Wa],Ha[Wa]=null;for(;e===Ja;)Ja=Ka[--Xa],Ka[Xa]=null,Qa=Ka[--Xa],Ka[Xa]=null,Ya=Ka[--Xa],Ka[Xa]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=Tu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ja?{id:Ya,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(ao){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ua(n.nextSibling);var r=no;t&&so(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!ao)return co(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw ho(),Error(o(418));for(;t;)io(e,t),t=ua(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ua(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ua(e.nextSibling)}function po(){ro=no=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&bo(o)===t.type)?((r=a(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Du(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case _:return(t=Bu(t,e.mode,n)).return=e,t;case I:return f(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mu(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?u(e,t,n,r):null;case _:return n.key===a?c(e,t,n,r):null;case I:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:d(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case I:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);vo(t,r)}return null}function m(a,o,s,l){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=h(a,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),o=i(y,o,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===s.length)return n(a,d),ao&&Ga(a,m),u;if(null===d){for(;m<s.length;m++)null!==(d=f(a,s[m],l))&&(o=i(d,o,m),null===c?u=d:c.sibling=d,c=d);return ao&&Ga(a,m),u}for(d=r(a,d);m<s.length;m++)null!==(g=p(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=i(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(a,e)})),ao&&Ga(a,m),u}function g(a,s,l,u){var c=M(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=h(a,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(a,m),s=i(b,s,g),null===d?c=b:d.sibling=b,d=b,m=y}if(v.done)return n(a,m),ao&&Ga(a,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=f(a,v.value,u))&&(s=i(v,s,g),null===d?c=v:d.sibling=v,d=v);return ao&&Ga(a,g),c}for(m=r(a,m);!v.done;g++,v=l.next())null!==(v=p(m,a,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=i(v,s,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(a,e)})),ao&&Ga(a,g),c}return function e(r,o,i,l){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case x:e:{for(var u=i.key,c=o;null!==c;){if(c.key===u){if((u=i.type)===S){if(7===c.tag){n(r,c.sibling),(o=a(c,i.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===I&&bo(u)===c.type){n(r,c.sibling),(o=a(c,i.props)).ref=yo(r,c,i),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}i.type===S?((o=Mu(i.props.children,r.mode,l,i.key)).return=r,r=o):((l=Du(i.type,i.key,i.props,null,r.mode,l)).ref=yo(r,o,i),l.return=r,r=l)}return s(r);case _:e:{for(c=i.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bu(i,r.mode,l)).return=r,r=o}return s(r);case I:return e(r,o,(c=i._init)(i._payload),l)}if(te(i))return m(r,o,i,l);if(M(i))return g(r,o,i,l);vo(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=Lu(i,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),_o=wo(!1),So=ka(null),ko=null,Co=null,Eo=null;function No(){Eo=Co=ko=null}function jo(e){var t=So.current;Ca(So),e._currentValue=t}function Po(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t){ko=e,Eo=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===ko)throw Error(o(308));Co=e,ko.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Io=null;function Oo(e){null===Io?Io=[e]:Io.push(e)}function Do(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Oo(t)):(n.next=a.next,a.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $o(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&jl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Mo(e,n)}return null===(a=r.interleaved)?(t.next=t,Oo(r)):(t.next=a.next,a.next=t),r.interleaved=t,Mo(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var a=e.updateQueue;Ro=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,u=l.next;l.next=null,null===i?o=u:i.next=u,i=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(i=0,c=u=l=null,s=o;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=L({},d,f);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,i|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Rl|=i,e.lanes=i,e.memoizedState=d}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Vo={},qo=ka(Vo),Ko=ka(Vo),Xo=ka(Vo);function Jo(e){if(e===Vo)throw Error(o(174));return e}function Yo(e,t){switch(Ea(Xo,t),Ea(Ko,e),Ea(qo,Vo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(qo),Ea(qo,t)}function Qo(){Ca(qo),Ca(Ko),Ca(Xo)}function Go(e){Jo(Xo.current);var t=Jo(qo.current),n=le(t,e.type);t!==n&&(Ea(Ko,e),Ea(qo,n))}function Zo(e){Ko.current===e&&(Ca(qo),Ca(Ko))}var ei=ka(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function ri(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var ai=w.ReactCurrentDispatcher,oi=w.ReactCurrentBatchConfig,ii=0,si=null,li=null,ui=null,ci=!1,di=!1,fi=0,hi=0;function pi(){throw Error(o(321))}function mi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function gi(e,t,n,r,a,i){if(ii=i,si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Zi:es,e=n(r,a),di){i=0;do{if(di=!1,fi=0,25<=i)throw Error(o(301));i+=1,ui=li=null,t.updateQueue=null,ai.current=ts,e=n(r,a)}while(di)}if(ai.current=Gi,t=null!==li&&null!==li.next,ii=0,ui=li=si=null,ci=!1,t)throw Error(o(300));return e}function yi(){var e=0!==fi;return fi=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ui?si.memoizedState=ui=e:ui=ui.next=e,ui}function bi(){if(null===li){var e=si.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===ui?si.memoizedState:ui.next;if(null!==t)ui=t,li=e;else{if(null===e)throw Error(o(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===ui?si.memoizedState=ui=e:ui=ui.next=e}return ui}function wi(e,t){return"function"===typeof t?t(e):t}function xi(e){var t=bi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=li,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=s=null,u=null,c=i;do{var d=c.lane;if((ii&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,si.lanes|=d,Rl|=d}c=c.next}while(null!==c&&c!==i);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,si.lanes|=i,Rl|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _i(e){var t=bi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sr(i,t.memoizedState)||(bs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Si(){}function ki(e,t){var n=si,r=bi(),a=t(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,bs=!0),r=r.queue,Ri(Ni.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==ui&&1&ui.memoizedState.tag){if(n.flags|=2048,Ti(9,Ei.bind(null,n,r,a,t),void 0,null),null===Pl)throw Error(o(349));0!==(30&ii)||Ci(n,t,a)}return a}function Ci(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ei(e,t,n,r){t.value=n,t.getSnapshot=r,ji(t)&&Pi(e)}function Ni(e,t,n){return n((function(){ji(t)&&Pi(e)}))}function ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Pi(e){var t=Mo(e,1);null!==t&&nu(t,e,1,-1)}function Ai(e){var t=vi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t.queue=e,e=e.dispatch=Xi.bind(null,si,e),[t.memoizedState,e]}function Ti(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ii(){return bi().memoizedState}function Oi(e,t,n,r){var a=vi();si.flags|=e,a.memoizedState=Ti(1|t,n,void 0,void 0===r?null:r)}function Di(e,t,n,r){var a=bi();r=void 0===r?null:r;var o=void 0;if(null!==li){var i=li.memoizedState;if(o=i.destroy,null!==r&&mi(r,i.deps))return void(a.memoizedState=Ti(t,n,o,r))}si.flags|=e,a.memoizedState=Ti(1|t,n,o,r)}function Mi(e,t){return Oi(8390656,8,e,t)}function Ri(e,t){return Di(2048,8,e,t)}function Li(e,t){return Di(4,2,e,t)}function Bi(e,t){return Di(4,4,e,t)}function $i(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Di(4,4,$i.bind(null,t,e),n)}function zi(){}function Ui(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wi(e,t,n){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),si.lanes|=n,Rl|=n,e.baseState=!0),t)}function Vi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oi.transition;oi.transition={};try{e(!1),t()}finally{bt=n,oi.transition=r}}function qi(){return bi().memoizedState}function Ki(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ji(e))Yi(t,n);else if(null!==(n=Do(e,t,n,r))){nu(n,e,r,eu()),Qi(n,t,r)}}function Xi(e,t,n){var r=tu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))Yi(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,i)){var l=t.interleaved;return null===l?(a.next=a,Oo(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=Do(e,t,a,r))&&(nu(n,e,r,a=eu()),Qi(n,t,r))}}function Ji(e){var t=e.alternate;return e===si||null!==t&&t===si}function Yi(e,t){di=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Gi={readContext:To,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Zi={readContext:To,useCallback:function(e,t){return vi().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Mi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oi(4194308,4,$i.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oi(4,2,e,t)},useMemo:function(e,t){var n=vi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ki.bind(null,si,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:Ai,useDebugValue:zi,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Ai(!1),t=e[0];return e=Vi.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=si,a=vi();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pl)throw Error(o(349));0!==(30&ii)||Ci(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Mi(Ni.bind(null,r,i,e),[e]),r.flags|=2048,Ti(9,Ei.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vi(),t=Pl.identifierPrefix;if(ao){var n=Qa;t=":"+t+"R"+(n=(Ya&~(1<<32-it(Ya)-1)).toString(32)+n),0<(n=fi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:To,useCallback:Ui,useContext:To,useEffect:Ri,useImperativeHandle:Fi,useInsertionEffect:Li,useLayoutEffect:Bi,useMemo:Hi,useReducer:xi,useRef:Ii,useState:function(){return xi(wi)},useDebugValue:zi,useDeferredValue:function(e){return Wi(bi(),li.memoizedState,e)},useTransition:function(){return[xi(wi)[0],bi().memoizedState]},useMutableSource:Si,useSyncExternalStore:ki,useId:qi,unstable_isNewReconciler:!1},ts={readContext:To,useCallback:Ui,useContext:To,useEffect:Ri,useImperativeHandle:Fi,useInsertionEffect:Li,useLayoutEffect:Bi,useMemo:Hi,useReducer:_i,useRef:Ii,useState:function(){return _i(wi)},useDebugValue:zi,useDeferredValue:function(e){var t=bi();return null===li?t.memoizedState=e:Wi(t,li.memoizedState,e)},useTransition:function(){return[_i(wi)[0],bi().memoizedState]},useMutableSource:Si,useSyncExternalStore:ki,useId:qi,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),o=$o(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,a))&&(nu(t,e,a,r),zo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),o=$o(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,a))&&(nu(t,e,a,r),zo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),a=$o(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fo(e,a,r))&&(nu(t,e,r,n),zo(t,e,r))}};function os(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function is(e,t,n){var r=!1,a=Na,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(a=Ia(t)?Aa:ja.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ta(e,a):Na),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=To(o):(o=Ia(t)?Aa:ja.current,a.context=Ta(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),Ho(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=$o(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Vl=r),ds(0,t)},n}function ps(e,t,n){(n=$o(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=$o(-1,1)).tag=2,Fo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?_o(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,a){n=n.render;var o=t.ref;return Ao(t,a),r=gi(e,t,n,r,o,a),n=yi(),null===e||bs?(ao&&n&&eo(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ws(e,t,a))}function _s(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Iu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Ws(e,t,a)}return t.flags|=1,(e=Ou(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Ws(e,t,a);0!==(131072&e.flags)&&(bs=!0)}}return Es(e,t,n,r,a)}function ks(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(Ol,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ea(Ol,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ea(Ol,Il),Il|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ea(Ol,Il),Il|=r;return ws(e,t,a,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,a){var o=Ia(n)?Aa:ja.current;return o=Ta(t,o),Ao(t,a),n=gi(e,t,n,r,o,a),r=yi(),null===e||bs?(ao&&r&&eo(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ws(e,t,a))}function Ns(e,t,n,r,a){if(Ia(n)){var o=!0;Ra(t)}else o=!1;if(Ao(t,a),null===t.stateNode)Hs(e,t),is(t,n,r),ls(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,u=n.contextType;"object"===typeof u&&null!==u?u=To(u):u=Ta(t,u=Ia(n)?Aa:ja.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||l!==u)&&ss(t,i,r,u),Ro=!1;var f=t.memoizedState;i.state=f,Ho(t,r,i,a),l=t.memoizedState,s!==r||f!==l||Pa.current||Ro?("function"===typeof c&&(rs(t,n,c,r),l=t.memoizedState),(s=Ro||os(t,n,s,r,f,l,u))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Bo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),i.props=u,d=t.pendingProps,f=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=To(l):l=Ta(t,l=Ia(n)?Aa:ja.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||f!==l)&&ss(t,i,r,l),Ro=!1,f=t.memoizedState,i.state=f,Ho(t,r,i,a);var p=t.memoizedState;s!==d||f!==p||Pa.current||Ro?("function"===typeof h&&(rs(t,n,h,r),p=t.memoizedState),(u=Ro||os(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return js(e,t,n,r,o,a)}function js(e,t,n,r,a,o){Cs(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&La(t,n,!1),Ws(e,t,o);r=t.stateNode,vs.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),Yo(e,t.containerInfo)}function As(e,t,n,r,a){return po(),mo(a),t.flags|=256,ws(e,t,n,r),t.child}var Ts,Is,Os,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,a=t.pendingProps,i=ei.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ea(ei,1&i),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Ru(l,a,0,null),e=Mu(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):Bs(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,s){if(n)return 256&t.flags?(t.flags&=-257,$s(e,t,s,r=cs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Ru({mode:"visible",children:r.children},a,0,null),(i=Mu(i,a,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,i);if(0===(1&t.mode))return $s(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,$s(e,t,s,r=cs(i=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Pl)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Mo(e,a),nu(r,e,a,-1))}return mu(),$s(e,t,s,r=cs(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Nu.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=ua(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ka[Xa++]=Ya,Ka[Xa++]=Qa,Ka[Xa++]=Ja,Ya=e.id,Qa=e.overflow,Ja=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(s){s=a.fallback,l=t.mode,r=(i=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Ou(i,u)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Ou(r,s):(s=Mu(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,a}return e=(s=e.child).sibling,a=Ou(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Bs(e,t){return(t=Ru({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $s(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Po(e.return,t,n)}function zs(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Us(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ei.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ea(ei,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),zs(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ti(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Ia(t.type)&&Oa(),qs(t),null;case 3:return r=t.stateNode,Qo(),Ca(Pa),Ca(ja),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(iu(oo),oo=null))),Is(e,t),qs(t),null;case 5:Zo(t);var a=Jo(Xo.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return qs(t),null}if(e=Jo(qo.current),fo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[fa]=t,r[ha]=i,e=0!==(1&t.mode),n){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)$r(Mr[a],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":Y(r,i),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},$r("invalid",r);break;case"textarea":ae(r,i),$r("invalid",r)}for(var l in ve(n,i),a=null,i)if(i.hasOwnProperty(l)){var u=i[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==i.suppressHydrationWarning&&Gr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==i.suppressHydrationWarning&&Gr(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&$r("scroll",r)}switch(n){case"input":q(r),Z(r,i,!0);break;case"textarea":q(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fa]=t,e[ha]=r,Ts(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":$r("cancel",e),$r("close",e),a=r;break;case"iframe":case"object":case"embed":$r("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)$r(Mr[a],e);a=r;break;case"source":$r("error",e),a=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),a=r;break;case"details":$r("toggle",e),a=r;break;case"input":Y(e,r),a=J(e,r),$r("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),$r("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),$r("invalid",e)}for(i in ve(n,a),u=a)if(u.hasOwnProperty(i)){var c=u[i];"style"===i?ge(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===i?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=c&&"onScroll"===i&&$r("scroll",e):null!=c&&b(e,i,c,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Jo(Xo.current),Jo(qo.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Gr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Gr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return qs(t),null;case 13:if(Ca(ei),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,i=!1;else if(i=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[fa]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),i=!1}else null!==oo&&(iu(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ei.current)?0===Dl&&(Dl=3):mu())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Qo(),Is(e,t),null===e&&Ur(t.stateNode.containerInfo),qs(t),null;case 10:return jo(t.type._context),qs(t),null;case 19:if(Ca(ei),null===(i=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Vs(i,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ti(e))){for(t.flags|=128,Vs(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ea(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>Ul&&(t.flags|=128,r=!0,Vs(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ti(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ao)return qs(t),null}else 2*Qe()-i.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Vs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,n=ei.current,Ea(ei,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Xs(e,t){switch(to(t),t.tag){case 1:return Ia(t.type)&&Oa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qo(),Ca(Pa),Ca(ja),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ca(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(ei),null;case 4:return Qo(),null;case 10:return jo(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Os=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Jo(qo.current);var o,i=null;switch(n){case"input":a=J(e,a),r=J(e,r),i=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(i=i||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(i=i||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&$r("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Ys=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Gs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){ku(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){ku(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&el(t,n,o)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[ha],delete t[ma],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=cl,a=dl;cl=null,fl(e,t,n),dl=a,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Ut(e)):la(cl,n.stateNode));break;case 4:r=cl,a=dl,cl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),cl=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&el(n,t,i),a=a.next}while(a!==r)}fl(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ku(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fl(e,t,n),Ys=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=ju.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));hl(i,s,a),cl=null,dl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){ku(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){ku(e,e.return,g)}try{nl(5,e,e.return)}catch(g){ku(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(g){ku(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===i.type&&null!=i.name&&Q(a,i),be(l,s);var c=be(l,i);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?ge(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):b(a,d,f,c)}switch(l){case"input":G(a,i);break;case"textarea":oe(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):h!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[ha]=i}catch(g){ku(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){ku(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){ku(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(zl=Qe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||d,ml(t,e),Ys=c):ml(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Gs=e,d=e.child;null!==d;){for(f=Gs=d;null!==Gs;){switch(p=(h=Gs).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Zs(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){ku(r,n,g)}}break;case 5:Zs(h,h.return);break;case 22:if(null!==h.memoizedState){xl(f);continue}}null!==p?(p.return=h,Gs=p):xl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,c?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(g){ku(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){ku(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),ul(e,sl(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,sl(e),i);break;default:throw Error(o(161))}}catch(s){ku(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Gs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Gs;){var a=Gs,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Js;if(!i){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Js;var u=Ys;if(Js=i,(Ys=l)&&!u)for(Gs=a;null!==Gs;)l=(i=Gs).child,22===i.tag&&null!==i.memoizedState?_l(a):null!==l?(l.return=i,Gs=l):_l(a);for(;null!==o;)Gs=o,bl(o,t,n),o=o.sibling;Gs=a,Js=s,Ys=u}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Gs=o):wl(e)}}function wl(e){for(;null!==Gs;){var t=Gs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Wo(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&al(t)}catch(h){ku(t,t.return,h)}}if(t===e){Gs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Gs=n;break}Gs=t.return}}function xl(e){for(;null!==Gs;){var t=Gs;if(t===e){Gs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Gs=n;break}Gs=t.return}}function _l(e){for(;null!==Gs;){var t=Gs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){ku(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){ku(t,a,l)}}var o=t.return;try{al(t)}catch(l){ku(t,o,l)}break;case 5:var i=t.return;try{al(t)}catch(l){ku(t,i,l)}}}catch(l){ku(t,t.return,l)}if(t===e){Gs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Gs=s;break}Gs=t.return}}var Sl,kl=Math.ceil,Cl=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Nl=w.ReactCurrentBatchConfig,jl=0,Pl=null,Al=null,Tl=0,Il=0,Ol=ka(0),Dl=0,Ml=null,Rl=0,Ll=0,Bl=0,$l=null,Fl=null,zl=0,Ul=1/0,Hl=null,Wl=!1,Vl=null,ql=null,Kl=!1,Xl=null,Jl=0,Yl=0,Ql=null,Gl=-1,Zl=0;function eu(){return 0!==(6&jl)?Qe():-1!==Gl?Gl:Gl=Qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&jl)&&0!==Tl?Tl&-Tl:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Ql=null,Error(o(185));yt(e,n,r),0!==(2&jl)&&e===Pl||(e===Pl&&(0===(2&jl)&&(Ll|=n),4===Dl&&su(e,Tl)),ru(e,r),1===n&&0===jl&&0===(1&t.mode)&&(Ul=Qe()+500,$a&&Ua()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,l=a[i];-1===l?0!==(s&n)&&0===(s&r)||(a[i]=ht(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Pl?Tl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){$a=!0,za(e)}(lu.bind(null,e)):za(lu.bind(null,e)),ia((function(){0===(6&jl)&&Ua()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pu(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(Gl=-1,Zl=0,0!==(6&jl))throw Error(o(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var r=ft(e,e===Pl?Tl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var a=jl;jl|=2;var i=pu();for(Pl===e&&Tl===t||(Hl=null,Ul=Qe()+500,fu(e,t));;)try{vu();break}catch(l){hu(e,l)}No(),Cl.current=i,jl=a,null!==Al?t=0:(Pl=null,Tl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ou(e,a))),1===t)throw n=Ml,fu(e,0),su(e,r),ru(e,Qe()),n;if(6===t)su(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gu(e,r))&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t))throw n=Ml,fu(e,0),su(e,r),ru(e,Qe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xu(e,Fl,Hl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=zl+500-Qe())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xu.bind(null,e,Fl,Hl),t);break}xu(e,Fl,Hl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ra(xu.bind(null,e,Fl,Hl),r);break}xu(e,Fl,Hl);break;default:throw Error(o(329))}}}return ru(e,Qe()),e.callbackNode===n?au.bind(null,e):null}function ou(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Fl,Fl=n,null!==t&&iu(t)),e}function iu(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function su(e,t){for(t&=~Bl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&jl))throw Error(o(327));_u();var t=ft(e,0);if(0===(1&t))return ru(e,Qe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Ml,fu(e,0),su(e,t),ru(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Fl,Hl),ru(e,Qe()),null}function uu(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&(Ul=Qe()+500,$a&&Ua())}}function cu(e){null!==Xl&&0===Xl.tag&&0===(6&jl)&&_u();var t=jl;jl|=1;var n=Nl.transition,r=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=r,Nl.transition=n,0===(6&(jl=t))&&Ua()}}function du(){Il=Ol.current,Ca(Ol)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oa();break;case 3:Qo(),Ca(Pa),Ca(ja),ri();break;case 5:Zo(r);break;case 4:Qo();break;case 13:case 19:Ca(ei);break;case 10:jo(r.type._context);break;case 22:case 23:du()}n=n.return}if(Pl=e,Al=e=Ou(e.current,null),Tl=Il=t,Dl=0,Ml=null,Bl=Ll=Rl=0,Fl=$l=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Io=null}return e}function hu(e,t){for(;;){var n=Al;try{if(No(),ai.current=Gi,ci){for(var r=si.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ci=!1}if(ii=0,ui=li=si=null,di=!1,fi=0,El.current=null,null===n||null===n.return){Dl=1,Ml=t,Al=null;break}e:{var i=e,s=n.return,l=n,u=t;if(t=Tl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(i,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ms(i,c,t),mu();break e}u=Error(o(426))}else if(ao&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),mo(us(u,l));break e}}i=u=us(u,l),4!==Dl&&(Dl=2),null===$l?$l=[i]:$l.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Uo(i,hs(0,u,t));break e;case 1:l=u;var v=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Uo(i,ps(i,l,t));break e}}i=i.return}while(null!==i)}wu(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pu(){var e=Cl.current;return Cl.current=Gi,null===e?Gi:e}function mu(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Pl||0===(268435455&Rl)&&0===(268435455&Ll)||su(Pl,Tl)}function gu(e,t){var n=jl;jl|=2;var r=pu();for(Pl===e&&Tl===t||(Hl=null,fu(e,t));;)try{yu();break}catch(a){hu(e,a)}if(No(),jl=n,Cl.current=r,null!==Al)throw Error(o(261));return Pl=null,Tl=0,Dl}function yu(){for(;null!==Al;)bu(Al)}function vu(){for(;null!==Al&&!Je();)bu(Al)}function bu(e){var t=Sl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?wu(e):Al=t,El.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Il)))return void(Al=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Dl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Dl&&(Dl=5)}function xu(e,t,n){var r=bt,a=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,n,r){do{_u()}while(null!==Xl);if(0!==(6&jl))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===Pl&&(Al=Pl=null,Tl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Pu(tt,(function(){return _u(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Nl.transition,Nl.transition=null;var s=bt;bt=1;var l=jl;jl|=4,El.current=null,function(e,t){if(ea=Wt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(x){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(l=s+a),f!==i||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===a&&(l=s),h===i&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Wt=!1,Gs=t;null!==Gs;)if(e=(t=Gs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Gs=e;else for(;null!==Gs;){t=Gs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){ku(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Gs=e;break}Gs=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ta),Wt=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Ye(),jl=l,bt=s,Nl.transition=i}else e.current=n;if(Kl&&(Kl=!1,Xl=e,Jl=a),i=e.pendingLanes,0===i&&(ql=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Wl)throw Wl=!1,e=Vl,Vl=null,e;0!==(1&Jl)&&0!==e.tag&&_u(),i=e.pendingLanes,0!==(1&i)?e===Ql?Yl++:(Yl=0,Ql=e):Yl=0,Ua()}(e,t,n,r)}finally{Nl.transition=a,bt=r}return null}function _u(){if(null!==Xl){var e=wt(Jl),t=Nl.transition,n=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Jl=0,0!==(6&jl))throw Error(o(331));var a=jl;for(jl|=4,Gs=e.current;null!==Gs;){var i=Gs,s=i.child;if(0!==(16&Gs.flags)){var l=i.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Gs=c;null!==Gs;){var d=Gs;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var f=d.child;if(null!==f)f.return=d,Gs=f;else for(;null!==Gs;){var h=(d=Gs).sibling,p=d.return;if(ol(d),d===c){Gs=null;break}if(null!==h){h.return=p,Gs=h;break}Gs=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Gs=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Gs=s;else e:for(;null!==Gs;){if(0!==(2048&(i=Gs).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Gs=v;break e}Gs=i.return}}var b=e.current;for(Gs=b;null!==Gs;){var w=(s=Gs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Gs=w;else e:for(s=b;null!==Gs;){if(0!==(2048&(l=Gs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){ku(l,l.return,_)}if(l===s){Gs=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Gs=x;break e}Gs=l.return}}if(jl=a,Ua(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(_){}r=!0}return r}finally{bt=n,Nl.transition=t}}return!1}function Su(e,t,n){e=Fo(e,t=hs(0,t=us(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function ku(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Fo(t,e=ps(t,e=us(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Tl&n)===n&&(4===Dl||3===Dl&&(130023424&Tl)===Tl&&500>Qe()-zl?fu(e,0):Bl|=n),ru(e,t)}function Eu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Mo(e,t))&&(yt(e,t,n),ru(e,n))}function Nu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function ju(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Eu(e,n)}function Pu(e,t){return Ke(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tu(e,t,n,r){return new Au(e,t,n,r)}function Iu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Tu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)Iu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Mu(n.children,a,i,t);case k:s=8,a|=8;break;case C:return(e=Tu(12,n,t,2|a)).elementType=C,e.lanes=i,e;case P:return(e=Tu(13,n,t,a)).elementType=P,e.lanes=i,e;case A:return(e=Tu(19,n,t,a)).elementType=A,e.lanes=i,e;case O:return Ru(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case N:s=9;break e;case j:s=11;break e;case T:s=14;break e;case I:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Tu(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Mu(e,t,n,r){return(e=Tu(7,e,r,t)).lanes=n,e}function Ru(e,t,n,r){return(e=Tu(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return(e=Tu(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=Tu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,a,o,i,s,l){return e=new $u(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Tu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function zu(e){if(!e)return Na;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ia(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ia(n))return Ma(e,n,t)}return t}function Uu(e,t,n,r,a,o,i,s,l){return(e=Fu(n,r,!0,e,0,o,0,s,l)).context=zu(null),n=e.current,(o=$o(r=eu(),a=tu(n))).callback=void 0!==t&&null!==t?t:null,Fo(n,o,a),e.current.lanes=a,yt(e,a,r),ru(e,r),e}function Hu(e,t,n,r){var a=t.current,o=eu(),i=tu(a);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=$o(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fo(a,t,i))&&(nu(e,a,i,o),zo(e,a,i)),i}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),po();break;case 5:Go(t);break;case 1:Ia(t.type)&&Ra(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ea(So,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ea(ei,1&ei.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ea(ei,1&ei.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ea(ei,1&ei.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ao&&0!==(1048576&t.flags)&&Za(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var a=Ta(t,ja.current);Ao(t,n),a=gi(null,t,r,e,a,n);var i=yi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ia(r)?(i=!0,Ra(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Lo(t),a.updater=as,t.stateNode=a,a._reactInternals=t,ls(t,r,e,n),t=js(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),ws(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Iu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===T)return 14}return 2}(r),e=ns(r,e),a){case 0:t=Es(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Es(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ns(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 3:e:{if(Ps(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,Bo(e,t),Ho(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=As(e,t,r,n,a=us(Error(o(423)),t));break e}if(r!==a){t=As(e,t,r,n,a=us(Error(o(424)),t));break e}for(ro=ua(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=_o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===a){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Go(t),null===e&&uo(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==i&&na(r,i)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ls(e,t,n);case 4:return Yo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xs(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Ea(So,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===a.children&&!Pa.current){t=Ws(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=$o(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),Po(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Po(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ws(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ao(t,n),r=r(a=To(a)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return a=ns(r=t.type,t.pendingProps),_s(e,t,r,a=ns(r.type,a),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ns(r,a),Hs(e,t),t.tag=1,Ia(r)?(e=!0,Ra(t)):e=!1,Ao(t,n),is(t,r,a),ls(t,r,a,n),js(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gu(){}function Zu(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof a){var s=a;a=function(){var e=Wu(i);s.call(e)}}Hu(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Wu(i);o.call(e)}}var i=Uu(t,r,e,0,null,!1,0,"",Gu);return e._reactRootContainer=i,e[pa]=i.current,Ur(8===e.nodeType?e.parentNode:e),cu(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Wu(l);s.call(e)}}var l=Fu(e,0,!1,null,0,!1,0,"",Gu);return e._reactRootContainer=l,e[pa]=l.current,Ur(8===e.nodeType?e.parentNode:e),cu((function(){Hu(t,l,n,r)})),l}(n,t,e,a,r);return Wu(i)}Ju.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hu(e,t,null,null)},Ju.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Hu(null,e,null,null)})),t[pa]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ru(t,Qe()),0===(6&jl)&&(Ul=Qe()+500,Ua()))}break;case 13:cu((function(){var t=Mo(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),qu(e,1)}},_t=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)nu(t,e,134217728,eu());qu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Mo(e,t);if(null!==n)nu(n,e,t,eu());qu(e,t)}},kt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(G(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(o(90));K(r),G(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=uu,Pe=cu;var ec={usingClientEntryPoint:!1,Events:[ba,wa,xa,Ee,Ne,uu]},tc={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{at=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(o(299));var n=!1,r="",a=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Fu(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Xu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(o(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",s=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uu(t,null,e,1,null!=n?n:null,a,0,i,s),e[pa]=t.current,Ur(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Ju(t)},t.render=function(e,t,n){if(!Qu(t))throw Error(o(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},786:(e,t,n)=>{var r=n(797),a=n(600),o=n(43),i=n(972);function s(e){return e&&e.__esModule?e.default:e}function l(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function u(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function c(e){e.forEach((e=>u(e.element)))}function d(e){e.forEach((e=>{!function(e,t,n){const r=e.children[n]||null;e.insertBefore(t,r)}(e.parentElement,e.element,e.oldIndex)}))}function f(e,t){const n=g(e),r={parentElement:e.from};let a=[];switch(n){case"normal":a=[{element:e.item,newIndex:e.newIndex,oldIndex:e.oldIndex,parentElement:e.from}];break;case"swap":a=[{element:e.item,oldIndex:e.oldIndex,newIndex:e.newIndex,...r},{element:e.swapItem,oldIndex:e.newIndex,newIndex:e.oldIndex,...r}];break;case"multidrag":a=e.oldIndicies.map(((t,n)=>({element:t.multiDragElement,oldIndex:t.index,newIndex:e.newIndicies[n].index,...r})))}const o=function(e,t){const n=e.map((e=>({...e,item:t[e.oldIndex]}))).sort(((e,t)=>e.oldIndex-t.oldIndex));return n}(a,t);return o}function h(e,t){return m(e,p(e,t))}function p(e,t){const n=[...t];return e.concat().reverse().forEach((e=>n.splice(e.oldIndex,1))),n}function m(e,t,n,r){const a=[...t];return e.forEach((e=>{const t=r&&n&&r(e.item,n);a.splice(e.newIndex,0,t||e.item)})),a}function g(e){return e.oldIndicies&&e.oldIndicies.length>0?"multidrag":e.swapItem?"swap":"normal"}function y(e){const{list:t,setList:n,children:r,tag:a,style:o,className:i,clone:s,onAdd:l,onChange:u,onChoose:c,onClone:d,onEnd:f,onFilter:h,onRemove:p,onSort:m,onStart:g,onUnchoose:y,onUpdate:v,onMove:b,onSpill:w,onSelect:x,onDeselect:_,...S}=e;return S}l(e.exports,"Sortable",(()=>$882b6d93070905b3$re_export$Sortable)),l(e.exports,"Direction",(()=>$882b6d93070905b3$re_export$Direction)),l(e.exports,"DOMRect",(()=>$882b6d93070905b3$re_export$DOMRect)),l(e.exports,"GroupOptions",(()=>$882b6d93070905b3$re_export$GroupOptions)),l(e.exports,"MoveEvent",(()=>$882b6d93070905b3$re_export$MoveEvent)),l(e.exports,"Options",(()=>$882b6d93070905b3$re_export$Options)),l(e.exports,"PullResult",(()=>$882b6d93070905b3$re_export$PullResult)),l(e.exports,"PutResult",(()=>$882b6d93070905b3$re_export$PutResult)),l(e.exports,"SortableEvent",(()=>$882b6d93070905b3$re_export$SortableEvent)),l(e.exports,"SortableOptions",(()=>$882b6d93070905b3$re_export$SortableOptions)),l(e.exports,"Utils",(()=>$882b6d93070905b3$re_export$Utils)),l(e.exports,"ReactSortable",(()=>b));const v={dragging:null};class b extends o.Component{static defaultProps={clone:e=>e};constructor(e){super(e),this.ref=(0,o.createRef)();const t=[...e.list].map((e=>Object.assign(e,{chosen:!1,selected:!1})));e.setList(t,this.sortable,v),s(i)(!e.plugins,'\nPlugins prop is no longer supported.\nInstead, mount it with "Sortable.mount(new MultiDrag())"\nPlease read the updated README.md at https://github.com/SortableJS/react-sortablejs.\n      ')}componentDidMount(){if(null===this.ref.current)return;const e=this.makeOptions();s(r).create(this.ref.current,e)}componentDidUpdate(e){e.disabled!==this.props.disabled&&this.sortable&&this.sortable.option("disabled",this.props.disabled)}render(){const{tag:e,style:t,className:n,id:r}=this.props,a={style:t,className:n,id:r},i=e&&null!==e?e:"div";return(0,o.createElement)(i,{ref:this.ref,...a},this.getChildren())}getChildren(){const{children:e,dataIdAttr:t,selectedClass:n="sortable-selected",chosenClass:r="sortable-chosen",dragClass:i="sortable-drag",fallbackClass:l="sortable-falback",ghostClass:u="sortable-ghost",swapClass:c="sortable-swap-highlight",filter:d="sortable-filter",list:f}=this.props;if(!e||null==e)return null;const h=t||"data-id";return o.Children.map(e,((e,t)=>{if(void 0===e)return;const i=f[t]||{},{className:l}=e.props,u="string"===typeof d&&{[d.replace(".","")]:!!i.filtered},c=s(a)(l,{[n]:i.selected,[r]:i.chosen,...u});return(0,o.cloneElement)(e,{[h]:e.key,className:c})}))}get sortable(){const e=this.ref.current;if(null===e)return null;const t=Object.keys(e).find((e=>e.includes("Sortable")));return t?e[t]:null}makeOptions(){const e=y(this.props);["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"].forEach((t=>e[t]=this.prepareOnHandlerPropAndDOM(t))),["onChange","onClone","onFilter","onSort"].forEach((t=>e[t]=this.prepareOnHandlerProp(t)));return{...e,onMove:(e,t)=>{const{onMove:n}=this.props,r=e.willInsertAfter||-1;if(!n)return r;const a=n(e,t,this.sortable,v);return"undefined"!==typeof a&&a}}}prepareOnHandlerPropAndDOM(e){return t=>{this.callOnHandlerProp(t,e),this[e](t)}}prepareOnHandlerProp(e){return t=>{this.callOnHandlerProp(t,e)}}callOnHandlerProp(e,t){const n=this.props[t];n&&n(e,this.sortable,v)}onAdd(e){const{list:t,setList:n,clone:r}=this.props,a=f(e,[...v.dragging.props.list]);c(a);n(m(a,t,e,r).map((e=>Object.assign(e,{selected:!1}))),this.sortable,v)}onRemove(e){const{list:t,setList:n}=this.props,r=g(e),a=f(e,t);d(a);let o=[...t];if("clone"!==e.pullMode)o=p(a,o);else{let t=a;switch(r){case"multidrag":t=a.map(((t,n)=>({...t,element:e.clones[n]})));break;case"normal":t=a.map((t=>({...t,element:e.clone})));break;default:s(i)(!0,`mode "${r}" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "${r}" plugin`)}c(t),a.forEach((t=>{const n=t.oldIndex,r=this.props.clone(t.item,e);o.splice(n,1,r)}))}o=o.map((e=>Object.assign(e,{selected:!1}))),n(o,this.sortable,v)}onUpdate(e){const{list:t,setList:n}=this.props,r=f(e,t);c(r),d(r);return n(h(r,t),this.sortable,v)}onStart(){v.dragging=this}onEnd(){v.dragging=null}onChoose(e){const{list:t,setList:n}=this.props;n(t.map(((t,n)=>{let r=t;return n===e.oldIndex&&(r=Object.assign(t,{chosen:!0})),r})),this.sortable,v)}onUnchoose(e){const{list:t,setList:n}=this.props;n(t.map(((t,n)=>{let r=t;return n===e.oldIndex&&(r=Object.assign(r,{chosen:!1})),r})),this.sortable,v)}onSpill(e){const{removeOnSpill:t,revertOnSpill:n}=this.props;t&&!n&&u(e.item)}onSelect(e){const{list:t,setList:n}=this.props,r=t.map((e=>Object.assign(e,{selected:!1})));e.newIndicies.forEach((t=>{const n=t.index;if(-1===n)return console.log(`"${e.type}" had indice of "${t.index}", which is probably -1 and doesn't usually happen here.`),void console.log(e);r[n].selected=!0})),n(r,this.sortable,v)}onDeselect(e){const{list:t,setList:n}=this.props,r=t.map((e=>Object.assign(e,{selected:!1})));e.newIndicies.forEach((e=>{const t=e.index;-1!==t&&(r[t].selected=!0)})),n(r,this.sortable,v)}}var w,x;w=e.exports,x={},Object.keys(x).forEach((function(e){"default"===e||"__esModule"===e||w.hasOwnProperty(e)||Object.defineProperty(w,e,{enumerable:!0,get:function(){return x[e]}})}))},797:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t),n.d(t,{MultiDrag:()=>St,Sortable:()=>We,Swap:()=>ft,default:()=>Et});function d(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var f=d(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),h=d(/Edge/i),p=d(/firefox/i),m=d(/safari/i)&&!d(/chrome/i)&&!d(/android/i),g=d(/iP(ad|od|hone)/i),y=d(/chrome/i)&&d(/android/i),v={capture:!1,passive:!1};function b(e,t,n){e.addEventListener(t,n,!f&&v)}function w(e,t,n){e.removeEventListener(t,n,!f&&v)}function x(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function _(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function S(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&x(e,t):x(e,t))||r&&e===n)return e;if(e===n)break}while(e=_(e))}return null}var k,C=/\s+/g;function E(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(C," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(C," ")}}function N(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function j(e,t){var n="";if("string"===typeof e)n=e;else do{var r=N(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function P(e,t,n){if(e){var r=e.getElementsByTagName(t),a=0,o=r.length;if(n)for(;a<o;a++)n(r[a],a);return r}return[]}function A(){var e=document.scrollingElement;return e||document.documentElement}function T(e,t,n,r,a){if(e.getBoundingClientRect||e===window){var o,i,s,l,u,c,d;if(e!==window&&e.parentNode&&e!==A()?(i=(o=e.getBoundingClientRect()).top,s=o.left,l=o.bottom,u=o.right,c=o.height,d=o.width):(i=0,s=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!f))do{if(a&&a.getBoundingClientRect&&("none"!==N(a,"transform")||n&&"static"!==N(a,"position"))){var h=a.getBoundingClientRect();i-=h.top+parseInt(N(a,"border-top-width")),s-=h.left+parseInt(N(a,"border-left-width")),l=i+o.height,u=s+o.width;break}}while(a=a.parentNode);if(r&&e!==window){var p=j(a||e),m=p&&p.a,g=p&&p.d;p&&(l=(i/=g)+(c/=g),u=(s/=m)+(d/=m))}return{top:i,left:s,bottom:l,right:u,width:d,height:c}}}function I(e,t,n){for(var r=L(e,!0),a=T(e)[t];r;){var o=T(r)[n];if(!("top"===n||"left"===n?a>=o:a<=o))return r;if(r===A())break;r=L(r,!1)}return!1}function O(e,t,n,r){for(var a=0,o=0,i=e.children;o<i.length;){if("none"!==i[o].style.display&&i[o]!==We.ghost&&(r||i[o]!==We.dragged)&&S(i[o],n.draggable,e,!1)){if(a===t)return i[o];a++}o++}return null}function D(e,t){for(var n=e.lastElementChild;n&&(n===We.ghost||"none"===N(n,"display")||t&&!x(n,t));)n=n.previousElementSibling;return n||null}function M(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===We.clone||t&&!x(e,t)||n++;return n}function R(e){var t=0,n=0,r=A();if(e)do{var a=j(e),o=a.a,i=a.d;t+=e.scrollLeft*o,n+=e.scrollTop*i}while(e!==r&&(e=e.parentNode));return[t,n]}function L(e,t){if(!e||!e.getBoundingClientRect)return A();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=N(n);if(n.clientWidth<n.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!n.getBoundingClientRect||n===document.body)return A();if(r||t)return n;r=!0}}}while(n=n.parentNode);return A()}function B(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function $(e,t){return function(){if(!k){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),k=setTimeout((function(){k=void 0}),t)}}}function F(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function z(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function U(e,t){N(e,"position","absolute"),N(e,"top",t.top),N(e,"left",t.left),N(e,"width",t.width),N(e,"height",t.height)}function H(e){N(e,"position",""),N(e,"top",""),N(e,"left",""),N(e,"width",""),N(e,"height","")}function W(e,t,n){var r={};return Array.from(e.children).forEach((function(a){var o,i,s,l;if(S(a,t.draggable,e,!1)&&!a.animated&&a!==n){var u=T(a);r.left=Math.min(null!==(o=r.left)&&void 0!==o?o:1/0,u.left),r.top=Math.min(null!==(i=r.top)&&void 0!==i?i:1/0,u.top),r.right=Math.max(null!==(s=r.right)&&void 0!==s?s:-1/0,u.right),r.bottom=Math.max(null!==(l=r.bottom)&&void 0!==l?l:-1/0,u.bottom)}})),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var V="Sortable"+(new Date).getTime();function q(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==N(e,"display")&&e!==We.ghost){t.push({target:e,rect:T(e)});var n=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=j(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var a=!1,o=0;t.forEach((function(e){var t=0,n=e.target,i=n.fromRect,s=T(n),l=n.prevFromRect,u=n.prevToRect,c=e.rect,d=j(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&B(l,s)&&!B(i,s)&&(c.top-s.top)/(c.left-s.left)===(i.top-s.top)/(i.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(c,l,u,r.options)),B(s,i)||(n.prevFromRect=i,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,c,s,t)),t&&(a=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),a?e=setTimeout((function(){"function"===typeof n&&n()}),o):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){N(e,"transition",""),N(e,"transform","");var a=j(this.el),o=a&&a.a,i=a&&a.d,s=(t.left-n.left)/(o||1),l=(t.top-n.top)/(i||1);e.animatingX=!!s,e.animatingY=!!l,N(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),N(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),N(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){N(e,"transition",""),N(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var K=[],X={initializeByDefault:!0},J={mount:function(e){for(var t in X)X.hasOwnProperty(t)&&!(t in e)&&(e[t]=X[t]);K.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),K.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";K.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](a({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](a({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var a in K.forEach((function(r){var a=r.pluginName;if(e.options[a]||r.initializeByDefault){var o=new r(e,t,e.options);o.sortable=e,o.options=e.options,e[a]=o,s(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(a)){var o=this.modifyOption(e,a,e.options[a]);"undefined"!==typeof o&&(e.options[a]=o)}},getEventProperties:function(e,t){var n={};return K.forEach((function(r){"function"===typeof r.eventProperties&&s(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return K.forEach((function(a){e[a.pluginName]&&a.optionListeners&&"function"===typeof a.optionListeners[t]&&(r=a.optionListeners[t].call(e[a.pluginName],n))})),r}};function Y(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,s=e.toEl,l=e.fromEl,u=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,p=e.newDraggableIndex,m=e.originalEvent,g=e.putSortable,y=e.extraEventProperties;if(t=t||n&&n[V]){var v,b=t.options,w="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||f||h?(v=document.createEvent("Event")).initEvent(r,!0,!0):v=new CustomEvent(r,{bubbles:!0,cancelable:!0}),v.to=s||n,v.from=l||n,v.item=o||n,v.clone=i,v.oldIndex=u,v.newIndex=c,v.oldDraggableIndex=d,v.newDraggableIndex=p,v.originalEvent=m,v.pullMode=g?g.lastPutMode:void 0;var x=a(a({},y),J.getEventProperties(r,t));for(var _ in x)v[_]=x[_];n&&n.dispatchEvent(v),b[w]&&b[w].call(t,v)}}var Q=["evt"],G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=l(n,Q);J.pluginEvent.bind(We)(e,t,a({dragEl:ee,parentEl:te,ghostEl:ne,rootEl:re,nextEl:ae,lastDownEl:oe,cloneEl:ie,cloneHidden:se,dragStarted:we,putSortable:he,activeSortable:We.active,originalEvent:r,oldIndex:le,oldDraggableIndex:ce,newIndex:ue,newDraggableIndex:de,hideGhostForTarget:Fe,unhideGhostForTarget:ze,cloneNowHidden:function(){se=!0},cloneNowShown:function(){se=!1},dispatchSortableEvent:function(e){Z({sortable:t,name:e,originalEvent:r})}},o))};function Z(e){Y(a({putSortable:he,cloneEl:ie,targetEl:ee,rootEl:re,oldIndex:le,oldDraggableIndex:ce,newIndex:ue,newDraggableIndex:de},e))}var ee,te,ne,re,ae,oe,ie,se,le,ue,ce,de,fe,he,pe,me,ge,ye,ve,be,we,xe,_e,Se,ke,Ce=!1,Ee=!1,Ne=[],je=!1,Pe=!1,Ae=[],Te=!1,Ie=[],Oe="undefined"!==typeof document,De=g,Me=h||f?"cssFloat":"float",Re=Oe&&!y&&!g&&"draggable"in document.createElement("div"),Le=function(){if(Oe){if(f)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Be=function(e,t){var n=N(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=O(e,0,t),o=O(e,1,t),i=a&&N(a),s=o&&N(o),l=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+T(a).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+T(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&i.float&&"none"!==i.float){var c="left"===i.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==c?"horizontal":"vertical"}return a&&("block"===i.display||"flex"===i.display||"table"===i.display||"grid"===i.display||l>=r&&"none"===n[Me]||o&&"none"===n[Me]&&l+u>r)?"vertical":"horizontal"},$e=function(e){function t(e,n){return function(r,a,o,i){var s=r.options.group.name&&a.options.group.name&&r.options.group.name===a.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,a,o,i),n)(r,a,o,i);var l=(n?r:a).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},r=e.group;r&&"object"==o(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Fe=function(){!Le&&ne&&N(ne,"display","none")},ze=function(){!Le&&ne&&N(ne,"display","")};Oe&&!y&&document.addEventListener("click",(function(e){if(Ee)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ee=!1,!1}),!0);var Ue=function(e){if(ee){var t=function(e,t){var n;return Ne.some((function(r){var a=r[V].options.emptyInsertThreshold;if(a&&!D(r)){var o=T(r),i=e>=o.left-a&&e<=o.right+a,s=t>=o.top-a&&t<=o.bottom+a;return i&&s?n=r:void 0}})),n}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[V]._onDragOver(n)}}},He=function(e){ee&&ee.parentNode[V]._isOutsideThisEl(e.target)};function We(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=s({},t),e[V]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Be(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==We.supportPointer&&"PointerEvent"in window&&(!m||g),emptyInsertThreshold:5};for(var r in J.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var a in $e(t),this)"_"===a.charAt(0)&&"function"===typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!t.forceFallback&&Re,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?b(e,"pointerdown",this._onTapStart):(b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Ne.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),s(this,q())}function Ve(e,t,n,r,a,o,i,s){var l,u,c=e[V],d=c.options.onMove;return!window.CustomEvent||f||h?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=a||t,l.relatedRect=o||T(t),l.willInsertAfter=s,l.originalEvent=i,e.dispatchEvent(l),d&&(u=d.call(c,l,i)),u}function qe(e){e.draggable=!1}function Ke(){Te=!1}function Xe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Je(e){return setTimeout(e,0)}function Ye(e){return clearTimeout(e)}We.prototype={constructor:We,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(xe=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,ee):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,a=r.preventOnFilter,o=e.type,i=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(i||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,u=r.filter;if(function(e){Ie.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&Ie.push(r)}}(n),!ee&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!m||!s||"SELECT"!==s.tagName.toUpperCase())&&(!(s=S(s,r.draggable,n,!1))||!s.animated)&&oe!==s){if(le=M(s),ce=M(s,r.draggable),"function"===typeof u){if(u.call(this,e,s,this))return Z({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),G("filter",t,{evt:e}),void(a&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(r){if(r=S(l,r.trim(),n,!1))return Z({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),G("filter",t,{evt:e}),!0}))))return void(a&&e.preventDefault());r.handle&&!S(l,r.handle,n,!1)||this._prepareDragStart(e,i,s)}}},_prepareDragStart:function(e,t,n){var r,a=this,o=a.el,i=a.options,s=o.ownerDocument;if(n&&!ee&&n.parentNode===o){var l=T(n);if(re=o,te=(ee=n).parentNode,ae=ee.nextSibling,oe=n,fe=i.group,We.dragged=ee,pe={target:ee,clientX:(t||e).clientX,clientY:(t||e).clientY},ve=pe.clientX-l.left,be=pe.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ee.style["will-change"]="all",r=function(){G("delayEnded",a,{evt:e}),We.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!p&&a.nativeDraggable&&(ee.draggable=!0),a._triggerDragStart(e,t),Z({sortable:a,name:"choose",originalEvent:e}),E(ee,i.chosenClass,!0))},i.ignore.split(",").forEach((function(e){P(ee,e.trim(),qe)})),b(s,"dragover",Ue),b(s,"mousemove",Ue),b(s,"touchmove",Ue),i.supportPointer?(b(s,"pointerup",a._onDrop),!this.nativeDraggable&&b(s,"pointercancel",a._onDrop)):(b(s,"mouseup",a._onDrop),b(s,"touchend",a._onDrop),b(s,"touchcancel",a._onDrop)),p&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ee.draggable=!0),G("delayStart",this,{evt:e}),!i.delay||i.delayOnTouchOnly&&!t||this.nativeDraggable&&(h||f))r();else{if(We.eventCanceled)return void this._onDrop();i.supportPointer?(b(s,"pointerup",a._disableDelayedDrag),b(s,"pointercancel",a._disableDelayedDrag)):(b(s,"mouseup",a._disableDelayedDrag),b(s,"touchend",a._disableDelayedDrag),b(s,"touchcancel",a._disableDelayedDrag)),b(s,"mousemove",a._delayedDragTouchMoveHandler),b(s,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&b(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(r,i.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ee&&qe(ee),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;w(e,"mouseup",this._disableDelayedDrag),w(e,"touchend",this._disableDelayedDrag),w(e,"touchcancel",this._disableDelayedDrag),w(e,"pointerup",this._disableDelayedDrag),w(e,"pointercancel",this._disableDelayedDrag),w(e,"mousemove",this._delayedDragTouchMoveHandler),w(e,"touchmove",this._delayedDragTouchMoveHandler),w(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?b(document,"pointermove",this._onTouchMove):b(document,t?"touchmove":"mousemove",this._onTouchMove):(b(ee,"dragend",this),b(re,"dragstart",this._onDragStart));try{document.selection?Je((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Ce=!1,re&&ee){G("dragStarted",this,{evt:t}),this.nativeDraggable&&b(document,"dragover",He);var n=this.options;!e&&E(ee,n.dragClass,!1),E(ee,n.ghostClass,!0),We.active=this,e&&this._appendGhost(),Z({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(me){this._lastX=me.clientX,this._lastY=me.clientY,Fe();for(var e=document.elementFromPoint(me.clientX,me.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(me.clientX,me.clientY))!==t;)t=e;if(ee.parentNode[V]._isOutsideThisEl(e),t)do{if(t[V]){if(t[V]._onDragOver({clientX:me.clientX,clientY:me.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=_(t));ze()}},_onTouchMove:function(e){if(pe){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,a=e.touches?e.touches[0]:e,o=ne&&j(ne,!0),i=ne&&o&&o.a,s=ne&&o&&o.d,l=De&&ke&&R(ke),u=(a.clientX-pe.clientX+r.x)/(i||1)+(l?l[0]-Ae[0]:0)/(i||1),c=(a.clientY-pe.clientY+r.y)/(s||1)+(l?l[1]-Ae[1]:0)/(s||1);if(!We.active&&!Ce){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ne){o?(o.e+=u-(ge||0),o.f+=c-(ye||0)):o={a:1,b:0,c:0,d:1,e:u,f:c};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");N(ne,"webkitTransform",d),N(ne,"mozTransform",d),N(ne,"msTransform",d),N(ne,"transform",d),ge=u,ye=c,me=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ne){var e=this.options.fallbackOnBody?document.body:re,t=T(ee,!0,De,!0,e),n=this.options;if(De){for(ke=e;"static"===N(ke,"position")&&"none"===N(ke,"transform")&&ke!==document;)ke=ke.parentNode;ke!==document.body&&ke!==document.documentElement?(ke===document&&(ke=A()),t.top+=ke.scrollTop,t.left+=ke.scrollLeft):ke=A(),Ae=R(ke)}E(ne=ee.cloneNode(!0),n.ghostClass,!1),E(ne,n.fallbackClass,!0),E(ne,n.dragClass,!0),N(ne,"transition",""),N(ne,"transform",""),N(ne,"box-sizing","border-box"),N(ne,"margin",0),N(ne,"top",t.top),N(ne,"left",t.left),N(ne,"width",t.width),N(ne,"height",t.height),N(ne,"opacity","0.8"),N(ne,"position",De?"absolute":"fixed"),N(ne,"zIndex","100000"),N(ne,"pointerEvents","none"),We.ghost=ne,e.appendChild(ne),N(ne,"transform-origin",ve/parseInt(ne.style.width)*100+"% "+be/parseInt(ne.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,a=n.options;G("dragStart",this,{evt:e}),We.eventCanceled?this._onDrop():(G("setupClone",this),We.eventCanceled||((ie=z(ee)).removeAttribute("id"),ie.draggable=!1,ie.style["will-change"]="",this._hideClone(),E(ie,this.options.chosenClass,!1),We.clone=ie),n.cloneId=Je((function(){G("clone",n),We.eventCanceled||(n.options.removeCloneOnHide||re.insertBefore(ie,ee),n._hideClone(),Z({sortable:n,name:"clone"}))})),!t&&E(ee,a.dragClass,!0),t?(Ee=!0,n._loopId=setInterval(n._emulateDragOver,50)):(w(document,"mouseup",n._onDrop),w(document,"touchend",n._onDrop),w(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",a.setData&&a.setData.call(n,r,ee)),b(document,"drop",n),N(ee,"transform","translateZ(0)")),Ce=!0,n._dragStartId=Je(n._dragStarted.bind(n,t,e)),b(document,"selectstart",n),we=!0,window.getSelection().removeAllRanges(),m&&N(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,i=this.el,s=e.target,l=this.options,u=l.group,c=We.active,d=fe===u,f=l.sort,h=he||c,p=this,m=!1;if(!Te){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=S(s,l.draggable,i,!0),B("dragOver"),We.eventCanceled)return m;if(ee.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return z(!1);if(Ee=!1,c&&!l.disabled&&(d?f||(r=te!==re):he===this||(this.lastPutMode=fe.checkPull(this,c,ee,e))&&u.checkPut(this,c,ee,e))){if(o="vertical"===this._getDirection(e,s),t=T(ee),B("dragOverValid"),We.eventCanceled)return m;if(r)return te=re,$(),this._hideClone(),B("revert"),We.eventCanceled||(ae?re.insertBefore(ee,ae):re.appendChild(ee)),z(!0);var g=D(i,l.draggable);if(!g||function(e,t,n){var r=T(D(n.el,n.options.draggable)),a=W(n.el,n.options,ne),o=10;return t?e.clientX>a.right+o||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>a.bottom+o||e.clientX>r.right&&e.clientY>r.top}(e,o,this)&&!g.animated){if(g===ee)return z(!1);if(g&&i===e.target&&(s=g),s&&(n=T(s)),!1!==Ve(re,i,ee,t,s,n,e,!!s))return $(),g&&g.nextSibling?i.insertBefore(ee,g.nextSibling):i.appendChild(ee),te=i,U(),z(!0)}else if(g&&function(e,t,n){var r=T(O(n.el,0,n.options,!0)),a=W(n.el,n.options,ne),o=10;return t?e.clientX<a.left-o||e.clientY<r.top&&e.clientX<r.right:e.clientY<a.top-o||e.clientY<r.bottom&&e.clientX<r.left}(e,o,this)){var y=O(i,0,l,!0);if(y===ee)return z(!1);if(n=T(s=y),!1!==Ve(re,i,ee,t,s,n,e,!1))return $(),i.insertBefore(ee,y),te=i,U(),z(!0)}else if(s.parentNode===i){n=T(s);var v,b,w,x=ee.parentNode!==i,_=!function(e,t,n){var r=n?e.left:e.top,a=n?e.right:e.bottom,o=n?e.width:e.height,i=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===i||a===s||r+o/2===i+l/2}(ee.animated&&ee.toRect||t,s.animated&&s.toRect||n,o),k=o?"top":"left",C=I(s,"top","top")||I(ee,"top","top"),j=C?C.scrollTop:void 0;if(xe!==s&&(b=n[k],je=!1,Pe=!_&&l.invertSwap||x),v=function(e,t,n,r,a,o,i,s){var l=r?e.clientY:e.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!i)if(s&&Se<u*a){if(!je&&(1===_e?l>c+u*o/2:l<d-u*o/2)&&(je=!0),je)f=!0;else if(1===_e?l<c+Se:l>d-Se)return-_e}else if(l>c+u*(1-a)/2&&l<d-u*(1-a)/2)return function(e){return M(ee)<M(e)?1:-1}(t);if((f=f||i)&&(l<c+u*o/2||l>d-u*o/2))return l>c+u/2?1:-1;return 0}(e,s,n,o,_?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Pe,xe===s),0!==v){var P=M(ee);do{P-=v,w=te.children[P]}while(w&&("none"===N(w,"display")||w===ne))}if(0===v||w===s)return z(!1);xe=s,_e=v;var A=s.nextElementSibling,R=!1,L=Ve(re,i,ee,t,s,n,e,R=1===v);if(!1!==L)return 1!==L&&-1!==L||(R=1===L),Te=!0,setTimeout(Ke,30),$(),R&&!A?i.appendChild(ee):s.parentNode.insertBefore(ee,R?A:s),C&&F(C,0,j-C.scrollTop),te=ee.parentNode,void 0===b||Pe||(Se=Math.abs(b-T(s)[k])),U(),z(!0)}if(i.contains(ee))return z(!1)}return!1}function B(l,u){G(l,p,a({evt:e,isOwner:d,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:f,fromSortable:h,target:s,completed:z,onMove:function(n,r){return Ve(re,i,ee,t,n,T(n),e,r)},changed:U},u))}function $(){B("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function z(t){return B("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(p),p!==h&&(E(ee,he?he.options.ghostClass:c.options.ghostClass,!1),E(ee,l.ghostClass,!0)),he!==p&&p!==We.active?he=p:p===We.active&&he&&(he=null),h===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){B("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===ee&&!ee.animated||s===i&&!s.animated)&&(xe=null),l.dragoverBubble||e.rootEl||s===document||(ee.parentNode[V]._isOutsideThisEl(e.target),!t&&Ue(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function U(){ue=M(ee),de=M(ee,l.draggable),Z({sortable:p,name:"change",toEl:i,newIndex:ue,newDraggableIndex:de,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){w(document,"mousemove",this._onTouchMove),w(document,"touchmove",this._onTouchMove),w(document,"pointermove",this._onTouchMove),w(document,"dragover",Ue),w(document,"mousemove",Ue),w(document,"touchmove",Ue)},_offUpEvents:function(){var e=this.el.ownerDocument;w(e,"mouseup",this._onDrop),w(e,"touchend",this._onDrop),w(e,"pointerup",this._onDrop),w(e,"pointercancel",this._onDrop),w(e,"touchcancel",this._onDrop),w(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ue=M(ee),de=M(ee,n.draggable),G("drop",this,{evt:e}),te=ee&&ee.parentNode,ue=M(ee),de=M(ee,n.draggable),We.eventCanceled||(Ce=!1,Pe=!1,je=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ye(this.cloneId),Ye(this._dragStartId),this.nativeDraggable&&(w(document,"drop",this),w(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),m&&N(document.body,"user-select",""),N(ee,"transform",""),e&&(we&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ne&&ne.parentNode&&ne.parentNode.removeChild(ne),(re===te||he&&"clone"!==he.lastPutMode)&&ie&&ie.parentNode&&ie.parentNode.removeChild(ie),ee&&(this.nativeDraggable&&w(ee,"dragend",this),qe(ee),ee.style["will-change"]="",we&&!Ce&&E(ee,he?he.options.ghostClass:this.options.ghostClass,!1),E(ee,this.options.chosenClass,!1),Z({sortable:this,name:"unchoose",toEl:te,newIndex:null,newDraggableIndex:null,originalEvent:e}),re!==te?(ue>=0&&(Z({rootEl:te,name:"add",toEl:te,fromEl:re,originalEvent:e}),Z({sortable:this,name:"remove",toEl:te,originalEvent:e}),Z({rootEl:te,name:"sort",toEl:te,fromEl:re,originalEvent:e}),Z({sortable:this,name:"sort",toEl:te,originalEvent:e})),he&&he.save()):ue!==le&&ue>=0&&(Z({sortable:this,name:"update",toEl:te,originalEvent:e}),Z({sortable:this,name:"sort",toEl:te,originalEvent:e})),We.active&&(null!=ue&&-1!==ue||(ue=le,de=ce),Z({sortable:this,name:"end",toEl:te,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){G("nulling",this),re=ee=te=ne=ae=ie=oe=se=pe=me=we=ue=de=le=ce=xe=_e=he=fe=We.dragged=We.ghost=We.clone=We.active=null,Ie.forEach((function(e){e.checked=!0})),Ie.length=ge=ye=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ee&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,a=n.length,o=this.options;r<a;r++)S(e=n[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||Xe(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var a=r.children[t];S(a,this.options.draggable,r,!1)&&(n[e]=a)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return S(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=J.modifyOption(this,e,t);n[e]="undefined"!==typeof r?r:t,"group"===e&&$e(n)},destroy:function(){G("destroy",this);var e=this.el;e[V]=null,w(e,"mousedown",this._onTapStart),w(e,"touchstart",this._onTapStart),w(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(w(e,"dragover",this),w(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Ne.splice(Ne.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!se){if(G("hideClone",this),We.eventCanceled)return;N(ie,"display","none"),this.options.removeCloneOnHide&&ie.parentNode&&ie.parentNode.removeChild(ie),se=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(se){if(G("showClone",this),We.eventCanceled)return;ee.parentNode!=re||this.options.group.revertClone?ae?re.insertBefore(ie,ae):re.appendChild(ie):re.insertBefore(ie,ee),this.options.group.revertClone&&this.animate(ee,ie),N(ie,"display",""),se=!1}}else this._hideClone()}},Oe&&b(document,"touchmove",(function(e){(We.active||Ce)&&e.cancelable&&e.preventDefault()})),We.utils={on:b,off:w,css:N,find:P,is:function(e,t){return!!S(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:$,closest:S,toggleClass:E,clone:z,index:M,nextTick:Je,cancelNextTick:Ye,detectDirection:Be,getChild:O,expando:V},We.get=function(e){return e[V]},We.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(We.utils=a(a({},We.utils),e.utils)),J.mount(e)}))},We.create=function(e,t){return new We(e,t)},We.version="1.15.6";var Qe,Ge,Ze,et,tt,nt,rt=[],at=!1;function ot(){rt.forEach((function(e){clearInterval(e.pid)})),rt=[]}function it(){clearInterval(nt)}var st,lt=$((function(e,t,n,r){if(t.scroll){var a,o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,u=A(),c=!1;Ge!==n&&(Ge=n,ot(),Qe=t.scroll,a=t.scrollFn,!0===Qe&&(Qe=L(n,!0)));var d=0,f=Qe;do{var h=f,p=T(h),m=p.top,g=p.bottom,y=p.left,v=p.right,b=p.width,w=p.height,x=void 0,_=void 0,S=h.scrollWidth,k=h.scrollHeight,C=N(h),E=h.scrollLeft,j=h.scrollTop;h===u?(x=b<S&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),_=w<k&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(x=b<S&&("auto"===C.overflowX||"scroll"===C.overflowX),_=w<k&&("auto"===C.overflowY||"scroll"===C.overflowY));var P=x&&(Math.abs(v-o)<=s&&E+b<S)-(Math.abs(y-o)<=s&&!!E),I=_&&(Math.abs(g-i)<=s&&j+w<k)-(Math.abs(m-i)<=s&&!!j);if(!rt[d])for(var O=0;O<=d;O++)rt[O]||(rt[O]={});rt[d].vx==P&&rt[d].vy==I&&rt[d].el===h||(rt[d].el=h,rt[d].vx=P,rt[d].vy=I,clearInterval(rt[d].pid),0==P&&0==I||(c=!0,rt[d].pid=setInterval(function(){r&&0===this.layer&&We.active._onTouchMove(tt);var t=rt[this.layer].vy?rt[this.layer].vy*l:0,n=rt[this.layer].vx?rt[this.layer].vx*l:0;"function"===typeof a&&"continue"!==a.call(We.dragged.parentNode[V],n,t,e,tt,rt[this.layer].el)||F(rt[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==u&&(f=L(f,!1)));at=c}}),30),ut=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,a=e.activeSortable,o=e.dispatchSortableEvent,i=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||a;i();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(u.clientX,u.clientY);s(),l&&!l.el.contains(c)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function ct(){}function dt(){}function ft(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;st=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,a=e.activeSortable,o=e.changed,i=e.cancel;if(a.options.swap){var s=this.sortable.el,l=this.options;if(n&&n!==s){var u=st;!1!==r(n)?(E(n,l.swapClass,!0),st=n):st=null,u&&u!==st&&E(u,l.swapClass,!1)}o(),t(!0),i()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,a=n||this.sortable,o=this.options;st&&E(st,o.swapClass,!1),st&&(o.swap||n&&n.options.swap)&&r!==st&&(a.captureAnimationState(),a!==t&&t.captureAnimationState(),function(e,t){var n,r,a=e.parentNode,o=t.parentNode;if(!a||!o||a.isEqualNode(t)||o.isEqualNode(e))return;n=M(e),r=M(t),a.isEqualNode(o)&&n<r&&r++;a.insertBefore(t,a.children[n]),o.insertBefore(e,o.children[r])}(r,st),a.animateAll(),a!==t&&t.animateAll())},nulling:function(){st=null}},s(e,{pluginName:"swap",eventProperties:function(){return{swapItem:st}}})}ct.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=O(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:ut},s(ct,{pluginName:"revertOnSpill"}),dt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:ut},s(dt,{pluginName:"removeOnSpill"});var ht,pt,mt,gt,yt,vt=[],bt=[],wt=!1,xt=!1,_t=!1;function St(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this));e.options.avoidImplicitDeselect||(e.options.supportPointer?b(document,"pointerup",this._deselectMultiDrag):(b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag))),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(t,n){var r="";vt.length&&pt===e?vt.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;mt=t},delayEnded:function(){this.isMultiDrag=~vt.indexOf(mt)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<vt.length;r++)bt.push(z(vt[r])),bt[r].sortableIndex=vt[r].sortableIndex,bt[r].draggable=!1,bt[r].style["will-change"]="",E(bt[r],this.options.selectedClass,!1),vt[r]===mt&&E(bt[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,a=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||vt.length&&pt===t&&(kt(!0,n),r("clone"),a()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(kt(!1,n),bt.forEach((function(e){N(e,"display","")})),t(),yt=!1,r())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(bt.forEach((function(e){N(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),yt=!0,r())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&pt&&pt.multiDrag._deselectMultiDrag(),vt.forEach((function(e){e.sortableIndex=M(e)})),vt=vt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),_t=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){vt.forEach((function(e){e!==mt&&N(e,"position","absolute")}));var r=T(mt,!1,!0,!0);vt.forEach((function(e){e!==mt&&U(e,r)})),xt=!0,wt=!0}n.animateAll((function(){xt=!1,wt=!1,t.options.animation&&vt.forEach((function(e){H(e)})),t.options.sort&&Ct()}))}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;xt&&~vt.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,a=e.dragRect;vt.length>1&&(vt.forEach((function(e){r.addAnimationState({target:e,rect:xt?T(e):a}),H(e),e.fromRect=a,t.removeAnimationState(e)})),xt=!1,function(e,t){vt.forEach((function(n,r){var a=t.children[n.sortableIndex+(e?Number(r):0)];a?t.insertBefore(n,a):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,a=e.activeSortable,o=e.parentEl,i=e.putSortable,s=this.options;if(r){if(n&&a._hideClone(),wt=!1,s.animation&&vt.length>1&&(xt||!n&&!a.options.sort&&!i)){var l=T(mt,!1,!0,!0);vt.forEach((function(e){e!==mt&&(U(e,l),o.appendChild(e))})),xt=!0}if(!n)if(xt||Ct(),vt.length>1){var u=yt;a._showClone(t),a.options.animation&&!yt&&u&&bt.forEach((function(e){a.addAnimationState({target:e,rect:gt}),e.fromRect=gt,e.thisAnimationDuration=null}))}else a._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(vt.forEach((function(e){e.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){gt=s({},t);var a=j(mt,!0);gt.top-=a.f,gt.left-=a.e}},dragOverAnimationComplete:function(){xt&&(xt=!1,Ct())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,a=e.sortable,o=e.dispatchSortableEvent,i=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var u=this.options,c=r.children;if(!_t)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),E(mt,u.selectedClass,!~vt.indexOf(mt)),~vt.indexOf(mt))vt.splice(vt.indexOf(mt),1),ht=null,Y({sortable:a,rootEl:n,name:"deselect",targetEl:mt,originalEvent:t});else{if(vt.push(mt),Y({sortable:a,rootEl:n,name:"select",targetEl:mt,originalEvent:t}),t.shiftKey&&ht&&a.el.contains(ht)){var d=M(ht),f=M(mt);~d&&~f&&d!==f&&function(){var e,o;f>d?(o=d,e=f):(o=f,e=d+1);for(var i=u.filter;o<e;o++){if(!~vt.indexOf(c[o]))if(S(c[o],u.draggable,r,!1))i&&("function"===typeof i?i.call(a,t,c[o],a):i.split(",").some((function(e){return S(c[o],e.trim(),r,!1)})))||(E(c[o],u.selectedClass,!0),vt.push(c[o]),Y({sortable:a,rootEl:n,name:"select",targetEl:c[o],originalEvent:t}))}}()}else ht=mt;pt=l}if(_t&&this.isMultiDrag){if(xt=!1,(r[V].options.sort||r!==n)&&vt.length>1){var h=T(mt),p=M(mt,":not(."+this.options.selectedClass+")");if(!wt&&u.animation&&(mt.thisAnimationDuration=null),l.captureAnimationState(),!wt&&(u.animation&&(mt.fromRect=h,vt.forEach((function(e){if(e.thisAnimationDuration=null,e!==mt){var t=xt?T(e):h;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),Ct(),vt.forEach((function(e){c[p]?r.insertBefore(e,c[p]):r.appendChild(e),p++})),i===M(mt))){var m=!1;vt.forEach((function(e){e.sortableIndex===M(e)||(m=!0)})),m&&(o("update"),o("sort"))}vt.forEach((function(e){H(e)})),l.animateAll()}pt=l}(n===r||s&&"clone"!==s.lastPutMode)&&bt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=_t=!1,bt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),w(document,"pointerup",this._deselectMultiDrag),w(document,"mouseup",this._deselectMultiDrag),w(document,"touchend",this._deselectMultiDrag),w(document,"keydown",this._checkKeyDown),w(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(("undefined"===typeof _t||!_t)&&pt===this.sortable&&(!e||!S(e.target,this.options.draggable,this.sortable.el,!1))&&(!e||0===e.button))for(;vt.length;){var t=vt[0];E(t,this.options.selectedClass,!1),vt.shift(),Y({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvent:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},s(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[V];t&&t.options.multiDrag&&!~vt.indexOf(e)&&(pt&&pt!==t&&(pt.multiDrag._deselectMultiDrag(),pt=t),E(e,t.options.selectedClass,!0),vt.push(e))},deselect:function(e){var t=e.parentNode[V],n=vt.indexOf(e);t&&t.options.multiDrag&&~n&&(E(e,t.options.selectedClass,!1),vt.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return vt.forEach((function(r){var a;t.push({multiDragElement:r,index:r.sortableIndex}),a=xt&&r!==mt?-1:xt?M(r,":not(."+e.options.selectedClass+")"):M(r),n.push({multiDragElement:r,index:a})})),{items:u(vt),clones:[].concat(bt),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function kt(e,t){bt.forEach((function(n,r){var a=t.children[n.sortableIndex+(e?Number(r):0)];a?t.insertBefore(n,a):t.appendChild(n)}))}function Ct(){vt.forEach((function(e){e!==mt&&e.parentNode&&e.parentNode.removeChild(e)}))}We.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):this.options.supportPointer?b(document,"pointermove",this._handleFallbackAutoScroll):t.touches?b(document,"touchmove",this._handleFallbackAutoScroll):b(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):(w(document,"pointermove",this._handleFallbackAutoScroll),w(document,"touchmove",this._handleFallbackAutoScroll),w(document,"mousemove",this._handleFallbackAutoScroll)),it(),ot(),clearTimeout(k),k=void 0},nulling:function(){tt=Ge=Qe=at=nt=Ze=et=null,rt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,a);if(tt=e,t||this.options.forceAutoScrollFallback||h||f||m){lt(e,this.options,o,t);var i=L(o,!0);!at||nt&&r===Ze&&a===et||(nt&&it(),nt=setInterval((function(){var o=L(document.elementFromPoint(r,a),!0);o!==i&&(i=o,ot()),lt(e,n.options,o,t)}),10),Ze=r,et=a)}else{if(!this.options.bubbleScroll||L(o,!0)===A())return void ot();lt(e,this.options,L(o,!1),!1)}}},s(e,{pluginName:"scroll",initializeByDefault:!0})}),We.mount(dt,ct);const Et=We},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},972:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=!0,a="Invariant failed";function o(e,t){if(!e){if(r)throw new Error(a);var n="function"===typeof t?t():t;throw new Error(n?a+": "+n:a)}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(43),t=n(391);const r=e=>{if(!e||!e.includes(":"))return 0;const[t,n]=e.split(":").map(Number);return isNaN(t)||isNaN(n)?0:60*t+n},a=e=>{switch(e){case"University":return"border-blue-500 bg-blue-100";case"Study_Intensive":return"border-purple-600 bg-purple-100";case"Study_Review":return"border-indigo-600 bg-indigo-100";case"Study_Prep":return"border-teal-600 bg-teal-100";case"Work":return"border-green-600 bg-green-100";case"Travel":return"border-yellow-500 bg-yellow-100";case"Routine":return"border-gray-500 bg-gray-200";case"Meal":return"border-orange-500 bg-orange-100";case"Break":return"border-pink-500 bg-pink-100";case"Sleep":return"border-slate-600 bg-slate-200";case"Flexible":return"border-cyan-600 bg-cyan-100";case"Language":return"border-lime-600 bg-lime-100";case"Free_Time":return"border-rose-500 bg-rose-100";case"Buffer":return"border-stone-500 bg-stone-100";case"Housework":return"border-amber-600 bg-amber-100";case"Other":return"border-gray-400 bg-gray-100";default:return"border-gray-400 bg-white"}},o=e=>{try{return localStorage.setItem("weeklyScheduleData",JSON.stringify(e)),console.log("Schedule saved to Local Storage."),!0}catch(t){return console.error("Error saving to Local Storage:",t),alert("Error saving schedule to browser storage. Storage might be full or permission denied."),!1}},i=JSON.parse('{"Monday":[{"start_time":"06:30","end_time":"07:00","activity":"Wake up, Morning Routine","type":"Routine","details":null},{"start_time":"07:00","end_time":"07:45","activity":"Travel to Uni","type":"Travel","details":"Use first 20min for: Spanish Vocab 1 (15min)"},{"start_time":"07:45","end_time":"08:00","activity":"Arrive, Settle","type":"Buffer","details":null},{"start_time":"08:00","end_time":"09:30","activity":"Micro-Econ","type":"University","details":null},{"start_time":"09:30","end_time":"10:00","activity":"Break / Coffee","type":"Break","details":null},{"start_time":"10:00","end_time":"10:30","activity":"Review Micro-Econ","type":"Study_Review","details":"1 Pomodoro"},{"start_time":"10:30","end_time":"11:00","activity":"Prep Cost Accounting","type":"Study_Prep","details":"1 Pomodoro"},{"start_time":"11:00","end_time":"12:00","activity":"Intensive Study: Business Statistics","type":"Study_Intensive","details":"2 Pomodoros"},{"start_time":"12:00","end_time":"12:30","activity":"Lunch","type":"Meal","details":null},{"start_time":"12:30","end_time":"13:00","activity":"Prep Business Statistics (for 17:30 class)","type":"Study_Prep","details":"1 Pomodoro"},{"start_time":"13:00","end_time":"14:00","activity":"Housework / Misc","type":"Housework","details":"Flex Slot 1 - Can be split/deferred"},{"start_time":"14:00","end_time":"15:30","activity":"Cost Accounting","type":"University","details":null},{"start_time":"15:30","end_time":"16:00","activity":"Break","type":"Break","details":null},{"start_time":"16:00","end_time":"17:00","activity":"Intensive Study: Micro-Econ","type":"Study_Intensive","details":"2 Pomodoros (High Priority)"},{"start_time":"17:00","end_time":"17:30","activity":"Review Cost Accounting","type":"Study_Review","details":"1 Pomodoro"},{"start_time":"17:30","end_time":"19:00","activity":"Business Statistics","type":"University","details":null},{"start_time":"19:00","end_time":"19:30","activity":"Dinner","type":"Meal","details":null},{"start_time":"19:30","end_time":"20:15","activity":"Travel Home","type":"Travel","details":"Use first 20min for: Spanish Vocab 2 (15min)"},{"start_time":"20:15","end_time":"21:00","activity":"Review Business Statistics","type":"Study_Review","details":"Approx 1.5 Pomodoros"},{"start_time":"21:00","end_time":"22:00","activity":"Free Time / Wind Down","type":"Free_Time","details":null},{"start_time":"22:00","end_time":"22:30","activity":"Shower","type":"Routine","details":null},{"start_time":"22:30","end_time":"06:30","activity":"Sleep","type":"Sleep","details":"8 hours"}],"Tuesday":[{"start_time":"06:30","end_time":"07:00","activity":"Wake up, Morning Routine","type":"Routine","details":null},{"start_time":"07:00","end_time":"07:45","activity":"Travel to Uni","type":"Travel","details":"Use first 20min for: Spanish Vocab 1 (15min)"},{"start_time":"07:45","end_time":"08:00","activity":"Arrive, Settle","type":"Buffer","details":null},{"start_time":"08:00","end_time":"09:30","activity":"Business Statistics","type":"University","details":null},{"start_time":"09:30","end_time":"10:00","activity":"Break / Coffee","type":"Break","details":null},{"start_time":"10:00","end_time":"10:30","activity":"Review Business Statistics","type":"Study_Review","details":"1 Pomodoro"},{"start_time":"10:30","end_time":"11:00","activity":"Prep Spanish A2","type":"Study_Prep","details":"1 Pomodoro"},{"start_time":"11:00","end_time":"11:30","activity":"Break / Buffer","type":"Break","details":null},{"start_time":"11:30","end_time":"13:00","activity":"Spanish A2","type":"University","details":null},{"start_time":"13:00","end_time":"13:30","activity":"Lunch","type":"Meal","details":null},{"start_time":"13:30","end_time":"14:00","activity":"Prep Financial Accounting","type":"Study_Prep","details":"1 Pomodoro"},{"start_time":"14:00","end_time":"15:30","activity":"Spanish A2","type":"University","details":null},{"start_time":"15:30","end_time":"15:45","activity":"Quick Break / Transition","type":"Break","details":null},{"start_time":"15:45","end_time":"17:15","activity":"Financial Accounting","type":"University","details":null},{"start_time":"17:15","end_time":"17:30","activity":"Quick Break / Transition","type":"Break","details":null},{"start_time":"17:30","end_time":"19:00","activity":"Micro-Econ","type":"University","details":null},{"start_time":"19:00","end_time":"19:30","activity":"Dinner","type":"Meal","details":null},{"start_time":"19:30","end_time":"20:15","activity":"Travel Home","type":"Travel","details":"Use first 20min for: Spanish Vocab 2 (15min)"},{"start_time":"20:15","end_time":"21:15","activity":"Intensive Study: Micro-Econ","type":"Study_Intensive","details":"2 Pomodoros (High Priority)"},{"start_time":"21:15","end_time":"22:00","activity":"Flex Slot 2: Review Fin Acc / Spanish OR Housework","type":"Flexible","details":"1 Pomodoro study or Housework (Can be split/deferred)"},{"start_time":"22:00","end_time":"22:30","activity":"Shower","type":"Routine","details":null},{"start_time":"22:30","end_time":"06:30","activity":"Sleep","type":"Sleep","details":"8 hours"}],"Wednesday":[{"start_time":"06:30","end_time":"07:00","activity":"Wake up, Morning Routine","type":"Routine","details":null},{"start_time":"07:00","end_time":"07:45","activity":"Travel to Uni","type":"Travel","details":"Use first 20min for: Spanish Vocab 1 (15min)"},{"start_time":"07:45","end_time":"08:00","activity":"Arrive, Settle","type":"Buffer","details":null},{"start_time":"08:00","end_time":"09:30","activity":"English Vizethum","type":"University","details":"Low priority"},{"start_time":"09:30","end_time":"09:45","activity":"Quick Break / Transition","type":"Break","details":null},{"start_time":"09:45","end_time":"11:15","activity":"English Rose-","type":"University","details":"Low priority"},{"start_time":"11:30","end_time":"13:00","activity":"International","type":"University","details":null},{"start_time":"13:00","end_time":"13:30","activity":"Lunch","type":"Meal","details":null},{"start_time":"13:30","end_time":"14:00","activity":"Prep Business Information","type":"Study_Prep","details":"1 Pomodoro (High Priority)"},{"start_time":"14:00","end_time":"15:30","activity":"Business Information","type":"University","details":null},{"start_time":"15:30","end_time":"16:00","activity":"Break","type":"Break","details":null},{"start_time":"16:00","end_time":"17:00","activity":"Intensive Study: Business Statistics","type":"Study_Intensive","details":"2 Pomodoros (High Priority)"},{"start_time":"17:00","end_time":"17:30","activity":"Prep Applied Information","type":"Study_Prep","details":"1 Pomodoro"},{"start_time":"17:30","end_time":"19:00","activity":"Applied Information","type":"University","details":null},{"start_time":"19:00","end_time":"19:30","activity":"Dinner","type":"Meal","details":null},{"start_time":"19:30","end_time":"20:15","activity":"Travel Home","type":"Travel","details":"Use first 20min for: Spanish Vocab 2 (15min)"},{"start_time":"20:15","end_time":"21:15","activity":"Review Business/Applied Information","type":"Study_Review","details":"2 Pomodoros (High Priority)"},{"start_time":"21:15","end_time":"22:00","activity":"Flex Slot 3: Review International/Prep Spanish OR Housework OR Free Time","type":"Flexible","details":"1 Pomodoro study or Housework (Can be split/deferred) or Free Time"},{"start_time":"22:00","end_time":"22:30","activity":"Shower","type":"Routine","details":null},{"start_time":"22:30","end_time":"06:30","activity":"Sleep","type":"Sleep","details":"8 hours"}],"Thursday":[{"start_time":"06:30","end_time":"07:00","activity":"Wake up, Morning Routine","type":"Routine","details":null},{"start_time":"07:00","end_time":"07:45","activity":"Travel to Uni","type":"Travel","details":"Use first 20min for: Quick review/prep if needed"},{"start_time":"07:45","end_time":"08:00","activity":"Arrive, Settle","type":"Buffer","details":null},{"start_time":"08:00","end_time":"09:30","activity":"Spanish A2","type":"University","details":null},{"start_time":"09:30","end_time":"10:15","activity":"Travel Home","type":"Travel","details":"Use first 20min for: Spanish Vocab 1 (15min)"},{"start_time":"10:15","end_time":"12:15","activity":"Work","type":"Work","details":"Home. Optional Study (if work allows): 1-2 Pomodoros (e.g., Stats/Micro-Econ Review). Can integrate Housework."},{"start_time":"12:15","end_time":"12:45","activity":"Lunch","type":"Meal","details":null},{"start_time":"12:45","end_time":"17:00","activity":"Work","type":"Work","details":"Home. Optional Study (if work allows): 2-3 Pomodoros (e.g., Business Info/Stats Practice). Can integrate Housework."},{"start_time":"17:00","end_time":"17:30","activity":"Break / Transition from Work","type":"Break","details":null},{"start_time":"17:30","end_time":"19:00","activity":"Intensive Study: Micro-Econ","type":"Study_Intensive","details":"3 Pomodoros (High Priority)"},{"start_time":"19:00","end_time":"19:30","activity":"Dinner","type":"Meal","details":null},{"start_time":"19:30","end_time":"20:30","activity":"Intensive Study: Business Statistics","type":"Study_Intensive","details":"2 Pomodoros (High Priority)"},{"start_time":"20:30","end_time":"20:45","activity":"Spanish Vocab 2","type":"Language","details":"15 min"},{"start_time":"20:45","end_time":"22:00","activity":"Housework / Misc / Buffer","type":"Housework","details":"Complete remaining/deferred tasks, or use as Free Time/Buffer"},{"start_time":"22:00","end_time":"22:30","activity":"Shower","type":"Routine","details":null},{"start_time":"22:30","end_time":"06:30","activity":"Sleep","type":"Sleep","details":"8 hours"}],"Friday":[{"start_time":"06:30","end_time":"07:00","activity":"Wake up, Morning Routine","type":"Routine","details":null},{"start_time":"07:00","end_time":"07:30","activity":"Breakfast","type":"Meal","details":null},{"start_time":"07:30","end_time":"08:00","activity":"Spanish Vocab 1 & Plan Day","type":"Language","details":"Spanish Vocab (15 min) + Plan Day/Quick Review (15 min)"},{"start_time":"08:00","end_time":"09:00","activity":"Intensive Study: Business Informatics","type":"Study_Intensive","details":"2 Pomodoros (High Priority)"},{"start_time":"09:00","end_time":"12:00","activity":"Work","type":"Work","details":"Home. Optional Study (if work allows): 1-2 Pomodoros (e.g., Review week\'s material). Can integrate Housework."},{"start_time":"12:00","end_time":"12:30","activity":"Lunch","type":"Meal","details":null},{"start_time":"12:30","end_time":"17:00","activity":"Work","type":"Work","details":"Home. Optional Study (if work allows): 2-3 Pomodoros (e.g., Practice problems Stats/Micro-Econ). Can integrate Housework."},{"start_time":"17:00","end_time":"17:30","activity":"Break / Transition from Work","type":"Break","details":null},{"start_time":"17:30","end_time":"18:30","activity":"Intensive Study: Topic of Choice (Weakest)","type":"Study_Intensive","details":"2 Pomodoros"},{"start_time":"18:30","end_time":"19:00","activity":"Spanish Vocab 2 & Buffer","type":"Language","details":"Spanish Vocab (15 min) + Buffer (15 min)"},{"start_time":"19:00","end_time":"19:30","activity":"Dinner","type":"Meal","details":null},{"start_time":"19:30","end_time":"21:00","activity":"Review Weekly Topics / Plan Weekend OR Free Time","type":"Study_Review","details":"Max 3 Pomodoros OR Free Time"},{"start_time":"21:00","end_time":"22:00","activity":"Housework / Misc / Free Time","type":"Housework","details":"Complete remaining/deferred tasks or Free Time"},{"start_time":"22:00","end_time":"22:30","activity":"Shower","type":"Routine","details":null},{"start_time":"22:30","end_time":"06:30","activity":"Sleep","type":"Sleep","details":"8 hours"}],"Saturday":[{"start_time":"07:30","end_time":"08:00","activity":"Wake up, Morning Routine","type":"Routine","details":null},{"start_time":"08:00","end_time":"08:30","activity":"Breakfast","type":"Meal","details":null},{"start_time":"08:30","end_time":"08:45","activity":"Spanish Vocab 1","type":"Language","details":"15 min"},{"start_time":"08:45","end_time":"11:00","activity":"Intensive Study Block 1: Business Statistics","type":"Study_Intensive","details":"4 Pomodoros (High Priority)"},{"start_time":"11:00","end_time":"11:30","activity":"Break / Walk","type":"Break","details":null},{"start_time":"11:30","end_time":"13:15","activity":"Intensive Study Block 2: Micro-Economics","type":"Study_Intensive","details":"3 Pomodoros (High Priority)"},{"start_time":"13:15","end_time":"14:00","activity":"Lunch","type":"Meal","details":null},{"start_time":"14:00","end_time":"15:00","activity":"Housework / Misc OR Optional Activity","type":"Flexible","details":"Catch up deferred Housework or Free Time"},{"start_time":"15:00","end_time":"17:15","activity":"Intensive Study Block 3: Business Informatics","type":"Study_Intensive","details":"4 Pomodoros (High Priority)"},{"start_time":"17:15","end_time":"17:30","activity":"Spanish Vocab 2","type":"Language","details":"15 min"},{"start_time":"17:30","end_time":"19:00","activity":"Optional Activity / Free Time / Errands","type":"Free_Time","details":null},{"start_time":"19:00","end_time":"19:30","activity":"Dinner","type":"Meal","details":null},{"start_time":"19:30","end_time":"22:00","activity":"Free Time / Relaxation / Social","type":"Free_Time","details":null},{"start_time":"22:00","end_time":"22:30","activity":"Shower","type":"Routine","details":null},{"start_time":"22:30","end_time":"07:30","activity":"Sleep","type":"Sleep","details":"9 hours (adjust as needed for weekend)"}],"Sunday":[{"start_time":"08:00","end_time":"08:30","activity":"Wake up, Morning Routine","type":"Routine","details":"Adjust wake time if desired"},{"start_time":"08:30","end_time":"09:00","activity":"Breakfast","type":"Meal","details":null},{"start_time":"09:00","end_time":"09:15","activity":"Spanish Vocab 1","type":"Language","details":"15 min"},{"start_time":"09:15","end_time":"11:30","activity":"Intensive Study Block 4: Weakest Subject Review","type":"Study_Intensive","details":"4 Pomodoros"},{"start_time":"11:30","end_time":"12:00","activity":"Break / Walk","type":"Break","details":null},{"start_time":"12:00","end_time":"13:00","activity":"Review & Prep for Monday","type":"Study_Prep","details":"2 Pomodoros (Micro-Econ, Cost Acc)"},{"start_time":"13:00","end_time":"13:45","activity":"Lunch","type":"Meal","details":null},{"start_time":"13:45","end_time":"14:45","activity":"Housework / Misc OR Optional Activity","type":"Flexible","details":"Catch up deferred Housework or Free Time"},{"start_time":"14:45","end_time":"16:15","activity":"Intensive Study Block 5: Catch-up / Other Subjects","type":"Study_Intensive","details":"3 Pomodoros (e.g., Fin Acc, International, Spanish Grammar)"},{"start_time":"16:15","end_time":"16:30","activity":"Spanish Vocab 2","type":"Language","details":"15 min"},{"start_time":"16:30","end_time":"19:00","activity":"Optional Activity / Free Time / Plan Week Ahead","type":"Free_Time","details":null},{"start_time":"19:00","end_time":"19:30","activity":"Dinner","type":"Meal","details":null},{"start_time":"19:30","end_time":"22:00","activity":"Free Time / Relaxation / Prepare for Week","type":"Free_Time","details":null},{"start_time":"22:00","end_time":"22:30","activity":"Shower","type":"Routine","details":null},{"start_time":"22:30","end_time":"06:30","activity":"Sleep","type":"Sleep","details":"8 hours"}]}');var s=n(579);const l=(0,e.createContext)(),u=()=>(0,e.useContext)(l),c=t=>{let{children:n}=t;const[a,u]=(0,e.useState)({}),[c,d]=(0,e.useState)(null),[f,h]=(0,e.useState)(!0),p=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],m=async()=>{h(!0);const e=(()=>{try{const e=localStorage.getItem("weeklyScheduleData");if(e){const t=JSON.parse(e);return"object"!==typeof t||null===t?(console.warn("Invalid data format in local storage"),null):t}return null}catch(e){return console.error("Error loading from Local Storage:",e),alert("Error reading schedule from browser storage. Data might be corrupted."),null}})();e&&Object.keys(e).length>0?(console.log("Loaded schedule from local storage."),u(g(e))):(console.log("No local storage data found, using default schedule"),u(g(i)));const t=(new Date).getDay();d(p[0===t?6:t-1]),h(!1)};(0,e.useEffect)((()=>{m()}),[]);const g=e=>{const t={...e};return p.forEach((e=>{t[e]&&Array.isArray(t[e])||(t[e]=[])})),t};return(0,s.jsx)(l.Provider,{value:{scheduleData:a,setScheduleData:u,currentDay:c,setCurrentDay:d,daysOfWeek:p,isLoading:f,addActivity:(e,t)=>{const n={...a};return n[e]||(n[e]=[]),t.isAutoGenerated||(t.isNewlyAdded=!0,setTimeout((()=>{const n={...a},r=n[e].findIndex((e=>e.activity===t.activity&&e.start_time===t.start_time&&e.end_time===t.end_time));-1!==r&&(n[e][r]={...n[e][r],isNewlyAdded:!1},u(n),o(n))}),2e3)),n[e].push(t),n[e].sort(((e,t)=>r(e.start_time)-r(t.start_time))),u(n),o(n),n},updateActivity:(e,t,n)=>{const i={...a};return!i[e]||t>=i[e].length?(console.error("Invalid day or index for updating activity"),a):(i[e][t]=n,i[e].sort(((e,t)=>r(e.start_time)-r(t.start_time))),u(i),o(i),i)},deleteActivity:(e,t)=>{const n={...a};return!n[e]||t>=n[e].length?(console.error("Invalid day or index for deleting activity"),a):(n[e].splice(t,1),u(n),o(n),n)},reorderActivities:(e,t)=>{const n={...a};return n[e]&&Array.isArray(t)?(n[e]=t,u(n),o(n),n):(console.error("Invalid day or order array for reordering activities"),a)},exportToJson:()=>{if(0!==Object.keys(a).length)try{const e=JSON.parse(JSON.stringify(a));for(const a in e)Array.isArray(e[a])&&e[a].forEach((e=>delete e.id));const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download="my_schedule.json",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}catch(e){console.error("Error creating JSON download:",e),alert("Failed to create JSON file for download.")}else alert("No schedule data to download.")},importFromJson:e=>{try{if("object"!==typeof e||null===e)throw new Error("Uploaded file is not a valid JSON object.");if(!p.some((t=>e.hasOwnProperty(t)&&Array.isArray(e[t]))))throw new Error("JSON structure doesn't match the expected weekly schedule format.");const t=g(e);return u(t),o(t),!0}catch(t){return console.error("Error processing JSON data:",t),alert(`Failed to load schedule from data: ${t.message}`),!1}},clearAllData:()=>{const e={};return p.forEach((t=>{e[t]=[]})),u(e),o(e),!0},saveToLocalStorage:()=>o(a),loadFromStorage:m},children:n})},d=(0,e.createContext)(),f=()=>(0,e.useContext)(d),h=t=>{let{children:n}=t;const[r,a]=(0,e.useState)([]),o=()=>`notification-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,i=(0,e.useCallback)((e=>{a((t=>t.filter((t=>t.id!==e))))}),[]),l=(0,e.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;const r=o(),s={id:r,message:e,type:t,duration:n};return a((e=>[...e,s])),n>0&&setTimeout((()=>{i(r)}),n),r}),[i]),u=(0,e.useCallback)((e=>l(e,"info",5e3)),[l]),c=(0,e.useCallback)((e=>l(e,"success",3e3)),[l]),f=(0,e.useCallback)((e=>l(e,"error",5e3)),[l]),h=(0,e.useCallback)((e=>l(e,"warning",4e3)),[l]),p=(0,e.useCallback)(((e,t,n)=>{const r=o(),s={id:r,message:e,type:"confirm",duration:0,onConfirm:()=>{i(r),t&&t()},onCancel:()=>{i(r),n&&n()}};return a((e=>[...e,s])),r}),[i]);return(0,s.jsx)(d.Provider,{value:{notifications:r,addNotification:l,removeNotification:i,showAlert:u,showSuccess:c,showError:f,showWarning:h,showConfirm:p},children:n})},p=(0,e.createContext)(),m=()=>(0,e.useContext)(p),g=t=>{let{children:n}=t;const[r,a]=(0,e.useState)({workDuration:25,shortBreakDuration:5,longBreakDuration:15,cyclesBeforeLongBreak:4,autoStartBreaks:!1,autoStartPomodoros:!1,alarmSound:"bell",alarmVolume:.7});(0,e.useEffect)((()=>{const e=localStorage.getItem("pomodoroSettings");if(e)try{a(JSON.parse(e))}catch(t){console.error("Error loading Pomodoro settings:",t)}}),[]);return(0,s.jsx)(p.Provider,{value:{settings:r,updateSettings:e=>{const t={...r,...e};return a(t),localStorage.setItem("pomodoroSettings",JSON.stringify(t)),t}},children:n})},y=(0,e.createContext)(),v=t=>{let{children:n}=t;const[r,a]=(0,e.useState)(!1);(0,e.useEffect)((()=>{const e=localStorage.getItem("theme");if(e)a("dark"===e);else{const e=window.matchMedia("(prefers-color-scheme: dark)").matches;a(e)}}),[]),(0,e.useEffect)((()=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",r?"dark":"light")}),[r]);return(0,s.jsx)(y.Provider,{value:{isDarkMode:r,toggleDarkMode:()=>{a((e=>!e))},setTheme:e=>{a("dark"===e)}},children:n})},b="RFC3986",w={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},x=(Object.prototype.hasOwnProperty,Array.isArray),_=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();const S=1024;function k(e,t){if(x(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const C=Object.prototype.hasOwnProperty,E={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},N=Array.isArray,j=Array.prototype.push,P=function(e,t){j.apply(e,N(t)?t:[t])},A=Date.prototype.toISOString,T={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:(e,t,n,r,a)=>{if(0===e.length)return e;let o=e;if("symbol"===typeof e?o=Symbol.prototype.toString.call(e):"string"!==typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));let i="";for(let s=0;s<o.length;s+=S){const e=o.length>=S?o.slice(s,s+S):o,t=[];for(let n=0;n<e.length;++n){let r=e.charCodeAt(n);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122||"RFC1738"===a&&(40===r||41===r)?t[t.length]=e.charAt(n):r<128?t[t.length]=_[r]:r<2048?t[t.length]=_[192|r>>6]+_[128|63&r]:r<55296||r>=57344?t[t.length]=_[224|r>>12]+_[128|r>>6&63]+_[128|63&r]:(n+=1,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t[t.length]=_[240|r>>18]+_[128|r>>12&63]+_[128|r>>6&63]+_[128|63&r])}i+=t.join("")}return i},encodeValuesOnly:!1,format:b,formatter:w[b],indices:!1,serializeDate:e=>A.call(e),skipNulls:!1,strictNullHandling:!1};const I={};function O(e,t,n,r,a,o,i,s,l,u,c,d,f,h,p,m,g,y){let v=e,b=y,w=0,x=!1;for(;void 0!==(b=b.get(I))&&!x;){const t=b.get(e);if(w+=1,"undefined"!==typeof t){if(t===w)throw new RangeError("Cyclic object value");x=!0}"undefined"===typeof b.get(I)&&(w=0)}if("function"===typeof u?v=u(t,v):v instanceof Date?v=f?.(v):"comma"===n&&N(v)&&(v=k(v,(function(e){return e instanceof Date?f?.(e):e}))),null===v){if(o)return l&&!m?l(t,T.encoder,g,"key",h):t;v=""}if("string"===typeof(_=v)||"number"===typeof _||"boolean"===typeof _||"symbol"===typeof _||"bigint"===typeof _||function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}(v)){if(l){const e=m?t:l(t,T.encoder,g,"key",h);return[p?.(e)+"="+p?.(l(v,T.encoder,g,"value",h))]}return[p?.(t)+"="+p?.(String(v))]}var _;const S=[];if("undefined"===typeof v)return S;let C;if("comma"===n&&N(v))m&&l&&(v=k(v,l)),C=[{value:v.length>0?v.join(",")||null:void 0}];else if(N(u))C=u;else{const e=Object.keys(v);C=c?e.sort(c):e}const E=s?String(t).replace(/\./g,"%2E"):String(t),j=r&&N(v)&&1===v.length?E+"[]":E;if(a&&N(v)&&0===v.length)return j+"[]";for(let k=0;k<C.length;++k){const t=C[k],b="object"===typeof t&&"undefined"!==typeof t.value?t.value:v[t];if(i&&null===b)continue;const x=d&&s?t.replace(/\./g,"%2E"):t,_=N(v)?"function"===typeof n?n(j,x):j:j+(d?"."+x:"["+x+"]");y.set(e,w);const E=new WeakMap;E.set(I,y),P(S,O(b,_,n,r,a,o,i,s,"comma"===n&&m&&N(v)?null:l,u,c,d,f,h,p,m,g,E))}return S}function D(e){let t=e;const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.encodeDotInKeys&&"boolean"!==typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||T.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=b;if("undefined"!==typeof e.format){if(!C.call(w,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=w[n];let a,o=T.filter;if(("function"===typeof e.filter||N(e.filter))&&(o=e.filter),a=e.arrayFormat&&e.arrayFormat in E?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":T.arrayFormat,"commaRoundTrip"in e&&"boolean"!==typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const i="undefined"===typeof e.allowDots?!0===!!e.encodeDotInKeys||T.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:T.addQueryPrefix,allowDots:i,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:T.allowEmptyArrays,arrayFormat:a,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:T.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:"undefined"===typeof e.delimiter?T.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:T.encode,encodeDotInKeys:"boolean"===typeof e.encodeDotInKeys?e.encodeDotInKeys:T.encodeDotInKeys,encoder:"function"===typeof e.encoder?e.encoder:T.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:T.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:T.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:T.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:T.strictNullHandling}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});let r,a;"function"===typeof n.filter?(a=n.filter,t=a("",t)):N(n.filter)&&(a=n.filter,r=a);const o=[];if("object"!==typeof t||null===t)return"";const i=E[n.arrayFormat],s="comma"===i&&n.commaRoundTrip;r||(r=Object.keys(t)),n.sort&&r.sort(n.sort);const l=new WeakMap;for(let d=0;d<r.length;++d){const e=r[d];n.skipNulls&&null===t[e]||P(o,O(t[e],e,i,s,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}const u=o.join(n.delimiter);let c=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?c+="utf8=%26%2310003%3B&":c+="utf8=%E2%9C%93&"),u.length>0?c+u:""}const M="4.91.1";let R,L,B,$,F,z,U,H,W,V=!1,q=null,K=null,X=null,J=null;class Y{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}const Q=()=>{R||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{auto:!1};if(V)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(R)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${R}'\``);V=t.auto,R=e.kind,L=e.fetch,q=e.Request,K=e.Response,X=e.Headers,B=e.FormData,J=e.Blob,$=e.File,F=e.ReadableStream,z=e.getMultipartRequestOptions,U=e.getDefaultAgent,H=e.fileFromPath,W=e.isFsReadStream}(function(){let{manuallyImported:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,a,o;try{n=fetch,r=Request,a=Response,o=Headers}catch(i){throw new Error(`this environment is missing the following Web Fetch API type: ${i.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:a,Headers:o,FormData:"undefined"!==typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:"undefined"!==typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:"undefined"!==typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:"undefined"!==typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(e,t)=>({...t,body:new Y(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0})};Q();class G extends Error{}class Z extends G{constructor(e,t,n,r){super(`${Z.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.request_id=r?.["x-request-id"],this.error=t;const a=t;this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,t,n){const r=t?.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e||!r)return new te({message:n,cause:tt(t)});const a=t?.error;return 400===e?new re(e,a,n,r):401===e?new ae(e,a,n,r):403===e?new oe(e,a,n,r):404===e?new ie(e,a,n,r):409===e?new se(e,a,n,r):422===e?new le(e,a,n,r):429===e?new ue(e,a,n,r):e>=500?new ce(e,a,n,r):new Z(e,a,n,r)}}class ee extends Z{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(void 0,void 0,e||"Request was aborted.",void 0)}}class te extends Z{constructor(e){let{message:t,cause:n}=e;super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class ne extends te{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e??"Request timed out."})}}class re extends Z{}class ae extends Z{}class oe extends Z{}class ie extends Z{}class se extends Z{}class le extends Z{}class ue extends Z{}class ce extends Z{}class de extends G{constructor(){super("Could not parse response content as the length limit was reached")}}class fe extends G{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var he,pe=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},me=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class ge{constructor(){he.set(this,void 0),this.buffer=new Uint8Array,pe(this,he,null,"f")}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"===typeof e?(new TextEncoder).encode(e):e;let n=new Uint8Array(this.buffer.length+t.length);n.set(this.buffer),n.set(t,this.buffer.length),this.buffer=n;const r=[];let a;for(;null!=(a=ye(this.buffer,me(this,he,"f")));){if(a.carriage&&null==me(this,he,"f")){pe(this,he,a.index,"f");continue}if(null!=me(this,he,"f")&&(a.index!==me(this,he,"f")+1||a.carriage)){r.push(this.decodeText(this.buffer.slice(0,me(this,he,"f")-1))),this.buffer=this.buffer.slice(me(this,he,"f")),pe(this,he,null,"f");continue}const e=null!==me(this,he,"f")?a.preceding-1:a.preceding,t=this.decodeText(this.buffer.slice(0,e));r.push(t),this.buffer=this.buffer.slice(a.index),pe(this,he,null,"f")}return r}decodeText(e){if(null==e)return"";if("string"===typeof e)return e;if("undefined"!==typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new G(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!==typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new G(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new G("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode("\n"):[]}}function ye(e,t){for(let n=t??0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}function ve(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}function be(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}he=new WeakMap,ge.NEWLINE_CHARS=new Set(["\n","\r"]),ge.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class we{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;return new we((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const n of async function*(e,t){if(!e.body)throw t.abort(),new G("Attempted to iterate over a response with no body");const n=new xe,r=new ge,a=be(e.body);for await(const o of async function*(e){let t=new Uint8Array;for await(const n of e){if(null==n)continue;const e=n instanceof ArrayBuffer?new Uint8Array(n):"string"===typeof n?(new TextEncoder).encode(n):n;let r,a=new Uint8Array(t.length+e.length);for(a.set(t),a.set(e,t.length),t=a;-1!==(r=ve(t));)yield t.slice(0,r),t=t.slice(r)}t.length>0&&(yield t)}(a))for(const e of r.decode(o)){const t=n.decode(e);t&&(yield t)}for(const o of r.flush()){const e=n.decode(o);e&&(yield e)}}(e,t))if(!r)if(n.data.startsWith("[DONE]"))r=!0;else if(null===n.event||n.event.startsWith("response.")||n.event.startsWith("transcript.")){let t;try{t=JSON.parse(n.data)}catch(a){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),a}if(t&&t.error)throw new Z(void 0,t.error,void 0,Ue(e.headers));yield t}else{let e;try{e=JSON.parse(n.data)}catch(a){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),a}if("error"==n.event)throw new Z(void 0,e.error,e.message,void 0);yield{event:n.event,data:e}}r=!0}catch(a){if(a instanceof Error&&"AbortError"===a.name)return;throw a}finally{r||t.abort()}}),t)}static fromReadableStream(e,t){let n=!1;return new we((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const t of async function*(){const t=new ge,n=be(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(a){if(a instanceof Error&&"AbortError"===a.name)return;throw a}finally{r||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new we((()=>r(e)),this.controller),new we((()=>r(t)),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new F({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:a}=await t.next();if(a)return e.close();const o=n.encode(JSON.stringify(r)+"\n");e.enqueue(o)}catch(r){e.error(r)}},async cancel(){await(t.return?.())}})}}class xe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}const _e=e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob,Se=e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&ke(e),ke=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer,Ce=e=>Se(e)||_e(e)||W(e);async function Ee(e,t,n){if(e=await e,Se(e))return e;if(_e(e)){const r=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=ke(r)?[await r.arrayBuffer()]:[r];return new $(a,t,n)}const r=await async function(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(ke(e))t.push(await e.arrayBuffer());else{if(!je(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${function(e){const t=Object.getOwnPropertyNames(e);return`[${t.map((e=>`"${e}"`)).join(", ")}]`}(e)}`);for await(const n of e)t.push(n)}return t}(e);if(t||(t=function(e){return Ne(e.name)||Ne(e.filename)||Ne(e.path)?.split(/[\\/]/).pop()}(e)??"unknown_file"),!n?.type){const e=r[0]?.type;"string"===typeof e&&(n={...n,type:e})}return new $(r,t,n)}const Ne=e=>"string"===typeof e?e:"undefined"!==typeof Buffer&&e instanceof Buffer?String(e):void 0,je=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],Pe=e=>e&&"object"===typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],Ae=async e=>{const t=await Te(e.body);return z(t,e)},Te=async e=>{const t=new B;return await Promise.all(Object.entries(e||{}).map((e=>{let[n,r]=e;return Ie(t,n,r)}))),t},Ie=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)e.append(t,String(n));else if(Ce(n)){const r=await Ee(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map((n=>Ie(e,t+"[]",n))));else{if("object"!==typeof n)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`);await Promise.all(Object.entries(n).map((n=>{let[r,a]=n;return Ie(e,`${t}[${r}]`,a)})))}}};var Oe,De=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},Me=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};async function Re(e){const{response:t}=e;if(e.options.stream)return st("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):we.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type"),r=n?.split(";")[0]?.trim();if(r?.includes("application/json")||r?.endsWith("+json")){const e=await t.json();return st("response",t.status,t.url,t.headers,e),Le(e,t)}const a=await t.text();return st("response",t.status,t.url,t.headers,a),a}function Le(e,t){return!e||"object"!==typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}Q();class Be extends Promise{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re;super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Be(this.responsePromise,(async t=>Le(e(await this.parseResponse(t),t),t.response)))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class $e{constructor(e){let{baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:a,fetch:o}=e;this.baseURL=t,this.maxRetries=et("maxRetries",n),this.timeout=et("timeout",r),this.httpAgent=a,this.fetch=o??L}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Je(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${lt()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((async n=>{const r=n&&ke(n?.body)?new DataView(await n.body.arrayBuffer()):n?.body instanceof DataView?n.body:n?.body instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n?.body)?new DataView(n.body.buffer):n?.body;return{method:e,path:t,...n,body:r}})))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if("string"===typeof e){if("undefined"!==typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!==typeof TextEncoder){return(new TextEncoder).encode(e).length.toString()}}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){let{retryCount:t=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e={...e};const{method:n,path:r,query:a,headers:o={}}=e,i=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"===typeof e.body?e.body:Pe(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,s=this.calculateContentLength(i),l=this.buildURL(r,a);"timeout"in e&&et("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const u=e.httpAgent??this.httpAgent??U(l),c=e.timeout+1e3;"number"===typeof u?.options?.timeout&&c>(u.options.timeout??0)&&(u.options.timeout=c),this.idempotencyHeader&&"get"!==n&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);return{req:{method:n,...i&&{body:i},headers:this.buildHeaders({options:e,headers:o,contentLength:s,retryCount:t}),...u&&{agent:u},signal:e.signal??null},url:l,timeout:e.timeout}}buildHeaders(e){let{options:t,headers:n,contentLength:r,retryCount:a}=e;const o={};r&&(o["content-length"]=r);const i=this.defaultHeaders(t);return ot(o,i),ot(o,n),Pe(t.body)&&"node"!==R&&delete o["content-type"],void 0===ut(i,"x-stainless-retry-count")&&void 0===ut(n,"x-stainless-retry-count")&&(o["x-stainless-retry-count"]=String(a)),void 0===ut(i,"x-stainless-timeout")&&void 0===ut(n,"x-stainless-timeout")&&t.timeout&&(o["x-stainless-timeout"]=String(t.timeout)),this.validateHeaders(o,n),o}async prepareOptions(e){}async prepareRequest(e,t){let{url:n,options:r}=t}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,n,r){return Z.generate(e,t,n,r)}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Be(this.makeRequest(e,t))}async makeRequest(e,t){const n=await e,r=n.maxRetries??this.maxRetries;null==t&&(t=r),await this.prepareOptions(n);const{req:a,url:o,timeout:i}=this.buildRequest(n,{retryCount:r-t});if(await this.prepareRequest(a,{url:o,options:n}),st("request",o,n,a.headers),n.signal?.aborted)throw new ee;const s=new AbortController,l=await this.fetchWithTimeout(o,a,i,s).catch(tt);if(l instanceof Error){if(n.signal?.aborted)throw new ee;if(t)return this.retryRequest(n,t);if("AbortError"===l.name)throw new ne;throw new te({cause:l})}const u=Ue(l.headers);if(!l.ok){if(t&&this.shouldRetry(l)){return st(`response (error; ${`retrying, ${t} attempts remaining`})`,l.status,o,u),this.retryRequest(n,t,u)}const e=await l.text().catch((e=>tt(e).message)),r=Ye(e),a=r?void 0:e;st(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,l.status,o,u,a);throw this.makeStatusError(l.status,r,a,u)}return{response:l,options:n,controller:s}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new ze(this,n,e)}buildURL(e,t){const n=Ge(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return rt(r)||(t={...r,...t}),"object"===typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter((e=>{let[t,n]=e;return"undefined"!==typeof n})).map((e=>{let[t,n]=e;if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)return`${encodeURIComponent(t)}=${encodeURIComponent(n)}`;if(null===n)return`${encodeURIComponent(t)}=`;throw new G(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(e,t,n,r){const{signal:a,...o}=t||{};a&&a.addEventListener("abort",(()=>r.abort()));const i=setTimeout((()=>r.abort()),n),s={signal:r.signal,...o};return s.method&&(s.method=s.method.toUpperCase()),this.fetch.call(void 0,e,s).finally((()=>{clearTimeout(i)}))}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n){let r;const a=n?.["retry-after-ms"];if(a){const e=parseFloat(a);Number.isNaN(e)||(r=e)}const o=n?.["retry-after"];if(o&&!r){const e=parseFloat(o);r=Number.isNaN(e)?Date.parse(o)-Date.now():1e3*e}if(!(r&&0<=r&&r<6e4)){const n=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(t,n)}return await Ze(r),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${M}`}}class Fe{constructor(e,t,n,r){Oe.set(this,void 0),De(this,Oe,e,"f"),this.options=r,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new G("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&"object"===typeof t.query)t.query={...t.query,...e.params};else if("url"in e){const n=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[t,r]of n)e.url.searchParams.set(t,r);t.query=void 0,t.path=e.url.toString()}return await Me(this,Oe,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Oe=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class ze extends Be{constructor(e,t,n){super(t,(async t=>new n(e,t.response,await Re(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}const Ue=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),He={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},We=e=>"object"===typeof e&&null!==e&&!rt(e)&&Object.keys(e).every((e=>at(He,e))),Ve=()=>{if("undefined"!==typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":M,"X-Stainless-OS":Ke(Deno.build.os),"X-Stainless-Arch":qe(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":M,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":M,"X-Stainless-OS":Ke(process.platform),"X-Stainless-Arch":qe(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":M,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":M,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const qe=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",Ke=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let Xe;const Je=()=>Xe??(Xe=Ve()),Ye=e=>{try{return JSON.parse(e)}catch(t){return}},Qe=/^[a-z][a-z0-9+.-]*:/i,Ge=e=>Qe.test(e),Ze=e=>new Promise((t=>setTimeout(t,e))),et=(e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new G(`${e} must be an integer`);if(t<0)throw new G(`${e} must be a positive integer`);return t},tt=e=>{if(e instanceof Error)return e;if("object"===typeof e&&null!==e)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},nt=e=>"undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"/TimeSchedule",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.[e]?.trim()??void 0:"undefined"!==typeof Deno?Deno.env?.get?.(e)?.trim():void 0;function rt(e){if(!e)return!0;for(const t in e)return!1;return!0}function at(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ot(e,t){for(const n in t){if(!at(t,n))continue;const r=n.toLowerCase();if(!r)continue;const a=t[n];null===a?delete e[r]:void 0!==a&&(e[r]=a)}}const it=new Set(["authorization","api-key"]);function st(e){if("undefined"!==typeof process&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/TimeSchedule",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map((e=>{if(!e)return e;if(e.headers){const t={...e,headers:{...e.headers}};for(const n in e.headers)it.has(n.toLowerCase())&&(t.headers[n]="REDACTED");return t}let t=null;for(const n in e)it.has(n.toLowerCase())&&(t??(t={...e}),t[n]="REDACTED");return t??e}));console.log(`OpenAI:DEBUG:${e}`,...a)}}const lt=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),ut=(e,t)=>{const n=t.toLowerCase();if((e=>"function"===typeof e?.get)(e)){const r=t[0]?.toUpperCase()+t.substring(1).replace(/([^\w])(\w)/g,((e,t,n)=>t+n.toUpperCase()));for(const a of[t,n,t.toUpperCase(),r]){const t=e.get(a);if(t)return t}}for(const[r,a]of Object.entries(e))if(r.toLowerCase()===n)return Array.isArray(a)?(a.length<=1||console.warn(`Received ${a.length} entries for the ${t} header, using the first entry.`),a[0]):a};function ct(e){return null!=e&&"object"===typeof e&&!Array.isArray(e)}class dt{constructor(e){this._client=e}}class ft extends dt{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class ht extends dt{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return We(t)?this.list(e,{},t):this._client.getAPIList(`/chat/completions/${e}/messages`,vt,{query:t,...n})}}class pt extends Fe{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class mt extends Fe{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){const e=this.getPaginatedItems();if(!e.length)return null;const t=e[e.length-1]?.id;return t?{params:{after:t}}:null}}class gt extends dt{constructor(){super(...arguments),this.messages=new ht(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(`/chat/completions/${e}`,t)}update(e,t,n){return this._client.post(`/chat/completions/${e}`,{body:t,...n})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return We(e)?this.list({},e):this._client.getAPIList("/chat/completions",yt,{query:e,...t})}del(e,t){return this._client.delete(`/chat/completions/${e}`,t)}}class yt extends mt{}class vt extends mt{}gt.ChatCompletionsPage=yt,gt.Messages=ht;class bt extends dt{constructor(){super(...arguments),this.completions=new gt(this._client)}}bt.Completions=gt,bt.ChatCompletionsPage=yt;class wt extends dt{create(e,t){const n=!!e.encoding_format;let r=n?e.encoding_format:"base64";n&&st("Request","User defined encoding_format:",e.encoding_format);const a=this._client.post("/embeddings",{body:{...e,encoding_format:r},...t});return n?a:(st("response","Decoding base64 embeddings to float32 array"),a._thenUnwrap((e=>(e&&e.data&&e.data.forEach((e=>{const t=e.embedding;e.embedding=(e=>{if("undefined"!==typeof Buffer)return Array.from(new Float32Array(Buffer.from(e,"base64").buffer));{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);return Array.from(new Float32Array(r.buffer))}})(t)})),e))))}}class xt extends dt{create(e,t){return this._client.post("/files",Ae({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return We(e)?this.list({},e):this._client.getAPIList("/files",_t,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/binary",...t?.headers},__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,t)}async waitForProcessing(e){let{pollInterval:t=5e3,maxWait:n=18e5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new Set(["processed","error","deleted"]),a=Date.now();let o=await this.retrieve(e);for(;!o.status||!r.has(o.status);)if(await Ze(t),o=await this.retrieve(e),Date.now()-a>n)throw new ne({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return o}}class _t extends mt{}xt.FileObjectsPage=_t;class St extends dt{createVariation(e,t){return this._client.post("/images/variations",Ae({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",Ae({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}class kt extends dt{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:{Accept:"application/octet-stream",...t?.headers},__binaryResponse:!0})}}class Ct extends dt{create(e,t){return this._client.post("/audio/transcriptions",Ae({body:e,...t,stream:e.stream??!1,__metadata:{model:e.model}}))}}class Et extends dt{create(e,t){return this._client.post("/audio/translations",Ae({body:e,...t,__metadata:{model:e.model}}))}}class Nt extends dt{constructor(){super(...arguments),this.transcriptions=new Ct(this._client),this.translations=new Et(this._client),this.speech=new kt(this._client)}}Nt.Transcriptions=Ct,Nt.Translations=Et,Nt.Speech=kt;class jt extends dt{create(e,t){return this._client.post("/moderations",{body:e,...t})}}class Pt extends dt{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",At,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class At extends pt{}Pt.ModelsPage=At;class Tt extends dt{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return We(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,It,{query:t,...n})}}class It extends mt{}Tt.FineTuningJobCheckpointsPage=It;class Ot extends dt{constructor(){super(...arguments),this.checkpoints=new Tt(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return We(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Dt,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return We(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Mt,{query:t,...n})}}class Dt extends mt{}class Mt extends mt{}Ot.FineTuningJobsPage=Dt,Ot.FineTuningJobEventsPage=Mt,Ot.Checkpoints=Tt,Ot.FineTuningJobCheckpointsPage=It;class Rt extends dt{constructor(){super(...arguments),this.jobs=new Ot(this._client)}}Rt.Jobs=Ot,Rt.FineTuningJobsPage=Dt,Rt.FineTuningJobEventsPage=Mt;class Lt extends dt{create(e,t,n){return this._client.post(`/vector_stores/${e}/files`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/vector_stores/${e}/files/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return We(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,Bt,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const a=await this.retrieve(e,t,{...n,headers:r}).withResponse(),o=a.data;switch(o.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=a.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Ze(e);break;case"failed":case"completed":return o}}}async upload(e,t,n){const r=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,t,n){const r=await this.upload(e,t,n);return await this.poll(e,r.id,n)}content(e,t,n){return this._client.getAPIList(`/vector_stores/${e}/files/${t}/content`,$t,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class Bt extends mt{}class $t extends pt{}Lt.VectorStoreFilesPage=Bt,Lt.FileContentResponsesPage=$t;class Ft extends dt{create(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t);return await this.poll(e,r.id,n)}listFiles(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return We(n)?this.listFiles(e,t,{},n):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,Bt,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:a,response:o}=await this.retrieve(e,t,{...n,headers:r}).withResponse();switch(a.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Ze(e);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,t,n){let{files:r,fileIds:a=[]}=t;if(null==r||0==r.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=n?.maxConcurrency??5,i=Math.min(o,r.length),s=this._client,l=r.values(),u=[...a];const c=Array(i).fill(l).map((async function(e){for(let t of e){const e=await s.files.create({file:t,purpose:"assistants"},n);u.push(e.id)}}));return await(async e=>{const t=await Promise.allSettled(e),n=t.filter((e=>"rejected"===e.status));if(n.length){for(const e of n)console.error(e.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const a of t)"fulfilled"===a.status&&r.push(a.value);return r})(c),await this.createAndPoll(e,{file_ids:u})}}class zt extends dt{constructor(){super(...arguments),this.files=new Lt(this._client),this.fileBatches=new Ft(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/vector_stores/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return We(e)?this.list({},e):this._client.getAPIList("/vector_stores",Ut,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}search(e,t,n){return this._client.getAPIList(`/vector_stores/${e}/search`,Ht,{body:t,method:"post",...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class Ut extends mt{}class Ht extends pt{}zt.VectorStoresPage=Ut,zt.VectorStoreSearchResponsesPage=Ht,zt.Files=Lt,zt.VectorStoreFilesPage=Bt,zt.FileContentResponsesPage=$t,zt.FileBatches=Ft;class Wt extends dt{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/assistants/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return We(e)?this.list({},e):this._client.getAPIList("/assistants",Vt,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class Vt extends mt{}function qt(e){return"function"===typeof e.parse}Wt.AssistantsPage=Vt;const Kt=e=>"assistant"===e?.role,Xt=e=>"function"===e?.role,Jt=e=>"tool"===e?.role;var Yt,Qt,Gt,Zt,en,tn,nn,rn,an,on,sn,ln,un,cn=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},dn=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class fn{constructor(){Yt.add(this),this.controller=new AbortController,Qt.set(this,void 0),Gt.set(this,(()=>{})),Zt.set(this,(()=>{})),en.set(this,void 0),tn.set(this,(()=>{})),nn.set(this,(()=>{})),rn.set(this,{}),an.set(this,!1),on.set(this,!1),sn.set(this,!1),ln.set(this,!1),cn(this,Qt,new Promise(((e,t)=>{cn(this,Gt,e,"f"),cn(this,Zt,t,"f")})),"f"),cn(this,en,new Promise(((e,t)=>{cn(this,tn,e,"f"),cn(this,nn,t,"f")})),"f"),dn(this,Qt,"f").catch((()=>{})),dn(this,en,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),dn(this,Yt,"m",un).bind(this))}),0)}_connected(){this.ended||(dn(this,Gt,"f").call(this),this._emit("connect"))}get ended(){return dn(this,an,"f")}get errored(){return dn(this,on,"f")}get aborted(){return dn(this,sn,"f")}abort(){this.controller.abort()}on(e,t){return(dn(this,rn,"f")[e]||(dn(this,rn,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=dn(this,rn,"f")[e];if(!n)return this;const r=n.findIndex((e=>e.listener===t));return r>=0&&n.splice(r,1),this}once(e,t){return(dn(this,rn,"f")[e]||(dn(this,rn,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{cn(this,ln,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){cn(this,ln,!0,"f"),await dn(this,en,"f")}_emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(dn(this,an,"f"))return;"end"===e&&(cn(this,an,!0,"f"),dn(this,tn,"f").call(this));const a=dn(this,rn,"f")[e];if(a&&(dn(this,rn,"f")[e]=a.filter((e=>!e.once)),a.forEach((e=>{let{listener:t}=e;return t(...n)}))),"abort"===e){const e=n[0];return dn(this,ln,"f")||a?.length||Promise.reject(e),dn(this,Zt,"f").call(this,e),dn(this,nn,"f").call(this,e),void this._emit("end")}if("error"===e){const e=n[0];dn(this,ln,"f")||a?.length||Promise.reject(e),dn(this,Zt,"f").call(this,e),dn(this,nn,"f").call(this,e),this._emit("end")}}_emitFinal(){}}function hn(e){return"auto-parseable-response-format"===e?.$brand}function pn(e){return"auto-parseable-tool"===e?.$brand}function mn(e,t){const n=e.choices.map((e=>{if("length"===e.finish_reason)throw new de;if("content_filter"===e.finish_reason)throw new fe;return{...e,message:{...e.message,...e.message.tool_calls?{tool_calls:e.message.tool_calls?.map((e=>function(e,t){const n=e.tools?.find((e=>e.function?.name===t.function.name));return{...t,function:{...t.function,parsed_arguments:pn(n)?n.$parseRaw(t.function.arguments):n?.function.strict?JSON.parse(t.function.arguments):null}}}(t,e)))??void 0}:void 0,parsed:e.message.content&&!e.message.refusal?gn(t,e.message.content):null}}}));return{...e,choices:n}}function gn(e,t){if("json_schema"!==e.response_format?.type)return null;if("json_schema"===e.response_format?.type){if("$parseRaw"in e.response_format){return e.response_format.$parseRaw(t)}return JSON.parse(t)}return null}function yn(e,t){if(!e)return!1;const n=e.tools?.find((e=>e.function?.name===t.function.name));return pn(n)||n?.function.strict||!1}function vn(e){return!!hn(e.response_format)||(e.tools?.some((e=>pn(e)||"function"===e.type&&!0===e.function.strict))??!1)}Qt=new WeakMap,Gt=new WeakMap,Zt=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap,rn=new WeakMap,an=new WeakMap,on=new WeakMap,sn=new WeakMap,ln=new WeakMap,Yt=new WeakSet,un=function(e){if(cn(this,on,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new ee),e instanceof ee)return cn(this,sn,!0,"f"),this._emit("abort",e);if(e instanceof G)return this._emit("error",e);if(e instanceof Error){const t=new G(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new G(String(e)))};var bn,wn,xn,_n,Sn,kn,Cn,En,Nn=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const jn=10;class Pn extends fn{constructor(){super(...arguments),bn.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(Xt(e)||Jt(e))&&e.content)this._emit("functionCallResult",e.content);else if(Kt(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Kt(e)&&e.tool_calls)for(const n of e.tool_calls)"function"===n.type&&this._emit("functionCall",n.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new G("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Nn(this,bn,"m",wn).call(this)}async finalMessage(){return await this.done(),Nn(this,bn,"m",xn).call(this)}async finalFunctionCall(){return await this.done(),Nn(this,bn,"m",_n).call(this)}async finalFunctionCallResult(){return await this.done(),Nn(this,bn,"m",Sn).call(this)}async totalUsage(){return await this.done(),Nn(this,bn,"m",kn).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=Nn(this,bn,"m",xn).call(this);t&&this._emit("finalMessage",t);const n=Nn(this,bn,"m",wn).call(this);n&&this._emit("finalContent",n);const r=Nn(this,bn,"m",_n).call(this);r&&this._emit("finalFunctionCall",r);const a=Nn(this,bn,"m",Sn).call(this);null!=a&&this._emit("finalFunctionCallResult",a),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",Nn(this,bn,"m",kn).call(this))}async _createChatCompletion(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),Nn(this,bn,"m",Cn).call(this,t);const a=await e.chat.completions.create({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(mn(a,t))}async _runChatCompletion(e,t,n){for(const r of t.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,t,n)}async _runFunctions(e,t,n){const r="function",{function_call:a="auto",stream:o,...i}=t,s="string"!==typeof a&&a?.name,{maxChatCompletions:l=jn}=n||{},u={};for(const f of t.functions)u[f.name||f.function.name]=f;const c=t.functions.map((e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description})));for(const f of t.messages)this._addMessage(f,!1);for(let f=0;f<l;++f){const t=await this._createChatCompletion(e,{...i,function_call:a,functions:c,messages:[...this.messages]},n),o=t.choices[0]?.message;if(!o)throw new G("missing message in ChatCompletion response");if(!o.function_call)return;const{name:l,arguments:f}=o.function_call,h=u[l];if(!h){const e=`Invalid function_call: ${JSON.stringify(l)}. Available options are: ${c.map((e=>JSON.stringify(e.name))).join(", ")}. Please try again`;this._addMessage({role:r,name:l,content:e});continue}if(s&&s!==l){const e=`Invalid function_call: ${JSON.stringify(l)}. ${JSON.stringify(s)} requested. Please try again`;this._addMessage({role:r,name:l,content:e});continue}let p;try{p=qt(h)?await h.parse(f):f}catch(d){this._addMessage({role:r,name:l,content:d instanceof Error?d.message:String(d)});continue}const m=await h.function(p,this),g=Nn(this,bn,"m",En).call(this,m);if(this._addMessage({role:r,name:l,content:g}),s)return}}async _runTools(e,t,n){const r="tool",{tool_choice:a="auto",stream:o,...i}=t,s="string"!==typeof a&&a?.function?.name,{maxChatCompletions:l=jn}=n||{},u=t.tools.map((e=>{if(pn(e)){if(!e.$callback)throw new G("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e})),c={};for(const h of u)"function"===h.type&&(c[h.function.name||h.function.function.name]=h.function);const d="tools"in t?u.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e)):void 0;for(const h of t.messages)this._addMessage(h,!1);for(let h=0;h<l;++h){const t=await this._createChatCompletion(e,{...i,tool_choice:a,tools:d,messages:[...this.messages]},n),o=t.choices[0]?.message;if(!o)throw new G("missing message in ChatCompletion response");if(!o.tool_calls?.length)return;for(const e of o.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:a}=e.function,o=c[n];if(!o){const e=`Invalid tool_call: ${JSON.stringify(n)}. Available options are: ${Object.keys(c).map((e=>JSON.stringify(e))).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}if(s&&s!==n){const e=`Invalid tool_call: ${JSON.stringify(n)}. ${JSON.stringify(s)} requested. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}let i;try{i=qt(o)?await o.parse(a):a}catch(f){const e=f instanceof Error?f.message:String(f);this._addMessage({role:r,tool_call_id:t,content:e});continue}const l=await o.function(i,this),u=Nn(this,bn,"m",En).call(this,l);if(this._addMessage({role:r,tool_call_id:t,content:u}),s)return}}}}bn=new WeakSet,wn=function(){return Nn(this,bn,"m",xn).call(this).content??null},xn=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(Kt(t)){const{function_call:e,...n}=t,r={...n,content:t.content??null,refusal:t.refusal??null};return e&&(r.function_call=e),r}}throw new G("stream ended without producing a ChatCompletionMessage with role=assistant")},_n=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Kt(t)&&t?.function_call)return t.function_call;if(Kt(t)&&t?.tool_calls?.length)return t.tool_calls.at(-1)?.function}},Sn=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Xt(t)&&null!=t.content)return t.content;if(Jt(t)&&null!=t.content&&"string"===typeof t.content&&this.messages.some((e=>"assistant"===e.role&&e.tool_calls?.some((e=>"function"===e.type&&e.id===t.tool_call_id)))))return t.content}},kn=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},Cn=function(e){if(null!=e.n&&e.n>1)throw new G("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},En=function(e){return"string"===typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class An extends Pn{static runFunctions(e,t,n){const r=new An,a={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,a))),r}static runTools(e,t,n){const r=new An,a={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,a))),r}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super._addMessage(e,t),Kt(e)&&e.content&&this._emit("content",e.content)}}const Tn={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511};class In extends Error{}class On extends Error{}const Dn=(e,t)=>{const n=e.length;let r=0;const a=e=>{throw new In(`${e} at position ${r}`)},o=e=>{throw new On(`${e} at position ${r}`)},i=()=>(d(),r>=n&&a("Unexpected end of input"),'"'===e[r]?s():"{"===e[r]?l():"["===e[r]?u():"null"===e.substring(r,r+4)||Tn.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):"true"===e.substring(r,r+4)||Tn.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):"false"===e.substring(r,r+5)||Tn.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):"Infinity"===e.substring(r,r+8)||Tn.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):"-Infinity"===e.substring(r,r+9)||Tn.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):"NaN"===e.substring(r,r+3)||Tn.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):c()),s=()=>{const i=r;let s=!1;for(r++;r<n&&('"'!==e[r]||s&&"\\"===e[r-1]);)s="\\"===e[r]&&!s,r++;if('"'==e.charAt(r))try{return JSON.parse(e.substring(i,++r-Number(s)))}catch(l){o(String(l))}else if(Tn.STR&t)try{return JSON.parse(e.substring(i,r-Number(s))+'"')}catch(l){return JSON.parse(e.substring(i,e.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},l=()=>{r++,d();const o={};try{for(;"}"!==e[r];){if(d(),r>=n&&Tn.OBJ&t)return o;const a=s();d(),r++;try{const e=i();Object.defineProperty(o,a,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(l){if(Tn.OBJ&t)return o;throw l}d(),","===e[r]&&r++}}catch(l){if(Tn.OBJ&t)return o;a("Expected '}' at end of object")}return r++,o},u=()=>{r++;const n=[];try{for(;"]"!==e[r];)n.push(i()),d(),","===e[r]&&r++}catch(o){if(Tn.ARR&t)return n;a("Expected ']' at end of array")}return r++,n},c=()=>{if(0===r){"-"===e&&Tn.NUM&t&&a("Not sure what '-' is");try{return JSON.parse(e)}catch(s){if(Tn.NUM&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(s){}o(String(s))}}const i=r;for("-"===e[r]&&r++;e[r]&&!",]}".includes(e[r]);)r++;r!=n||Tn.NUM&t||a("Unterminated number literal");try{return JSON.parse(e.substring(i,r))}catch(s){"-"===e.substring(i,r)&&Tn.NUM&t&&a("Not sure what '-' is");try{return JSON.parse(e.substring(i,e.lastIndexOf("e")))}catch(s){o(String(s))}}},d=()=>{for(;r<n&&" \n\r\t".includes(e[r]);)r++};return i()},Mn=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tn.ALL;if("string"!==typeof e)throw new TypeError("expecting str, got "+typeof e);if(!e.trim())throw new Error(`${e} is empty`);return Dn(e.trim(),t)}(e,Tn.ALL^Tn.NUM);var Rn,Ln,Bn,$n,Fn,zn,Un,Hn,Wn,Vn,qn,Kn,Xn=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},Jn=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class Yn extends Pn{constructor(e){super(),Rn.add(this),Ln.set(this,void 0),Bn.set(this,void 0),$n.set(this,void 0),Xn(this,Ln,e,"f"),Xn(this,Bn,[],"f")}get currentChatCompletionSnapshot(){return Jn(this,$n,"f")}static fromReadableStream(e){const t=new Yn(null);return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,n){const r=new Yn(t);return r._run((()=>r._runChatCompletion(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}async _createChatCompletion(e,t,n){super._createChatCompletion;const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),Jn(this,Rn,"m",Fn).call(this);const a=await e.chat.completions.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const o of a)Jn(this,Rn,"m",Un).call(this,o);if(a.controller.signal?.aborted)throw new ee;return this._addChatCompletion(Jn(this,Rn,"m",Vn).call(this))}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),Jn(this,Rn,"m",Fn).call(this),this._connected();const r=we.fromReadableStream(e,this.controller);let a;for await(const o of r)a&&a!==o.id&&this._addChatCompletion(Jn(this,Rn,"m",Vn).call(this)),Jn(this,Rn,"m",Un).call(this,o),a=o.id;if(r.controller.signal?.aborted)throw new ee;return this._addChatCompletion(Jn(this,Rn,"m",Vn).call(this))}[(Ln=new WeakMap,Bn=new WeakMap,$n=new WeakMap,Rn=new WeakSet,Fn=function(){this.ended||Xn(this,$n,void 0,"f")},zn=function(e){let t=Jn(this,Bn,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Jn(this,Bn,"f")[e.index]=t,t)},Un=function(e){if(this.ended)return;const t=Jn(this,Rn,"m",Kn).call(this,e);this._emit("chunk",e,t);for(const n of e.choices){const e=t.choices[n.index];null!=n.delta.content&&"assistant"===e.message?.role&&e.message?.content&&(this._emit("content",n.delta.content,e.message.content),this._emit("content.delta",{delta:n.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=n.delta.refusal&&"assistant"===e.message?.role&&e.message?.refusal&&this._emit("refusal.delta",{delta:n.delta.refusal,snapshot:e.message.refusal}),null!=n.logprobs?.content&&"assistant"===e.message?.role&&this._emit("logprobs.content.delta",{content:n.logprobs?.content,snapshot:e.logprobs?.content??[]}),null!=n.logprobs?.refusal&&"assistant"===e.message?.role&&this._emit("logprobs.refusal.delta",{refusal:n.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});const r=Jn(this,Rn,"m",zn).call(this,e);e.finish_reason&&(Jn(this,Rn,"m",Wn).call(this,e),null!=r.current_tool_call_index&&Jn(this,Rn,"m",Hn).call(this,e,r.current_tool_call_index));for(const t of n.delta.tool_calls??[])r.current_tool_call_index!==t.index&&(Jn(this,Rn,"m",Wn).call(this,e),null!=r.current_tool_call_index&&Jn(this,Rn,"m",Hn).call(this,e,r.current_tool_call_index)),r.current_tool_call_index=t.index;for(const t of n.delta.tool_calls??[]){const n=e.message.tool_calls?.[t.index];n?.type&&("function"===n?.type&&this._emit("tool_calls.function.arguments.delta",{name:n.function?.name,index:t.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:t.function?.arguments??""}))}}},Hn=function(e,t){if(Jn(this,Rn,"m",zn).call(this,e).done_tool_calls.has(t))return;const n=e.message.tool_calls?.[t];if(!n)throw new Error("no tool call snapshot");if(!n.type)throw new Error("tool call snapshot missing `type`");if("function"===n.type){const e=Jn(this,Ln,"f")?.tools?.find((e=>"function"===e.type&&e.function.name===n.function.name));this._emit("tool_calls.function.arguments.done",{name:n.function.name,index:t,arguments:n.function.arguments,parsed_arguments:pn(e)?e.$parseRaw(n.function.arguments):e?.function.strict?JSON.parse(n.function.arguments):null})}else n.type},Wn=function(e){const t=Jn(this,Rn,"m",zn).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;const n=Jn(this,Rn,"m",qn).call(this);this._emit("content.done",{content:e.message.content,parsed:n?n.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},Vn=function(){if(this.ended)throw new G("stream has ended, this shouldn't happen");const e=Jn(this,$n,"f");if(!e)throw new G("request ended without sending any chunks");return Xn(this,$n,void 0,"f"),Xn(this,Bn,[],"f"),function(e,t){const{id:n,choices:r,created:a,model:o,system_fingerprint:i,...s}=e,l={...s,id:n,choices:r.map((t=>{let{message:n,finish_reason:r,index:a,logprobs:o,...i}=t;if(!r)throw new G(`missing finish_reason for choice ${a}`);const{content:s=null,function_call:l,tool_calls:u,...c}=n,d=n.role;if(!d)throw new G(`missing role for choice ${a}`);if(l){const{arguments:e,name:t}=l;if(null==e)throw new G(`missing function_call.arguments for choice ${a}`);if(!t)throw new G(`missing function_call.name for choice ${a}`);return{...i,message:{content:s,function_call:{arguments:e,name:t},role:d,refusal:n.refusal??null},finish_reason:r,index:a,logprobs:o}}return u?{...i,index:a,finish_reason:r,logprobs:o,message:{...c,role:d,content:s,refusal:n.refusal??null,tool_calls:u.map(((t,n)=>{const{function:r,type:o,id:i,...s}=t,{arguments:l,name:u,...c}=r||{};if(null==i)throw new G(`missing choices[${a}].tool_calls[${n}].id\n${Qn(e)}`);if(null==o)throw new G(`missing choices[${a}].tool_calls[${n}].type\n${Qn(e)}`);if(null==u)throw new G(`missing choices[${a}].tool_calls[${n}].function.name\n${Qn(e)}`);if(null==l)throw new G(`missing choices[${a}].tool_calls[${n}].function.arguments\n${Qn(e)}`);return{...s,id:i,type:o,function:{...c,name:u,arguments:l}}}))}}:{...i,message:{...c,content:s,role:d,refusal:n.refusal??null},finish_reason:r,index:a,logprobs:o}})),created:a,model:o,object:"chat.completion",...i?{system_fingerprint:i}:{}};return function(e,t){return t&&vn(t)?mn(e,t):{...e,choices:e.choices.map((e=>({...e,message:{...e.message,parsed:null,...e.message.tool_calls?{tool_calls:e.message.tool_calls}:void 0}})))}}(l,t)}(e,Jn(this,Ln,"f"))},qn=function(){const e=Jn(this,Ln,"f")?.response_format;return hn(e)?e:null},Kn=function(e){var t,n,r,a;let o=Jn(this,$n,"f");const{choices:i,...s}=e;o?Object.assign(o,s):o=Xn(this,$n,{...s,choices:[]},"f");for(const{delta:l,finish_reason:u,index:c,logprobs:d=null,...f}of e.choices){let e=o.choices[c];if(e||(e=o.choices[c]={finish_reason:u,index:c,message:{},logprobs:d,...f}),d)if(e.logprobs){const{content:r,refusal:a,...o}=d;Object.assign(e.logprobs,o),r&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...r)),a&&((n=e.logprobs).refusal??(n.refusal=[]),e.logprobs.refusal.push(...a))}else e.logprobs=Object.assign({},d);if(u&&(e.finish_reason=u,Jn(this,Ln,"f")&&vn(Jn(this,Ln,"f")))){if("length"===u)throw new de;if("content_filter"===u)throw new fe}if(Object.assign(e,f),!l)continue;const{content:i,refusal:s,function_call:h,role:p,tool_calls:m,...g}=l;if(Object.assign(e.message,g),s&&(e.message.refusal=(e.message.refusal||"")+s),p&&(e.message.role=p),h&&(e.message.function_call?(h.name&&(e.message.function_call.name=h.name),h.arguments&&((r=e.message.function_call).arguments??(r.arguments=""),e.message.function_call.arguments+=h.arguments)):e.message.function_call=h),i&&(e.message.content=(e.message.content||"")+i,!e.message.refusal&&Jn(this,Rn,"m",qn).call(this)&&(e.message.parsed=Mn(e.message.content))),m){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:n,type:r,function:o,...i}of m){const s=(a=e.message.tool_calls)[t]??(a[t]={});Object.assign(s,i),n&&(s.id=n),r&&(s.type=r),o&&(s.function??(s.function={name:o.name??"",arguments:""})),o?.name&&(s.function.name=o.name),o?.arguments&&(s.function.arguments+=o.arguments,yn(Jn(this,Ln,"f"),s)&&(s.function.parsed_arguments=Mn(s.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new we(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Qn(e){return JSON.stringify(e)}class Gn extends Yn{static fromReadableStream(e){const t=new Gn(null);return t._run((()=>t._fromReadableStream(e))),t}static runFunctions(e,t,n){const r=new Gn(null),a={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,a))),r}static runTools(e,t,n){const r=new Gn(t),a={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,a))),r}}class Zn extends dt{parse(e,t){return function(e){for(const t of e??[]){if("function"!==t.type)throw new G(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new G(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap((t=>mn(t,e)))}runFunctions(e,t){return e.stream?Gn.runFunctions(this._client,e,t):An.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?Gn.runTools(this._client,e,t):An.runTools(this._client,e,t)}stream(e,t){return Yn.createChatCompletion(this._client,e,t)}}class er extends dt{constructor(){super(...arguments),this.completions=new Zn(this._client)}}!function(e){e.Completions=Zn}(er||(er={}));class tr extends dt{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class nr extends dt{create(e,t){return this._client.post("/realtime/transcription_sessions",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class rr extends dt{constructor(){super(...arguments),this.sessions=new tr(this._client),this.transcriptionSessions=new nr(this._client)}}rr.Sessions=tr,rr.TranscriptionSessions=nr;var ar,or,ir,sr,lr,ur,cr,dr,fr,hr,pr,mr,gr,yr,vr,br,wr,xr,_r,Sr,kr,Cr,Er=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},Nr=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n};class jr extends fn{constructor(){super(...arguments),ar.add(this),or.set(this,[]),ir.set(this,{}),sr.set(this,{}),lr.set(this,void 0),ur.set(this,void 0),cr.set(this,void 0),dr.set(this,void 0),fr.set(this,void 0),hr.set(this,void 0),pr.set(this,void 0),mr.set(this,void 0),gr.set(this,void 0)}[(or=new WeakMap,ir=new WeakMap,sr=new WeakMap,lr=new WeakMap,ur=new WeakMap,cr=new WeakMap,dr=new WeakMap,fr=new WeakMap,hr=new WeakMap,pr=new WeakMap,mr=new WeakMap,gr=new WeakMap,ar=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new jr;return t._run((()=>t._fromReadableStream(e))),t}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),this._connected();const r=we.fromReadableStream(e,this.controller);for await(const a of r)Er(this,ar,"m",yr).call(this,a);if(r.controller.signal?.aborted)throw new ee;return this._addRun(Er(this,ar,"m",vr).call(this))}toReadableStream(){return new we(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r,a){const o=new jr;return o._run((()=>o._runToolAssistantStream(e,t,n,r,{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"stream"}}))),o}async _createToolAssistantStream(e,t,n,r,a){const o=a?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort())));const i={...r,stream:!0},s=await e.submitToolOutputs(t,n,i,{...a,signal:this.controller.signal});this._connected();for await(const l of s)Er(this,ar,"m",yr).call(this,l);if(s.controller.signal?.aborted)throw new ee;return this._addRun(Er(this,ar,"m",vr).call(this))}static createThreadAssistantStream(e,t,n){const r=new jr;return r._run((()=>r._threadAssistantStream(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}static createAssistantStream(e,t,n,r){const a=new jr;return a._run((()=>a._runAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}}))),a}currentEvent(){return Er(this,pr,"f")}currentRun(){return Er(this,mr,"f")}currentMessageSnapshot(){return Er(this,lr,"f")}currentRunStepSnapshot(){return Er(this,gr,"f")}async finalRunSteps(){return await this.done(),Object.values(Er(this,ir,"f"))}async finalMessages(){return await this.done(),Object.values(Er(this,sr,"f"))}async finalRun(){if(await this.done(),!Er(this,ur,"f"))throw Error("Final run was not received.");return Er(this,ur,"f")}async _createThreadAssistantStream(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort())));const a={...t,stream:!0},o=await e.createAndRun(a,{...n,signal:this.controller.signal});this._connected();for await(const i of o)Er(this,ar,"m",yr).call(this,i);if(o.controller.signal?.aborted)throw new ee;return this._addRun(Er(this,ar,"m",vr).call(this))}async _createAssistantStream(e,t,n,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort())));const o={...n,stream:!0},i=await e.create(t,o,{...r,signal:this.controller.signal});this._connected();for await(const s of i)Er(this,ar,"m",yr).call(this,s);if(i.controller.signal?.aborted)throw new ee;return this._addRun(Er(this,ar,"m",vr).call(this))}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!==t&&void 0!==t)if("index"!==n&&"type"!==n){if("string"===typeof t&&"string"===typeof r)t+=r;else if("number"===typeof t&&"number"===typeof r)t+=r;else{if(!ct(t)||!ct(r)){if(Array.isArray(t)&&Array.isArray(r)){if(t.every((e=>"string"===typeof e||"number"===typeof e))){t.push(...r);continue}for(const e of r){if(!ct(e))throw new Error(`Expected array delta entry to be an object but got: ${e}`);const n=e.index;if(null==n)throw console.error(e),new Error("Expected array delta entry to have an `index` property");if("number"!==typeof n)throw new Error(`Expected array delta entry \`index\` property to be a number but got ${n}`);const r=t[n];null==r?t.push(e):t[n]=this.accumulateDelta(r,e)}continue}throw Error(`Unhandled record type: ${n}, deltaValue: ${r}, accValue: ${t}`)}t=this.accumulateDelta(t,r)}e[n]=t}else e[n]=r;else e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,r){return await this._createAssistantStream(t,e,n,r)}async _runToolAssistantStream(e,t,n,r,a){return await this._createToolAssistantStream(n,e,t,r,a)}}yr=function(e){if(!this.ended)switch(Nr(this,pr,e,"f"),Er(this,ar,"m",xr).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Er(this,ar,"m",Cr).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Er(this,ar,"m",wr).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Er(this,ar,"m",br).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},vr=function(){if(this.ended)throw new G("stream has ended, this shouldn't happen");if(!Er(this,ur,"f"))throw Error("Final run has not been received");return Er(this,ur,"f")},br=function(e){const[t,n]=Er(this,ar,"m",Sr).call(this,e,Er(this,lr,"f"));Nr(this,lr,t,"f"),Er(this,sr,"f")[t.id]=t;for(const r of n){const e=t.content[r.index];"text"==e?.type&&this._emit("textCreated",e.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=Er(this,cr,"f")){if(Er(this,dr,"f"))switch(Er(this,dr,"f").type){case"text":this._emit("textDone",Er(this,dr,"f").text,Er(this,lr,"f"));break;case"image_file":this._emit("imageFileDone",Er(this,dr,"f").image_file,Er(this,lr,"f"))}Nr(this,cr,n.index,"f")}Nr(this,dr,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==Er(this,cr,"f")){const t=e.data.content[Er(this,cr,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,Er(this,lr,"f"));break;case"text":this._emit("textDone",t.text,Er(this,lr,"f"))}}Er(this,lr,"f")&&this._emit("messageDone",e.data),Nr(this,lr,void 0,"f")}},wr=function(e){const t=Er(this,ar,"m",_r).call(this,e);switch(Nr(this,gr,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==Er(this,fr,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(Er(this,hr,"f")&&this._emit("toolCallDone",Er(this,hr,"f")),Nr(this,fr,e.index,"f"),Nr(this,hr,t.step_details.tool_calls[e.index],"f"),Er(this,hr,"f")&&this._emit("toolCallCreated",Er(this,hr,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Nr(this,gr,void 0,"f");"tool_calls"==e.data.step_details.type&&Er(this,hr,"f")&&(this._emit("toolCallDone",Er(this,hr,"f")),Nr(this,hr,void 0,"f")),this._emit("runStepDone",e.data,t)}},xr=function(e){Er(this,or,"f").push(e),this._emit("event",e)},_r=function(e){switch(e.event){case"thread.run.step.created":return Er(this,ir,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=Er(this,ir,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=jr.accumulateDelta(t,n.delta);Er(this,ir,"f")[e.data.id]=r}return Er(this,ir,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Er(this,ir,"f")[e.data.id]=e.data}if(Er(this,ir,"f")[e.data.id])return Er(this,ir,"f")[e.data.id];throw new Error("No snapshot available")},Sr=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const e of r.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=Er(this,ar,"m",kr).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},kr=function(e,t){return jr.accumulateDelta(t,e)},Cr=function(e){switch(Nr(this,mr,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Nr(this,ur,e.data,"f"),Er(this,hr,"f")&&(this._emit("toolCallDone",Er(this,hr,"f")),Nr(this,hr,void 0,"f"))}};class Pr extends dt{create(e,t,n){return this._client.post(`/threads/${e}/messages`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/messages/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return We(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,Ar,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class Ar extends mt{}Pr.MessagesPage=Ar;class Tr extends dt{retrieve(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;return We(r)?this.retrieve(e,t,n,{},r):this._client.get(`/threads/${e}/runs/${t}/steps/${n}`,{query:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}list(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return We(n)?this.list(e,t,{},n):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,Ir,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}}class Ir extends mt{}Tr.RunStepsPage=Ir;class Or extends dt{constructor(){super(...arguments),this.steps=new Tr(this._client)}create(e,t,n){const{include:r,...a}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:r},body:a,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:t.stream??!1})}retrieve(e,t,n){return this._client.get(`/threads/${e}/runs/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return We(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,Dr,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}createAndStream(e,t,n){return jr.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:a,response:o}=await this.retrieve(e,t,{...n,headers:{...n?.headers,...r}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Ze(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,t,n){return jr.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(e,t,n,r){const a=await this.submitToolOutputs(e,t,n,r);return await this.poll(e,a.id,r)}submitToolOutputsStream(e,t,n,r){return jr.createToolAssistantStream(e,t,this._client.beta.threads.runs,n,r)}}class Dr extends mt{}Or.RunsPage=Dr,Or.Steps=Tr,Or.RunStepsPage=Ir;class Mr extends dt{constructor(){super(...arguments),this.runs=new Or(this._client),this.messages=new Pr(this._client)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return We(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/threads/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.thread_id,n.id,t)}createAndRunStream(e,t){return jr.createThreadAssistantStream(e,this._client.beta.threads,t)}}Mr.Runs=Or,Mr.RunsPage=Dr,Mr.Messages=Pr,Mr.MessagesPage=Ar;class Rr extends dt{constructor(){super(...arguments),this.realtime=new rr(this._client),this.chat=new er(this._client),this.assistants=new Wt(this._client),this.threads=new Mr(this._client)}}Rr.Realtime=rr,Rr.Assistants=Wt,Rr.AssistantsPage=Vt,Rr.Threads=Mr;class Lr extends dt{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return We(e)?this.list({},e):this._client.getAPIList("/batches",Br,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class Br extends mt{}Lr.BatchesPage=Br;class $r extends dt{create(e,t,n){return this._client.post(`/uploads/${e}/parts`,Ae({body:t,...n}))}}class Fr extends dt{constructor(){super(...arguments),this.parts=new $r(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,n){return this._client.post(`/uploads/${e}/complete`,{body:t,...n})}}function zr(e,t){return t&&function(e){if(hn(e.text?.format))return!0;return!1}(t)?Ur(e,t):{...e,output_parsed:null,output:e.output.map((e=>"function_call"===e.type?{...e,parsed_arguments:null}:"message"===e.type?{...e,content:e.content.map((e=>({...e,parsed:null})))}:e))}}function Ur(e,t){const n=e.output.map((e=>{if("function_call"===e.type)return{...e,parsed_arguments:qr(t,e)};if("message"===e.type){const n=e.content.map((e=>"output_text"===e.type?{...e,parsed:Hr(t,e.text)}:e));return{...e,content:n}}return e})),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||Kr(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const e of r.output)if("message"===e.type)for(const t of e.content)if("output_text"===t.type&&null!==t.parsed)return t.parsed;return null}}),r}function Hr(e,t){if("json_schema"!==e.text?.format?.type)return null;if("$parseRaw"in e.text?.format){const n=e.text?.format;return n.$parseRaw(t)}return JSON.parse(t)}function Wr(e){return"auto-parseable-tool"===e?.$brand}function Vr(e,t){return e.find((e=>"function"===e.type&&e.name===t))}function qr(e,t){const n=Vr(e.tools??[],t.name);return{...t,...t,parsed_arguments:Wr(n)?n.$parseRaw(t.arguments):n?.strict?JSON.parse(t.arguments):null}}function Kr(e){const t=[];for(const n of e.output)if("message"===n.type)for(const e of n.content)"output_text"===e.type&&t.push(e.text);e.output_text=t.join("")}Fr.Parts=$r;class Xr extends dt{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return We(t)?this.list(e,{},t):this._client.getAPIList(`/responses/${e}/input_items`,la,{query:t,...n})}}var Jr,Yr,Qr,Gr,Zr,ea,ta,na,ra,aa=function(e,t,n,r,a){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?a.call(e,n):a?a.value=n:t.set(e,n),n},oa=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class ia extends fn{constructor(e){super(),Jr.add(this),Yr.set(this,void 0),Qr.set(this,void 0),Gr.set(this,void 0),aa(this,Yr,e,"f")}static createResponse(e,t,n){const r=new ia(t);return r._run((()=>r._createResponse(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}async _createResponse(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),oa(this,Jr,"m",Zr).call(this);const a=await e.responses.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const o of a)oa(this,Jr,"m",ea).call(this,o);if(a.controller.signal?.aborted)throw new ee;return oa(this,Jr,"m",ta).call(this)}[(Yr=new WeakMap,Qr=new WeakMap,Gr=new WeakMap,Jr=new WeakSet,Zr=function(){this.ended||aa(this,Qr,void 0,"f")},ea=function(e){if(this.ended)return;const t=oa(this,Jr,"m",na).call(this,e);switch(this._emit("event",e),e.type){case"response.output_text.delta":{const n=t.output[e.output_index];if(!n)throw new G(`missing output at index ${e.output_index}`);if("message"===n.type){const t=n.content[e.content_index];if(!t)throw new G(`missing content at index ${e.content_index}`);if("output_text"!==t.type)throw new G(`expected content to be 'output_text', got ${t.type}`);this._emit("response.output_text.delta",{...e,snapshot:t.text})}break}case"response.function_call_arguments.delta":{const n=t.output[e.output_index];if(!n)throw new G(`missing output at index ${e.output_index}`);"function_call"===n.type&&this._emit("response.function_call_arguments.delta",{...e,snapshot:n.arguments});break}default:this._emit(e.type,e)}},ta=function(){if(this.ended)throw new G("stream has ended, this shouldn't happen");const e=oa(this,Qr,"f");if(!e)throw new G("request ended without sending any events");aa(this,Qr,void 0,"f");const t=function(e,t){return zr(e,t)}(e,oa(this,Yr,"f"));return aa(this,Gr,t,"f"),t},na=function(e){let t=oa(this,Qr,"f");if(!t){if("response.created"!==e.type)throw new G(`When snapshot hasn't been set yet, expected 'response.created' event, got ${e.type}`);return t=aa(this,Qr,e.response,"f"),t}switch(e.type){case"response.output_item.added":t.output.push(e.item);break;case"response.content_part.added":{const n=t.output[e.output_index];if(!n)throw new G(`missing output at index ${e.output_index}`);"message"===n.type&&n.content.push(e.part);break}case"response.output_text.delta":{const n=t.output[e.output_index];if(!n)throw new G(`missing output at index ${e.output_index}`);if("message"===n.type){const t=n.content[e.content_index];if(!t)throw new G(`missing content at index ${e.content_index}`);if("output_text"!==t.type)throw new G(`expected content to be 'output_text', got ${t.type}`);t.text+=e.delta}break}case"response.function_call_arguments.delta":{const n=t.output[e.output_index];if(!n)throw new G(`missing output at index ${e.output_index}`);"function_call"===n.type&&(n.arguments+=e.delta);break}case"response.completed":aa(this,Qr,e.response,"f")}return t},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=oa(this,Gr,"f");if(!e)throw new G("stream ended without producing a ChatCompletion");return e}}class sa extends dt{constructor(){super(...arguments),this.inputItems=new Xr(this._client)}create(e,t){return this._client.post("/responses",{body:e,...t,stream:e.stream??!1})._thenUnwrap((e=>("object"in e&&"response"===e.object&&Kr(e),e)))}retrieve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return We(t)?this.retrieve(e,{},t):this._client.get(`/responses/${e}`,{query:t,...n})}del(e,t){return this._client.delete(`/responses/${e}`,{...t,headers:{Accept:"*/*",...t?.headers}})}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap((t=>Ur(t,e)))}stream(e,t){return ia.createResponse(this._client,e,t)}}class la extends mt{}sa.InputItems=Xr;class ua extends $e{constructor(){let{baseURL:e=nt("OPENAI_BASE_URL"),apiKey:t=nt("OPENAI_API_KEY"),organization:n=nt("OPENAI_ORG_ID")??null,project:r=nt("OPENAI_PROJECT_ID")??null,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===t)throw new G("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:t,organization:n,project:r,...a,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new G("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new ft(this),this.chat=new bt(this),this.embeddings=new wt(this),this.files=new xt(this),this.images=new St(this),this.audio=new Nt(this),this.moderations=new jt(this),this.models=new Pt(this),this.fineTuning=new Rt(this),this.vectorStores=new zt(this),this.beta=new Rr(this),this.batches=new Lr(this),this.uploads=new Fr(this),this.responses=new sa(this),this._options=o,this.apiKey=t,this.organization=n,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return D(e,{arrayFormat:"brackets"})}}ra=ua,ua.OpenAI=ra,ua.DEFAULT_TIMEOUT=6e5,ua.OpenAIError=G,ua.APIError=Z,ua.APIConnectionError=te,ua.APIConnectionTimeoutError=ne,ua.APIUserAbortError=ee,ua.NotFoundError=ie,ua.ConflictError=se,ua.RateLimitError=ue,ua.BadRequestError=re,ua.AuthenticationError=ae,ua.InternalServerError=ce,ua.PermissionDeniedError=oe,ua.UnprocessableEntityError=le,ua.toFile=Ee,ua.fileFromPath=H,ua.Completions=ft,ua.Chat=bt,ua.ChatCompletionsPage=yt,ua.Embeddings=wt,ua.Files=xt,ua.FileObjectsPage=_t,ua.Images=St,ua.Audio=Nt,ua.Moderations=jt,ua.Models=Pt,ua.ModelsPage=At,ua.FineTuning=Rt,ua.VectorStores=zt,ua.VectorStoresPage=Ut,ua.VectorStoreSearchResponsesPage=Ht,ua.Beta=Rr,ua.Batches=Lr,ua.BatchesPage=Br,ua.Uploads=Fr,ua.Responses=sa;new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]);const ca=ua,da=e=>{const t=Math.floor(e/60),n=e%60;return`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`},fa=e=>["University","Work","Sleep","Meal","Routine","Travel"].includes(e.type),ha=(e,t,n)=>{const{durationMinutes:a,afterActivity:o}=e;if(a<n.minimumLearningBlockMinutes)return{suitability:0,reason:"Too short"};const i=t.filter((t=>{const n=r(t.start_time),a=r(t.end_time),o=r(e.start_time);return n<r(e.end_time)&&a>o}));if(i.some(fa))return{suitability:0,reason:"Contains fixed activities"};const s=i.some((e=>{return!fa(e)&&!("Flexible"===(t=e).type||t.details&&t.details.toLowerCase().includes("possible learn option"));var t}));let l=100;s&&(l-=30),(o.toLowerCase().includes("intensive")||o.toLowerCase().includes("exam"))&&(l-=20),(o.toLowerCase().includes("break")||o.toLowerCase().includes("meal"))&&(l+=10);const u=r(e.start_time),c=Math.floor(u/60);return n.preferredLearningHours.includes(c)&&(l+=15),Math.abs(a-n.idealLearningBlockMinutes)<15&&(l+=10),l=Math.min(100,l),{suitability:l,hasFlexibleActivities:s,overlappingActivities:i,reason:l<50?"Low suitability score":null}},pa=(e,t,n)=>{var a;const{start_time:o,end_time:i,durationMinutes:s}=e;let l=Math.min(s,n.maximumLearningBlockMinutes);if(l<n.minimumLearningBlockMinutes)return null;const u=r(o);let c=u+l;n.roundToMinutes>0&&(c=Math.round(c/n.roundToMinutes)*n.roundToMinutes);const d=r(i);c>d&&(c=d);if(c-u<n.minimumLearningBlockMinutes)return null;const f=(null===(a=n.subjectPriorities[0])||void 0===a?void 0:a.name)||"General Learning";return{start_time:da(u),end_time:da(c),activity:`Learning: ${f}`,type:"Study_Intensive",details:"Automatically scheduled learning block",isAutoGenerated:!0}},ma=(e,t)=>{const n=(e=>{const t=[...e].sort(((e,t)=>r(e.start_time)-r(t.start_time))).filter(fa),n=[];for(let a=0;a<t.length-1;a++){const e=t[a],o=t[a+1],i=r(e.end_time),s=r(o.start_time);s>i&&n.push({start_time:e.end_time,end_time:o.start_time,durationMinutes:s-i,afterActivity:e.activity,beforeActivity:o.activity})}return n})(e),a=n.map((n=>({...n,...ha(n,e,t)}))).filter((e=>e.suitability>=t.minimumSuitabilityScore)).sort(((e,t)=>t.suitability-e.suitability)),o=Math.min(t.maximumDailyBlocks,a.length),i=[];let s=t.dailyLearningMinutes;for(let l=0;l<a.length&&i.length<o;l++){const e=a[l];if(s<=0)break;const n={...t,maximumLearningBlockMinutes:Math.min(t.maximumLearningBlockMinutes,s)},o=pa(e,0,n);if(o){i.push(o);s-=r(o.end_time)-r(o.start_time)}}return i},ga={minimumLearningBlockMinutes:25,idealLearningBlockMinutes:50,maximumLearningBlockMinutes:90,minimumSuitabilityScore:50,maximumDailyBlocks:3,dailyLearningMinutes:120,roundToMinutes:5,preferredLearningHours:[8,9,10,14,15,16],subjectPriorities:[{name:"Business Statistics",weight:3},{name:"Micro-Economics",weight:2},{name:"Spanish",weight:1}],respectExistingBreaks:!0,preserveFlexibleActivities:!1},ya={model:"o3-mini",effort:"high"},va=e=>new ca({apiKey:e,dangerouslyAllowBrowser:!0}),ba=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ga,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ya,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!r)throw new Error("OpenAI API key is required");try{const l=va(r),u=a||wa(e,t),c=await l.responses.create({model:n.model,input:[{role:"developer",content:[{type:"input_text",text:"MOST IMPORTANT DO NOT IGNORE: GENERATE ONLY JSON! NO TEXT EXPLANATION! YOUR OUTPUT MUST BE A VALID JSON OBJECT CONTAINING A SCHEDULE!"}]},{role:"user",content:[{type:"input_text",text:u}]}],text:{format:{type:"text"}},reasoning:{effort:n.effort},tools:[],store:!1});console.log("Full OpenAI response:",JSON.stringify(c,null,2));let d="";if(c&&c.output){const e=c.output.find((e=>"message"===e.type));if(console.log("Message object:",e),e&&e.content){const t=e.content.find((e=>"output_text"===e.type));console.log("Text content object:",t),t&&t.text&&(d=t.text,console.log("Response text found:",d.substring(0,100)+"..."))}}if(!d)throw console.error("No text response found in:",c),new Error("No text response received from OpenAI. Check console for details.");try{let t;try{t=JSON.parse(d)}catch(o){const e=d.match(/```json\n([\s\S]*?)\n```/)||d.match(/{[\s\S]*}/);if(!e)throw new Error("No JSON found in the response");try{t=JSON.parse(e[1]||e[0])}catch(i){throw new Error("Could not parse JSON from the response")}}return xa(t,e)}catch(s){throw console.error("Error parsing JSON from AI response:",s),new Error("Failed to extract valid schedule data from the AI response")}}catch(l){console.error("Error generating optimized schedule:",l),console.error("Error details:",JSON.stringify(l,Object.getOwnPropertyNames(l),2)),l.response&&(console.error("Response data:",l.response.data),console.error("Response status:",l.response.status));let e="Failed to generate schedule: ";throw l.message?e+=l.message:l.response&&l.response.data?e+=JSON.stringify(l.response.data):e+="Unknown error",new Error(e)}},wa=(e,t)=>`\n  Create an optimized weekly schedule for a student based on learning science principles. \n  Here is their current schedule:\n  \n  ${Object.entries(e).map((e=>{let[t,n]=e;return`${t}:\n${n.map((e=>`- ${e.start_time}-${e.end_time}: ${e.activity} (${e.type})`)).join("\n")||"- No activities scheduled"}`})).join("\n\n")}\n  \n  Their learning preferences are:\n  - Daily learning goal: ${t.dailyLearningMinutes} minutes\n  - Preferred subjects: ${t.subjectPriorities.map((e=>e.name)).join(", ")}\n  - Preferred learning block duration: ${t.minimumLearningBlockMinutes}-${t.maximumLearningBlockMinutes} minutes\n  \n  Apply these learning science principles:\n  1. Incorporate spaced repetition (distribute learning across days rather than cramming)\n  2. Add interleaving (mix different subjects rather than blocking single subjects)\n  3. Include dedicated review periods after learning sessions\n  4. Schedule sessions during peak cognitive hours when possible\n  5. Add buffer time between sessions\n  6. Ensure sufficient breaks\n  7. Include physical activity breaks to boost learning\n  \n  Return a JSON object with the optimized schedule in the same format as the input schedule, \n  with each day containing an array of activities. Mark AI-generated activities with \n  "isAutoGenerated": true.\n  \n  Each activity should have:\n  - activity: string (name of the activity)\n  - start_time: string (format "HH:MM")\n  - end_time: string (format "HH:MM")\n  - type: string (use "Study_Focus", "Study_Review", "Break", "Physical", "Meal", "Sleep", etc.)\n  - details: string (brief description)\n  - isAutoGenerated: boolean\n  \n  YOUR RESPONSE MUST BE A VALID JSON OBJECT ONLY.\n  `,xa=(e,t)=>{const n={...t};return Object.entries(e).forEach((e=>{let[t,r]=e;if(!Array.isArray(r))return;n[t]?n[t]=n[t].filter((e=>!e.isAutoGenerated)):n[t]=[];const a=r.filter((e=>e.activity&&e.start_time&&e.end_time&&e.type));a.forEach((e=>{e.isAutoGenerated=!0})),n[t]=[...n[t],...a],n[t].sort(((e,t)=>{const n=e.start_time.split(":").map(Number),r=t.start_time.split(":").map(Number);return n[0]!==r[0]?n[0]-r[0]:n[1]-r[1]}))})),n},_a=(0,e.createContext)(),Sa=()=>(0,e.useContext)(_a),ka=t=>{let{children:n}=t;const[r,a]=(0,e.useState)({apiKey:"",isEnabled:!1,model:"o3-mini",effort:"high",hasTestedConnection:!1,isConnectionValid:!1}),[o,i]=(0,e.useState)(!1),[l,u]=(0,e.useState)(null);(0,e.useEffect)((()=>{const e=localStorage.getItem("aiSettings");if(e)try{const t=JSON.parse(e);a((e=>({...e,...t,hasTestedConnection:!1,isConnectionValid:!1})))}catch(l){console.error("Error loading AI settings:",l)}}),[]),(0,e.useEffect)((()=>{const e={isEnabled:r.isEnabled,model:r.model,effort:r.effort};localStorage.setItem("aiSettings",JSON.stringify(e))}),[r.isEnabled,r.model,r.effort]);return(0,s.jsx)(_a.Provider,{value:{settings:r,isLoading:o,error:l,updateSettings:e=>{const t=void 0!==e.apiKey&&e.apiKey!==r.apiKey;return a((n=>({...n,...e,...t?{hasTestedConnection:!1,isConnectionValid:!1}:{}}))),r},testConnection:async()=>{i(!0),u(null);try{const e=await(async e=>{if(!e)return!1;try{const t=va(e);console.log("Testing OpenAI connection...");const n=await t.responses.create({model:ya.model,input:[{role:"user",content:[{type:"input_text",text:"Simple connection test. Respond with 'connected'."}]}],text:{format:{type:"text"}},reasoning:{effort:"low"},tools:[],store:!1});return console.log("Test connection response:",JSON.stringify(n,null,2)),n&&n.id?(console.log("Connection test successful"),!0):(console.log("Connection test failed: no valid response"),!1)}catch(l){return console.error("Error testing OpenAI connection:",l),console.error("Error details:",JSON.stringify(l,Object.getOwnPropertyNames(l),2)),l.response&&(console.error("Response status:",l.response.status),console.error("Response data:",l.response.data)),!1}})(r.apiKey);return a((t=>({...t,hasTestedConnection:!0,isConnectionValid:e}))),e}catch(e){return u("Failed to connect to OpenAI. Please check your API key and try again."),a((e=>({...e,hasTestedConnection:!0,isConnectionValid:!1}))),!1}finally{i(!1)}},clearApiKey:()=>{a((e=>({...e,apiKey:"",hasTestedConnection:!1,isConnectionValid:!1})))}},children:n})},Ca=()=>{const{isDarkMode:t,toggleDarkMode:n}=(0,e.useContext)(y);return(0,s.jsx)("button",{onClick:n,className:"p-2 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 "+(t?"bg-gray-700 text-yellow-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),"aria-label":t?"Switch to light mode":"Switch to dark mode",children:t?(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})})},Ea=()=>{const{settings:t}=Sa(),{scheduleData:n,setScheduleData:r,saveToLocalStorage:a}=u(),{showSuccess:o,showError:i,showConfirm:l}=f(),[c,d]=(0,e.useState)(!1),[h,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)(ga),[y,v]=(0,e.useState)(!1),[b,w]=(0,e.useState)(""),x=e=>{const{name:t,value:n,type:r}=e.target;g({...m,[t]:"number"===r?parseInt(n,10):n})};return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>d(!c),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded transition-colors flex items-center","aria-expanded":c,children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"AI Smart Scheduler"]}),c&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-xl z-30 p-4 border border-gray-200",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"AI-Powered Smart Scheduling"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Generate an optimized study schedule based on learning science principles like spaced repetition, interleaving, and cognitive breaks."}),y?(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b.trim()?v(!1):i("API key cannot be empty")},className:"mb-4",children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OpenAI API Key"}),(0,s.jsx)("input",{type:"password",value:b,onChange:e=>w(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500",placeholder:"sk-...",required:!0}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Your API key is never stored permanently and only used for this session."})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>v(!1),className:"px-3 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"px-3 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors",children:"Save Key"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Daily Study Goal (minutes)"}),(0,s.jsx)("input",{type:"number",name:"dailyLearningMinutes",value:m.dailyLearningMinutes,onChange:x,min:"30",max:"360",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Study Block (min)"}),(0,s.jsx)("input",{type:"number",name:"minimumLearningBlockMinutes",value:m.minimumLearningBlockMinutes,onChange:x,min:"15",max:"60",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Study Block (min)"}),(0,s.jsx)("input",{type:"number",name:"maximumLearningBlockMinutes",value:m.maximumLearningBlockMinutes,onChange:x,min:"30",max:"180",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Learning Science Features"}),(0,s.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,s.jsx)("p",{children:"\u2713 Spaced repetition for better retention"}),(0,s.jsx)("p",{children:"\u2713 Interleaving subjects for improved learning"}),(0,s.jsx)("p",{children:"\u2713 Strategic breaks based on cognitive science"}),(0,s.jsx)("p",{children:"\u2713 Time-blocking optimized for your schedule"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-4",children:[(0,s.jsx)("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:async()=>{if(t.isConnectionValid||t.apiKey||b)try{p(!0);const e=t.apiKey||b;o("Connecting to OpenAI and generating optimized schedule... This may take 30-60 seconds.",1e4);const s=await ba(n,m,{model:t.model,effort:t.effort},e);let u=0;if(Object.keys(s).forEach((e=>{u+=s[e].filter((e=>e.isAutoGenerated)).length})),0===u)return void i("No study blocks could be generated. Try adjusting your settings.");l(`The AI has optimized your schedule with ${u} study blocks based on learning science. Apply these changes?`,(()=>{r(s),a(s),o(`Successfully applied AI-optimized schedule with ${u} study blocks`),d(!1)}))}catch(e){console.error("Error generating AI schedule:",e),i(`Failed to generate AI schedule: ${e.message}`)}finally{p(!1)}else v(!0)},disabled:h,className:"px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors "+(h?"opacity-75 cursor-not-allowed":""),children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline-block",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):"Generate AI Schedule"})]})]})]})]})},Na=t=>{let{onClose:n}=t;const{settings:r,updateSettings:a,testConnection:o,isLoading:i,error:l}=Sa(),{showSuccess:u,showError:c,showAlert:d}=f(),[h,p]=(0,e.useState)({apiKey:r.apiKey||"",isEnabled:r.isEnabled,model:r.model,effort:r.effort}),[m,g]=(0,e.useState)(!1),[y,v]=(0,e.useState)(!1),[b,w]=(0,e.useState)(r.isConnectionValid);(0,e.useEffect)((()=>{p({apiKey:r.apiKey||"",isEnabled:r.isEnabled,model:r.model,effort:r.effort}),w(r.isConnectionValid)}),[r]);const x=e=>{const{name:t,value:n,type:r,checked:a}=e.target,o="checkbox"===r?a:"number"===r?parseFloat(n):n;p({...h,[t]:o}),"apiKey"===t&&(v(!1),w(!1))};return(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"AI Settings"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h.isEnabled&&h.apiKey&&!b?c("Please test your API key connection before enabling AI features"):(a(h),u("AI settings updated successfully!"),n())},children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"isEnabled",name:"isEnabled",checked:h.isEnabled,onChange:x,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"isEnabled",className:"ml-2 block text-sm text-gray-700",children:"Enable AI-powered scheduling"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Requires an OpenAI API key with access to the o3-mini model"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OpenAI API Key"}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("input",{type:m?"text":"password",name:"apiKey",value:h.apiKey,onChange:x,className:"flex-1 p-2 border border-gray-300 rounded-l-md shadow-sm focus:ring-purple-500 focus:border-purple-500",placeholder:"sk-..."}),(0,s.jsx)("button",{type:"button",onClick:()=>g(!m),className:"px-3 py-2 bg-gray-200 text-gray-700 rounded-r-md hover:bg-gray-300",children:m?"Hide":"Show"})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Your API key is stored locally in your browser"}),(0,s.jsx)("button",{type:"button",onClick:async()=>{if(h.apiKey){a({apiKey:h.apiKey});try{d("Testing connection to OpenAI... Please wait.");const e=await o();v(!0),w(e),e?u("Connection to OpenAI successful! Your API key works."):c("Failed to connect to OpenAI. Please check your API key and ensure you have access to the o3-mini model. See browser console for detailed error information.")}catch(e){console.error("Error during connection test:",e),v(!0),w(!1),c(l||"An error occurred testing the connection. Check browser console for details.")}}else c("Please enter an API key to test the connection")},disabled:i||!h.apiKey,className:"text-xs px-2 py-1 rounded "+(i?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"),children:i?"Testing...":"Test Connection"})]}),y&&(0,s.jsx)("div",{className:"mt-2 text-sm "+(b?"text-green-600":"text-red-600"),children:b?"Connection successful!":"Connection failed. Please check your API key."})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),(0,s.jsx)("select",{name:"model",value:h.model,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500",children:(0,s.jsx)("option",{value:"o3-mini",children:"o3-mini"})}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Currently only o3-mini is supported"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reasoning Effort"}),(0,s.jsxs)("select",{name:"effort",value:h.effort,onChange:x,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500",children:[(0,s.jsx)("option",{value:"high",children:"High"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"low",children:"Low"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"High effort produces better quality schedules"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,s.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors",children:"Save Settings"})]})]})]})})},ja=()=>{const{scheduleData:t,daysOfWeek:n,saveToLocalStorage:r,exportToJson:a,importFromJson:o}=u(),[i,l]=(0,e.useState)("Loading..."),[c,d]=(0,e.useState)(!1),[f,h]=(0,e.useState)(!1);(0,e.useEffect)((()=>{p();const e=setInterval(p,1e3);return()=>clearInterval(e)}),[]);const p=()=>{const e=new Date,t=e.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"Europe/Berlin"}),n=e.toLocaleDateString("de-DE",{weekday:"short",year:"numeric",month:"short",day:"numeric",timeZone:"Europe/Berlin"});l(`${n}, ${t}`)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("header",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-4 flex flex-col md:flex-row justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center mb-3 md:mb-0",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mr-3",children:"My Weekly Schedule"}),(0,s.jsx)(Ca,{})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-2 w-full md:w-auto",children:[(0,s.jsx)("div",{id:"live-timer",className:"text-base font-medium text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded mb-2 sm:mb-0 order-1 sm:order-none text-center sm:text-left",children:i}),(0,s.jsxs)("div",{className:"flex space-x-1 order-3 sm:order-none mt-2 sm:mt-0 flex-wrap justify-center",children:[(0,s.jsx)("button",{onClick:()=>r(),title:"Load from Browser",className:"bg-blue-100 hover:bg-blue-200 dark:bg-blue-800 dark:hover:bg-blue-700 text-blue-800 dark:text-blue-100 text-xs font-bold py-1 px-2 rounded",children:"\ud83d\udcbe"}),(0,s.jsx)("button",{onClick:()=>{r(),d(!0),setTimeout((()=>d(!1)),1500)},title:"Save to Browser",className:"bg-green-100 hover:bg-green-200 dark:bg-green-800 dark:hover:bg-green-700 text-green-800 dark:text-green-100 text-xs font-bold py-1 px-2 rounded",children:c?"Saved!":"\ud83d\udcbe"}),(0,s.jsx)("button",{onClick:a,title:"Download JSON",className:"bg-yellow-100 hover:bg-yellow-200 dark:bg-yellow-800 dark:hover:bg-yellow-700 text-yellow-800 dark:text-yellow-100 text-xs font-bold py-1 px-2 rounded",children:"\u2b07"}),(0,s.jsxs)("label",{title:"Upload JSON",className:"bg-purple-100 hover:bg-purple-200 dark:bg-purple-800 dark:hover:bg-purple-700 text-purple-800 dark:text-purple-100 text-xs font-bold py-1 px-2 rounded cursor-pointer",children:["\u2b06",(0,s.jsx)("input",{type:"file",accept:".json",className:"hidden",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=t=>{try{const e=JSON.parse(t.target.result);window.confirm("Successfully read JSON file. Replace current schedule with uploaded data?")&&(o(e),alert("Schedule updated from uploaded file."))}catch(n){console.error("Error processing uploaded JSON:",n),alert(`Failed to load schedule from file: ${n.message}`)}finally{e.target.value=""}},n.onerror=()=>{alert("Error reading file."),e.target.value=""},n.readAsText(t)}})]}),(0,s.jsx)("button",{onClick:()=>h(!0),title:"AI Settings",className:"bg-indigo-100 hover:bg-indigo-200 dark:bg-indigo-800 dark:hover:bg-indigo-700 text-indigo-800 dark:text-indigo-100 text-xs font-bold py-1 px-2 rounded","aria-label":"AI Settings",children:"\u2699\ufe0f"})]}),(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsx)("button",{onClick:()=>{((e,t)=>{if(0===Object.keys(e).length)return void alert("Schedule data not loaded yet. Cannot generate ICS file.");const n=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//YourName//InteractiveScheduleApp-V2//EN","CALSCALE:GREGORIAN"],r=new Date,a=(7-(r.getDay()+6)%7)%7,o=new Date(r);o.setDate(r.getDate()+a),o.setHours(0,0,0,0),t.forEach(((t,r)=>{if(e[t]&&e[t].length>0){const a=new Date(o);a.setDate(o.getDate()+r),e[t].forEach(((e,o)=>{if(!e.start_time||!e.end_time||!e.start_time.includes(":")||!e.end_time.includes(":"))return void console.warn(`Skipping ICS entry due to invalid time: ${e.activity} on ${t}`);const[i,s]=e.start_time.split(":").map(Number),[l,u]=e.end_time.split(":").map(Number);if(isNaN(i)||isNaN(s)||isNaN(l)||isNaN(u))return void console.warn(`Skipping ICS entry due to NaN time components: ${e.activity} on ${t}`);const c=new Date(a);c.setHours(i,s,0,0);const d=new Date(a);d.setHours(l,u,0,0),d<=c&&d.setDate(d.getDate()+1);const f=e=>e.getFullYear()+("0"+(e.getMonth()+1)).slice(-2)+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+("0"+e.getMinutes()).slice(-2)+"00",h=(p=new Date).getUTCFullYear()+("0"+(p.getUTCMonth()+1)).slice(-2)+("0"+p.getUTCDate()).slice(-2)+"T"+("0"+p.getUTCHours()).slice(-2)+("0"+p.getUTCMinutes()).slice(-2)+("0"+p.getUTCSeconds()).slice(-2)+"Z";var p;const m=`DTSTART;TZID=Europe/Berlin:${f(c)}`,g=`DTEND;TZID=Europe/Berlin:${f(d)}`,y=`SUMMARY:${(e.activity||"Scheduled Event").replace(/([,;\\])/g,"\\$1")}`,v=e.details?`DESCRIPTION:${e.details.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n")}`:"DESCRIPTION:",b=`UID:${f(c)}-${r}-${o}@yourscheduleapp.com`;n.push("BEGIN:VEVENT"),n.push(b),n.push(`DTSTAMP:${h}`),n.push(m),n.push(g),n.push(y),n.push(v),n.push(`CATEGORIES:${e.type||"GENERAL"}`),n.push("END:VEVENT")}))}})),n.push("END:VCALENDAR");try{const e=new Blob([n.join("\r\n")],{type:"text/calendar;charset=utf-8"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="my_weekly_schedule.ics",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}catch(i){console.error("Error creating or downloading ICS file:",i),alert("Sorry, there was an error creating the ICS file.")}})(t,n)},title:"Download Week (.ics)",className:"bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-3 rounded transition duration-150 ease-in-out text-sm order-2 sm:order-none",children:"ICS"}),(0,s.jsx)(Ea,{})]})]})]}),f&&(0,s.jsx)(Na,{onClose:()=>h(!1)})]})},Pa=()=>{const{daysOfWeek:e,currentDay:t,setCurrentDay:n}=u();return(0,s.jsx)("div",{className:"bg-white rounded-lg shadow mb-4 overflow-hidden",children:(0,s.jsx)("nav",{className:"flex flex-wrap border-b border-gray-200","aria-label":"Days of the week",children:(0,s.jsx)("div",{className:"flex flex-wrap -mb-px",role:"tablist",children:e.map((e=>(0,s.jsx)("button",{className:`tab whitespace-nowrap py-3 px-4 border-b-2 ${t===e?"tab-active":"border-transparent text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300"} focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500`,onClick:()=>n(e),role:"tab","aria-selected":t===e,"aria-controls":`panel-${e}`,id:`tab-${e}`,children:e},e)))})})})},Aa=()=>{const{scheduleData:t,daysOfWeek:n,setCurrentDay:r}=u(),[o,i]=(0,e.useState)(""),[l,c]=(0,e.useState)(""),[d,f]=(0,e.useState)([]),[h,p]=(0,e.useState)(!1),m=(()=>{const e=new Set;return n.forEach((n=>{t[n]&&Array.isArray(t[n])&&t[n].forEach((t=>{t.type&&e.add(t.type)}))})),Array.from(e).sort()})();(0,e.useEffect)((()=>{if(!o&&!l)return f([]),void p(!1);p(!0);const e=[];n.forEach((n=>{t[n]&&Array.isArray(t[n])&&t[n].forEach(((t,r)=>{const a=!o||t.activity.toLowerCase().includes(o.toLowerCase())||t.details&&t.details.toLowerCase().includes(o.toLowerCase()),i=!l||t.type===l;a&&i&&e.push({day:n,index:r,...t})}))})),f(e)}),[o,l,t,n]);return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Search & Filter"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Activities"}),(0,s.jsx)("input",{type:"text",id:"search",placeholder:"Enter activity name...",value:o,onChange:e=>i(e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3"})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{htmlFor:"type-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Type"}),(0,s.jsxs)("select",{id:"type-filter",value:l,onChange:e=>c(e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3",children:[(0,s.jsx)("option",{value:"",children:"All Types"}),m.map((e=>(0,s.jsx)("option",{value:e,children:e.replace(/_/g," ")},e)))]})]}),(0,s.jsx)("div",{className:"self-end mb-0.5 mt-6",children:(0,s.jsx)("button",{onClick:()=>{i(""),c("")},className:"py-2 px-3 bg-gray-200 hover:bg-gray-300 rounded text-gray-700 text-sm transition duration-150 ease-in-out",disabled:!o&&!l,children:"Clear"})})]}),h&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("h4",{className:"text-md font-medium text-gray-700 mb-2",children:["Results ",d.length>0?`(${d.length})`:""]}),0===d.length?(0,s.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No activities found matching your search criteria."}):(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto pr-1",children:d.map(((e,t)=>(0,s.jsxs)("div",{className:`p-3 mb-2 rounded border-l-4 ${a(e.type)} shadow-sm hover:shadow-md cursor-pointer transition-shadow duration-200`,onClick:()=>{return t=e.day,void r(t);var t},children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1 flex-wrap",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-800",children:e.activity}),(0,s.jsxs)("span",{className:"text-xs font-mono bg-gray-200 px-2 py-0.5 rounded text-gray-700",children:[e.start_time," - ",e.end_time]})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600 flex justify-between items-center",children:[(0,s.jsx)("span",{className:"truncate max-w-md",children:e.details||(0,s.jsx)("i",{className:"text-gray-400",children:"No details"})}),(0,s.jsxs)("span",{className:"text-xs font-medium text-blue-600 whitespace-nowrap ml-2",children:["(",e.day,")"]})]})]},`${e.day}-${e.index}-${t}`)))})]})]})};var Ta=n(786);const Ia=e=>{let{item:t,index:n,onEdit:o,onDelete:i,onPomodoroClick:l}=e;const u=((e,t)=>{if(!e||!t||!e.includes(":")||!t.includes(":"))return"N/A";let n=r(e),a=r(t);a<=n&&(a+=1440);const o=a-n;if(o<0||isNaN(o))return"Invalid";const i=Math.floor(o/60),s=o%60;let l="";return i>0&&(l+=`${i}h `),s>0||0===o?l+=`${s}m`:i>0&&0===s&&(l=l.trim()),l.trim()||"0m"})(t.start_time,t.end_time),c=t.details&&t.details.toLowerCase().includes("pomodoro"),d=t.isAutoGenerated,f=t.isNewlyAdded;return(0,s.jsxs)("div",{className:`schedule-item relative p-3 mb-3 rounded border-l-4 \n                 ${a(t.type)} \n                 shadow-sm transition-all duration-200 hover:shadow-md cursor-grab\n                 ${d?"ring-2 ring-purple-300 animate-pulse-purple":""}\n                 ${f?"animate-slide-in ring-2 ring-green-300":""}\n                 focus-within:ring-2 focus-within:ring-blue-500`,tabIndex:"0","aria-label":`${t.activity} from ${t.start_time} to ${t.end_time}`,role:"article",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1 flex-wrap",children:[(0,s.jsxs)("div",{className:"flex items-center flex-wrap",children:[(0,s.jsxs)("span",{className:"font-semibold text-gray-800 mr-2",children:[t.activity,d&&(0,s.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:"Auto"})]}),(0,s.jsxs)("div",{className:"inline-flex mr-2",children:[(0,s.jsx)("button",{className:"action-btn btn-edit mr-1 transition-colors",title:"Edit","aria-label":`Edit ${t.activity}`,onClick:e=>{e.stopPropagation(),e.preventDefault(),o(n)},children:"\u270e"}),c&&(0,s.jsx)("button",{className:"action-btn btn-pomodoro transition-colors",title:"Show Pomodoro Timer","aria-label":`Start Pomodoro timer for ${t.activity}`,onClick:e=>{e.stopPropagation(),e.preventDefault(),l(n)},children:"P"})]})]}),(0,s.jsxs)("span",{className:"text-xs font-mono bg-gray-200 px-2 py-0.5 rounded text-gray-700 whitespace-nowrap",children:[t.start_time," - ",t.end_time]})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600 flex justify-between items-center flex-wrap",children:[(0,s.jsx)("span",{className:"mr-2 details-text",children:t.details?(0,s.jsx)("span",{dangerouslySetInnerHTML:{__html:t.details.replace(/Pomodoro[s]?/gi,'<strong class="text-indigo-600 font-semibold">$&</strong>')}}):(0,s.jsx)("i",{className:"text-gray-400",children:"No details"})}),(0,s.jsxs)("div",{className:"ml-auto flex items-center",children:[(0,s.jsxs)("span",{className:"text-xs text-gray-500 font-medium whitespace-nowrap mr-2",children:["(",u,")"]}),(0,s.jsx)("button",{className:"action-btn btn-delete transition-colors",title:"Delete","aria-label":`Delete ${t.activity}`,onClick:e=>{e.stopPropagation(),e.preventDefault(),i(n)},children:"\ud83d\uddd1"})]})]})]})},Oa=t=>{let{day:n,editIndex:a,onClose:o}=t;const{scheduleData:i,addActivity:l,updateActivity:c}=u(),{showWarning:d,showSuccess:h}=f(),p=null!==a,m=p?i[n][a]:{start_time:"",end_time:"",activity:"",type:"Routine",details:""},[g,y]=(0,e.useState)(m);(0,e.useEffect)((()=>{const e=e=>{"Escape"===e.key&&o()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[o]);const v=e=>{const{name:t,value:n}=e.target;y((e=>({...e,[t]:n})))};return(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50",onClick:e=>{e.target===e.currentTarget&&o()},children:(0,s.jsx)("div",{className:"relative mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white",children:(0,s.jsxs)("div",{className:"mt-3 text-center",children:[(0,s.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:p?"Edit Activity":`Add Activity to ${n}`}),(0,s.jsxs)("form",{className:"mt-2 px-7 py-3 space-y-3 text-left",onSubmit:e=>{var t;if(e.preventDefault(),!g.start_time||!g.end_time||!g.activity||!g.type)return void d("Please fill in Start Time, End Time, Activity, and Type.");if(r(g.end_time)===r(g.start_time))return void d("End time cannot be the same as start time.");const i={...g,activity:g.activity.trim(),details:(null===(t=g.details)||void 0===t?void 0:t.trim())||null};p?(c(n,a,i),h("Activity updated successfully.")):(l(n,i),h("Activity added successfully.")),o()},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"start_time",className:"block text-sm font-medium text-gray-700",children:"Start Time:"}),(0,s.jsx)("input",{type:"time",id:"start_time",name:"start_time",value:g.start_time,onChange:v,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"end_time",className:"block text-sm font-medium text-gray-700",children:"End Time:"}),(0,s.jsx)("input",{type:"time",id:"end_time",name:"end_time",value:g.end_time,onChange:v,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"activity",className:"block text-sm font-medium text-gray-700",children:"Activity:"}),(0,s.jsx)("input",{type:"text",id:"activity",name:"activity",value:g.activity,onChange:v,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:"Type:"}),(0,s.jsxs)("select",{id:"type",name:"type",value:g.type,onChange:v,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,s.jsx)("option",{value:"Routine",children:"Routine"}),(0,s.jsx)("option",{value:"Travel",children:"Travel"}),(0,s.jsx)("option",{value:"Buffer",children:"Buffer"}),(0,s.jsx)("option",{value:"University",children:"University"}),(0,s.jsx)("option",{value:"Break",children:"Break"}),(0,s.jsx)("option",{value:"Study_Review",children:"Study_Review"}),(0,s.jsx)("option",{value:"Study_Prep",children:"Study_Prep"}),(0,s.jsx)("option",{value:"Study_Intensive",children:"Study_Intensive"}),(0,s.jsx)("option",{value:"Meal",children:"Meal"}),(0,s.jsx)("option",{value:"Housework",children:"Housework"}),(0,s.jsx)("option",{value:"Flexible",children:"Flexible"}),(0,s.jsx)("option",{value:"Work",children:"Work"}),(0,s.jsx)("option",{value:"Language",children:"Language"}),(0,s.jsx)("option",{value:"Free_Time",children:"Free_Time"}),(0,s.jsx)("option",{value:"Sleep",children:"Sleep"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"details",className:"block text-sm font-medium text-gray-700",children:"Details:"}),(0,s.jsx)("textarea",{id:"details",name:"details",value:g.details||"",onChange:v,rows:"3",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,s.jsxs)("div",{className:"items-center px-4 py-3 flex justify-center",children:[(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white text-base font-medium rounded-md w-auto shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300",children:"Save"}),(0,s.jsx)("button",{type:"button",onClick:o,className:"px-4 py-2 bg-gray-200 text-gray-800 text-base font-medium rounded-md w-auto ml-2 shadow-sm hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-300",children:"Cancel"})]})]})]})})})},Da=t=>{let{onClose:n}=t;const{settings:r,updateSettings:a}=m(),{showSuccess:o}=f(),[i,l]=(0,e.useState)({...r}),u=e=>{const{name:t,value:n,type:r,checked:a}=e.target;l({...i,[t]:"checkbox"===r?a:"number"===r?parseInt(n,10):n})};return(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Pomodoro Timer Settings"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(i),o("Pomodoro settings updated successfully!"),n()},children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Work Duration (minutes)"}),(0,s.jsx)("input",{type:"number",name:"workDuration",min:"1",max:"120",value:i.workDuration,onChange:u,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Short Break (minutes)"}),(0,s.jsx)("input",{type:"number",name:"shortBreakDuration",min:"1",max:"30",value:i.shortBreakDuration,onChange:u,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Long Break (minutes)"}),(0,s.jsx)("input",{type:"number",name:"longBreakDuration",min:"1",max:"60",value:i.longBreakDuration,onChange:u,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Cycles Before Long Break"}),(0,s.jsx)("input",{type:"number",name:"cyclesBeforeLongBreak",min:"1",max:"10",value:i.cyclesBeforeLongBreak,onChange:u,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0})]})]}),(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)("input",{type:"checkbox",id:"autoStartBreaks",name:"autoStartBreaks",checked:i.autoStartBreaks,onChange:u,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"autoStartBreaks",className:"ml-2 block text-sm text-gray-700",children:"Auto-start breaks"})]}),(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)("input",{type:"checkbox",id:"autoStartPomodoros",name:"autoStartPomodoros",checked:i.autoStartPomodoros,onChange:u,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"autoStartPomodoros",className:"ml-2 block text-sm text-gray-700",children:"Auto-start work sessions after breaks"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Alarm Sound"}),(0,s.jsxs)("select",{name:"alarmSound",value:i.alarmSound,onChange:u,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[(0,s.jsx)("option",{value:"bell",children:"Bell"}),(0,s.jsx)("option",{value:"chime",children:"Chime"}),(0,s.jsx)("option",{value:"digital",children:"Digital"})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Alarm Volume: ",Math.round(100*i.alarmVolume),"%"]}),(0,s.jsx)("input",{type:"range",name:"alarmVolume",min:"0",max:"1",step:"0.1",value:i.alarmVolume,onChange:u,className:"w-full"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,s.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors",children:"Save Settings"})]})]})]})})},Ma=t=>{let{activity:n,onClose:r}=t;const{showSuccess:a,showConfirm:o}=f(),{settings:i}=m(),[l,u]=(0,e.useState)(60*i.workDuration),[c,d]=(0,e.useState)(!1),[h,p]=(0,e.useState)("work"),[g,y]=(0,e.useState)(1),[v,b]=(0,e.useState)(!1),w=(0,e.useRef)(null),x=(0,e.useRef)(null);(0,e.useEffect)((()=>(_(),x.current=new Audio,x.current.volume=i.alarmVolume,()=>{w.current&&clearInterval(w.current)})),[i,h]);const _=()=>{let e;switch(h){case"work":default:e=i.workDuration;break;case"shortBreak":e=i.shortBreakDuration;break;case"longBreak":e=i.longBreakDuration}u(60*e)},S=()=>{c||(d(!0),w.current=setInterval((()=>{u((e=>e<=1?(clearInterval(w.current),d(!1),k(),0):e-1))}),1e3))},k=()=>{"work"===h?(a(`Pomodoro for "${n}" completed! Time for a break!`),g>=i.cyclesBeforeLongBreak?(p("longBreak"),y(1),a("Long break time!")):(p("shortBreak"),y((e=>e+1)),a("Short break time!")),i.autoStartBreaks&&setTimeout((()=>S()),1e3)):(p("work"),a("Break completed! Ready for next work session."),i.autoStartPomodoros&&setTimeout((()=>S()),1e3)),_()},C=()=>{c&&(clearInterval(w.current),d(!1))},E=e=>{c?o("Timer is currently running. Change mode and reset timer?",(()=>{p(e),C(),_()})):(p(e),_())};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:`p-3 rounded-lg shadow mb-4 border ${(()=>{switch(h){case"work":default:return"bg-orange-100 border-orange-300";case"shortBreak":return"bg-green-100 border-green-300";case"longBreak":return"bg-blue-100 border-blue-300"}})()} transition-colors duration-300`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:(()=>{switch(h){case"work":return"Pomodoro - Work Session";case"shortBreak":return"Short Break";case"longBreak":return"Long Break";default:return"Pomodoro Timer"}})()}),(0,s.jsx)("button",{onClick:()=>b(!0),className:"text-gray-600 hover:text-gray-800","aria-label":"Settings",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-700 mb-2",children:["Task: ",(0,s.jsx)("strong",{children:n})," \u2022 Cycle: ",(0,s.jsxs)("span",{className:"font-medium",children:[g,"/",i.cyclesBeforeLongBreak]})]}),(0,s.jsx)("div",{className:"flex justify-center mb-3",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>E("work"),className:"px-3 py-1 rounded text-sm font-medium transition-colors "+("work"===h?"bg-orange-500 text-white":"bg-orange-200 text-orange-800 hover:bg-orange-300"),children:"Work"}),(0,s.jsx)("button",{onClick:()=>E("shortBreak"),className:"px-3 py-1 rounded text-sm font-medium transition-colors "+("shortBreak"===h?"bg-green-500 text-white":"bg-green-200 text-green-800 hover:bg-green-300"),children:"Short Break"}),(0,s.jsx)("button",{onClick:()=>E("longBreak"),className:"px-3 py-1 rounded text-sm font-medium transition-colors "+("longBreak"===h?"bg-blue-500 text-white":"bg-blue-200 text-blue-800 hover:bg-blue-300"),children:"Long Break"})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-4 flex-wrap",children:[(0,s.jsx)("div",{className:"text-4xl font-mono font-bold text-gray-900 mb-2 sm:mb-0 animate-pulse",children:(e=>{const t=Math.floor(e/60),n=e%60;return`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`})(l)}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:S,disabled:c,className:(c?"bg-green-300 cursor-not-allowed":"bg-green-500 hover:bg-green-600")+" text-white font-bold py-2 px-4 rounded transition-colors","aria-label":"Start timer",children:"Start"}),(0,s.jsx)("button",{onClick:C,disabled:!c,className:(c?"bg-red-500 hover:bg-red-600":"bg-red-300 cursor-not-allowed")+" text-white font-bold py-2 px-4 rounded transition-colors","aria-label":"Stop timer",children:"Pause"}),(0,s.jsx)("button",{onClick:()=>{c?o(`Timer for "${n}" is running. Are you sure you want to reset it?`,(()=>{clearInterval(w.current),d(!1),_()})):_()},className:"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded transition-colors","aria-label":"Reset timer",children:"Reset"}),(0,s.jsx)("button",{onClick:r,className:"bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded transition-colors","aria-label":"Close pomodoro timer",children:"Close"})]})]}),(0,s.jsx)("div",{className:"mt-3 text-center text-xs text-gray-500",children:"work"===h?`Focus on your task for ${i.workDuration} minutes`:"shortBreak"===h?`Take a ${i.shortBreakDuration} minute break`:`Take a longer ${i.longBreakDuration} minute break to recharge`})]}),v&&(0,s.jsx)(Da,{onClose:()=>b(!1)})]})},Ra=()=>{const{scheduleData:t,setScheduleData:n,saveToLocalStorage:a}=u(),{showSuccess:o,showError:i,showConfirm:l}=f(),[c,d]=(0,e.useState)(ga),[h,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)(""),[y,v]=(0,e.useState)(1),b=e=>{const{name:t,value:n,type:r}=e.target;d({...c,[t]:"number"===r?parseInt(n,10):n})};return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>p(!h),className:"bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded transition-colors flex items-center","aria-expanded":h,children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Auto Learning Blocks"]}),h&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-xl z-30 p-4 border border-gray-200",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Auto Learning Block Settings"}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Daily Learning Goal (minutes)"}),(0,s.jsx)("input",{type:"number",name:"dailyLearningMinutes",value:c.dailyLearningMinutes,onChange:b,min:"30",max:"360",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Block Duration"}),(0,s.jsx)("input",{type:"number",name:"minimumLearningBlockMinutes",value:c.minimumLearningBlockMinutes,onChange:b,min:"15",max:"60",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Block Duration"}),(0,s.jsx)("input",{type:"number",name:"maximumLearningBlockMinutes",value:c.maximumLearningBlockMinutes,onChange:b,min:"30",max:"180",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Learning Blocks Per Day"}),(0,s.jsx)("input",{type:"number",name:"maximumDailyBlocks",value:c.maximumDailyBlocks,onChange:b,min:"1",max:"10",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Subject Priorities"}),(0,s.jsx)("div",{className:"mb-2",children:c.subjectPriorities.map(((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1 bg-gray-50 p-2 rounded",children:[(0,s.jsx)("span",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-500 mr-2",children:["Weight: ",e.weight]}),(0,s.jsx)("button",{onClick:()=>(e=>{d({...c,subjectPriorities:c.subjectPriorities.filter(((t,n)=>n!==e))})})(t),className:"text-red-500 hover:text-red-700",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]},t)))}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"New subject",className:"flex-1 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500"}),(0,s.jsx)("select",{value:y,onChange:e=>v(parseInt(e.target.value,10)),className:"w-20 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500",children:[1,2,3,4,5].map((e=>(0,s.jsx)("option",{value:e,children:e},e)))}),(0,s.jsx)("button",{onClick:()=>{m.trim()?(d({...c,subjectPriorities:[...c.subjectPriorities,{name:m.trim(),weight:y}].sort(((e,t)=>t.weight-e.weight))}),g(""),v(1)):i("Subject name cannot be empty")},className:"bg-purple-500 text-white p-2 rounded-md hover:bg-purple-600 transition-colors",children:"Add"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-4",children:[(0,s.jsx)("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{try{const e=((e,t)=>{const n={...e};return Object.keys(n).forEach((e=>{n[e]=n[e].filter((e=>!e.isAutoGenerated));const a=ma(n[e],t);n[e]=[...n[e],...a],n[e].sort(((e,t)=>r(e.start_time)-r(t.start_time)))})),n})(t,c);let s=0;if(Object.keys(e).forEach((t=>{s+=e[t].filter((e=>e.isAutoGenerated)).length})),0===s)return void i("No suitable time slots found for learning blocks. Try adjusting your settings.");l(`This will add ${s} learning blocks to your schedule. Continue?`,(()=>{n(e),a(e),o(`Added ${s} learning blocks to your schedule`),p(!1)}))}catch(e){console.error("Error generating learning schedule:",e),i("Failed to generate learning schedule")}},className:"px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors",children:"Generate Learning Blocks"})]})]})]})},La=()=>{const{scheduleData:t,currentDay:n,reorderActivities:r,deleteActivity:a}=u(),{showConfirm:o}=f(),[i,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)(null),[h,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)(""),y=t[n]||[],v=y.map(((e,t)=>({...e,id:`${n}-${t}`}))),b=e=>{d(e),l(!0)},w=e=>{o(`Are you sure you want to delete "${y[e].activity}" from ${n}?`,(()=>a(n,e)))},x=e=>{const t=y[e];g(t.activity),p(!0)};return(0,s.jsxs)(s.Fragment,{children:[h&&(0,s.jsx)(Ma,{activity:m,onClose:()=>p(!1)}),(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:[n,"'s Schedule"]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(Ra,{}),(0,s.jsx)("button",{onClick:()=>{d(null),l(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition-colors","aria-label":`Add activity to ${n}`,children:"Add Activity"})]})]}),(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 min-h-[300px]",role:"tabpanel",id:`panel-${n}`,"aria-labelledby":`tab-${n}`,children:0===v.length?(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-6",children:'No activities scheduled. Click "Add Activity" above!'}):(0,s.jsx)(Ta.ReactSortable,{list:v,setList:e=>{r(n,e)},animation:150,handle:".schedule-item",filter:".action-btn, button, input, textarea, select, .btn-pomodoro",preventOnFilter:!0,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",children:v.map(((e,t)=>(0,s.jsx)(Ia,{item:e,index:t,onEdit:b,onDelete:w,onPomodoroClick:x},e.id)))})}),i&&(0,s.jsx)(Oa,{day:n,editIndex:c,onClose:()=>l(!1)})]})},Ba=()=>(0,s.jsx)("footer",{className:"text-center text-gray-500 text-sm mt-6 pb-4",children:"Interactive Schedule Viewer"}),$a=e=>{let{notification:t,onClose:n}=e;const{id:r,message:a,type:o}=t,i="success"===o&&(a.toLowerCase().includes("generating")||a.toLowerCase().includes("connecting")||a.toLowerCase().includes("loading")||a.toLowerCase().includes("processing")||a.toLowerCase().includes("this may take"));return(0,s.jsxs)("div",{className:(()=>{const e="p-3 rounded-lg shadow-md mb-2 flex justify-between items-start transition-all duration-300 transform translate-x-0";switch(o){case"success":return`${e} bg-green-100 dark:bg-green-900 border-l-4 border-green-500 dark:border-green-700 text-green-800 dark:text-green-200`;case"error":return`${e} bg-red-100 dark:bg-red-900 border-l-4 border-red-500 dark:border-red-700 text-red-800 dark:text-red-200`;case"warning":return`${e} bg-yellow-100 dark:bg-yellow-900 border-l-4 border-yellow-500 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200`;case"info":return`${e} bg-blue-100 dark:bg-blue-900 border-l-4 border-blue-500 dark:border-blue-700 text-blue-800 dark:text-blue-200`;case"confirm":return`${e} bg-purple-100 dark:bg-purple-900 border-l-4 border-purple-500 dark:border-purple-700 text-purple-800 dark:text-purple-200`;default:return`${e} bg-gray-100 dark:bg-gray-900 border-l-4 border-gray-500 dark:border-gray-700 text-gray-800 dark:text-gray-200`}})(),role:"alert",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("span",{className:"font-bold mr-2",children:(()=>{if(i)return(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5 text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});switch(o){case"success":return"\u2713";case"error":return"\u2717";case"warning":return"\u26a0";case"info":return"\u2139";case"confirm":return"?";default:return""}})()}),(0,s.jsx)("div",{className:"text-sm",children:a})]}),"confirm"===o?(0,s.jsxs)("div",{className:"flex mt-2 space-x-2",children:[(0,s.jsx)("button",{onClick:t.onConfirm,className:"px-3 py-1 text-xs font-medium text-white bg-purple-500 rounded hover:bg-purple-600",children:"Confirm"}),(0,s.jsx)("button",{onClick:t.onCancel,className:"px-3 py-1 text-xs font-medium text-gray-800 dark:text-gray-200 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600",children:"Cancel"})]}):(0,s.jsx)("button",{onClick:()=>n(r),className:"ml-2 text-sm font-medium text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200","aria-label":"Close notification",children:"\u2715"})]})},Fa=()=>{const{notifications:e,removeNotification:t}=f();return(0,s.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-sm space-y-2","aria-live":"polite",children:e.map((e=>(0,s.jsx)($a,{notification:e,onClose:t},e.id)))})},za=()=>{const{settings:t}=Sa(),{scheduleData:n,setScheduleData:r,saveToLocalStorage:a,clearAllData:o}=u(),{showSuccess:i,showError:l,showConfirm:c}=f(),[d,h]=(0,e.useState)(!1),[p,m]=(0,e.useState)(!1),[g,y]=(0,e.useState)(ga),[v,b]=(0,e.useState)(!1),[w,x]=(0,e.useState)(""),[_,S]=(0,e.useState)(!1),[k,C]=(0,e.useState)(""),[E,N]=(0,e.useState)(!1),[j,P]=(0,e.useState)(""),[A,T]=(0,e.useState)(!1),I=e=>{e.preventDefault(),w.trim()?b(!1):l("API key cannot be empty")},O=e=>{const{name:t,value:n,type:r}=e.target;y({...g,[t]:"number"===r?parseInt(n,10):n})},D=e=>{e.preventDefault(),k.trim()?$():l("Schedule description cannot be empty")},M=e=>{e.preventDefault(),j.trim()?F():l("Calendar URL cannot be empty")},R=()=>{T(!0)},L=()=>{o(),i("Schedule cleared successfully"),T(!1)},B=()=>{T(!1)},$=async()=>{if(t.isConnectionValid||t.apiKey||w)try{m(!0);const e=t.apiKey||w;i("Connecting to OpenAI and generating schedule from your description... This may take 30-60 seconds.",1e4),o();const n=`\n      Please create a complete weekly schedule based on the following description:\n      \n      ${k}\n      \n      The schedule should include all activities mentioned and use appropriate time blocks.\n      Organize activities by day of the week (Monday through Sunday).\n      \n      Each activity should have:\n      - activity: string (name of the activity)\n      - start_time: string (format "HH:MM")\n      - end_time: string (format "HH:MM")\n      - type: string (use appropriate categories like "Work", "Study", "Break", "Physical", "Meal", "Sleep", etc.)\n      - details: string (brief description)\n      - isAutoGenerated: true\n      \n      YOUR RESPONSE MUST BE A VALID JSON OBJECT ONLY with days of the week as keys.\n      `,s=await ba({},g,{model:t.model,effort:t.effort},e,n);let u=0;if(Object.keys(s).forEach((e=>{u+=s[e].length})),0===u)return void l("No schedule blocks could be generated. Try providing more details.");c(`The AI has created a schedule with ${u} blocks based on your description. Apply this schedule?`,(()=>{r(s),a(s),i(`Successfully created schedule with ${u} blocks`),h(!1),S(!1)}))}catch(e){console.error("Error generating schedule from text:",e),l(`Failed to generate schedule: ${e.message}`)}finally{m(!1)}else b(!0)},F=async()=>{if(t.isConnectionValid||t.apiKey||w)try{m(!0);const e=t.apiKey||w;i("Fetching calendar data and generating schedule... This may take 30-60 seconds.",1e4),console.log("Processing calendar URL:",j),o();const n=`\n      Please create a complete weekly schedule based on the following public calendar URL:\n      \n      ${j}\n      \n      This is a public Google Calendar URL in iCal format that anyone can access.\n      Please fetch and parse this calendar data and extract all events for the current week. \n      \n      Create a schedule that includes these events and organizes them by day of the week (Monday through Sunday).\n      If you're unable to directly fetch from the URL, please create a sample weekly calendar with \n      typical events like meetings, classes, work periods, etc. to demonstrate the functionality.\n      \n      Each activity should have:\n      - activity: string (name of the activity/event)\n      - start_time: string (format "HH:MM")\n      - end_time: string (format "HH:MM")\n      - type: string (use appropriate categories based on the event type)\n      - details: string (brief description, including location if available)\n      - isAutoGenerated: true\n      \n      YOUR RESPONSE MUST BE A VALID JSON OBJECT ONLY with days of the week as keys.\n      `,s=await ba({},g,{model:t.model,effort:t.effort},e,n);let u=0;if(Object.keys(s).forEach((e=>{u+=s[e].length})),0===u)return void l("No events could be extracted from the calendar. Check the URL and try again.");c(`The AI has created a schedule with ${u} blocks from your calendar. Apply this schedule?`,(()=>{r(s),a(s),i(`Successfully created schedule with ${u} blocks from your calendar`),h(!1),N(!1)}))}catch(e){console.error("Error generating schedule from calendar:",e),l(`Failed to process calendar: ${e.message}`)}finally{m(!1)}else b(!0)},z=async()=>{if(t.isConnectionValid||t.apiKey||w)try{m(!0);const e=t.apiKey||w;i("Connecting to OpenAI and generating optimized schedule... This may take 30-60 seconds.",1e4);const o=await ba(n,g,{model:t.model,effort:t.effort},e);let s=0;if(Object.keys(o).forEach((e=>{s+=o[e].filter((e=>e.isAutoGenerated)).length})),0===s)return void l("No study blocks could be generated. Try adjusting your settings.");c(`The AI has optimized your schedule with ${s} study blocks based on learning science. Apply these changes?`,(()=>{r(o),a(o),i(`Successfully applied AI-optimized schedule with ${s} study blocks`),h(!1)}))}catch(e){console.error("Error generating AI schedule:",e),l(`Failed to generate AI schedule: ${e.message}`)}finally{m(!1)}else b(!0)};return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"flex space-x-2",children:(0,s.jsxs)("button",{onClick:()=>h(!d),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded transition-colors flex items-center","aria-expanded":d,children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"AI Scheduler"]})}),d&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-xl z-30 p-4 border border-gray-200 dark:bg-gray-800 dark:border-gray-700 dark:text-white",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"AI-Powered Scheduling Tools"}),(0,s.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,s.jsx)("button",{onClick:()=>{S(!0),N(!1),b(!1),T(!1)},className:"flex-1 px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors text-sm",children:"Text Description"}),(0,s.jsx)("button",{onClick:()=>{N(!0),S(!1),b(!1),T(!1)},className:"flex-1 px-3 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors text-sm",children:"Import Calendar"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4 dark:text-gray-300",children:"Generate an optimized schedule based on your description, calendar, or existing activities."}),v&&(0,s.jsxs)("form",{onSubmit:I,className:"mb-4",children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"OpenAI API Key"}),(0,s.jsx)("input",{type:"password",value:w,onChange:e=>x(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500",placeholder:"sk-...",required:!0}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Your API key is never stored permanently and only used for this session."})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>b(!1),className:"px-3 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"px-3 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors",children:"Save Key"})]})]}),_&&(0,s.jsxs)("form",{onSubmit:D,className:"mb-4",children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Describe Your Schedule"}),(0,s.jsx)("textarea",{value:k,onChange:e=>C(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500",placeholder:"I work Monday to Friday from 9 AM to 5 PM. I have a gym class on Tuesday and Thursday at 6 PM for 1 hour. I need to study Spanish for at least 3 hours spread across the week...",rows:6,required:!0}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Describe your routine, commitments, and preferences in detail. The AI will create a complete weekly schedule."})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>S(!1),className:"px-3 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:p,className:"px-3 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors "+(p?"opacity-75 cursor-not-allowed":""),children:p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline-block",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):"Create Schedule"})]})]}),E&&(0,s.jsxs)("form",{onSubmit:M,className:"mb-4",children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Public Calendar URL (iCal/ics)"}),(0,s.jsx)("input",{type:"url",value:j,onChange:e=>P(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500",placeholder:"https://calendar.google.com/calendar/ical/...",required:!0}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a public calendar URL (must be publicly accessible). From Google Calendar, go to Settings > Settings for my calendars > [Select calendar] > Integrate calendar > Public URL to this calendar."})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>N(!1),className:"px-3 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:p,className:"px-3 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors "+(p?"opacity-75 cursor-not-allowed":""),children:p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline-block",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Import Calendar"})]})]}),A&&(0,s.jsxs)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:[(0,s.jsx)("p",{className:"text-sm text-red-700 font-medium mb-3",children:"Are you sure you want to clear all schedule data? This cannot be undone."}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:B,className:"px-3 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:L,className:"px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors",children:"Clear All Data"})]})]}),!v&&!_&&!E&&!A&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Daily Study Goal (minutes)"}),(0,s.jsx)("input",{type:"number",name:"dailyLearningMinutes",value:g.dailyLearningMinutes,onChange:O,min:"30",max:"360",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Study Block (min)"}),(0,s.jsx)("input",{type:"number",name:"minimumLearningBlockMinutes",value:g.minimumLearningBlockMinutes,onChange:O,min:"15",max:"60",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Study Block (min)"}),(0,s.jsx)("input",{type:"number",name:"maximumLearningBlockMinutes",value:g.maximumLearningBlockMinutes,onChange:O,min:"30",max:"180",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Learning Science Features"}),(0,s.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,s.jsx)("p",{children:"\u2713 Spaced repetition for better retention"}),(0,s.jsx)("p",{children:"\u2713 Interleaving subjects for improved learning"}),(0,s.jsx)("p",{children:"\u2713 Strategic breaks based on cognitive science"}),(0,s.jsx)("p",{children:"\u2713 Time-blocking optimized for your schedule"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)("button",{onClick:R,className:"mr-2 px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors",children:"Clear All Data"})}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>h(!1),className:"px-3 py-2 bg-gray-300 text-gray-800 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:z,disabled:p,className:"px-3 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors "+(p?"opacity-75 cursor-not-allowed":""),children:p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline-block",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):"Optimize Schedule"})]})]})]})]})]})},Ua=()=>{const[t,n]=(0,e.useState)(!1);return(0,s.jsx)(v,{children:(0,s.jsx)(h,{children:(0,s.jsx)(c,{children:(0,s.jsx)(g,{children:(0,s.jsx)(ka,{children:(0,s.jsxs)("div",{className:"container mx-auto p-4 max-w-4xl dark:bg-gray-900 transition-colors duration-200",children:[(0,s.jsx)(ja,{}),(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsx)(za,{}),(0,s.jsx)("button",{onClick:()=>n(!t),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium flex items-center","aria-expanded":t,children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"Hide Search & Filters"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"Show Search & Filters"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]}),t&&(0,s.jsx)(Aa,{}),(0,s.jsx)(Pa,{}),(0,s.jsx)(La,{}),(0,s.jsx)(Ba,{}),(0,s.jsx)(Fa,{})]})})})})})})};t.createRoot(document.getElementById("root")).render((0,s.jsx)(e.StrictMode,{children:(0,s.jsx)(Ua,{})}))})()})();
//# sourceMappingURL=main.2e298836.js.map